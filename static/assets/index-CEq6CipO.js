var Z2=Object.defineProperty;var Q2=(e,n,t)=>n in e?Z2(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t;var Q=(e,n,t)=>Q2(e,typeof n!="symbol"?n+"":n,t);(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function t(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=t(o);fetch(o.href,c)}})();function Gp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Tu={exports:{}},ds={},zu={exports:{}},Oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xf;function J2(){if(Xf)return Oe;Xf=1;var e=Symbol.for("react.element"),n=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),y=Symbol.iterator;function b(L){return L===null||typeof L!="object"?null:(L=y&&L[y]||L["@@iterator"],typeof L=="function"?L:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,S={};function N(L,K,ze){this.props=L,this.context=K,this.refs=S,this.updater=ze||v}N.prototype.isReactComponent={},N.prototype.setState=function(L,K){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,K,"setState")},N.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function C(){}C.prototype=N.prototype;function M(L,K,ze){this.props=L,this.context=K,this.refs=S,this.updater=ze||v}var _=M.prototype=new C;_.constructor=M,k(_,N.prototype),_.isPureReactComponent=!0;var T=Array.isArray,R=Object.prototype.hasOwnProperty,A={current:null},O={key:!0,ref:!0,__self:!0,__source:!0};function U(L,K,ze){var Pe,Me={},Ie=null,Fe=null;if(K!=null)for(Pe in K.ref!==void 0&&(Fe=K.ref),K.key!==void 0&&(Ie=""+K.key),K)R.call(K,Pe)&&!O.hasOwnProperty(Pe)&&(Me[Pe]=K[Pe]);var Le=arguments.length-2;if(Le===1)Me.children=ze;else if(1<Le){for(var We=Array(Le),ht=0;ht<Le;ht++)We[ht]=arguments[ht+2];Me.children=We}if(L&&L.defaultProps)for(Pe in Le=L.defaultProps,Le)Me[Pe]===void 0&&(Me[Pe]=Le[Pe]);return{$$typeof:e,type:L,key:Ie,ref:Fe,props:Me,_owner:A.current}}function ae(L,K){return{$$typeof:e,type:L.type,key:K,ref:L.ref,props:L.props,_owner:L._owner}}function H(L){return typeof L=="object"&&L!==null&&L.$$typeof===e}function le(L){var K={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(ze){return K[ze]})}var je=/\/+/g;function Ae(L,K){return typeof L=="object"&&L!==null&&L.key!=null?le(""+L.key):K.toString(36)}function Te(L,K,ze,Pe,Me){var Ie=typeof L;(Ie==="undefined"||Ie==="boolean")&&(L=null);var Fe=!1;if(L===null)Fe=!0;else switch(Ie){case"string":case"number":Fe=!0;break;case"object":switch(L.$$typeof){case e:case n:Fe=!0}}if(Fe)return Fe=L,Me=Me(Fe),L=Pe===""?"."+Ae(Fe,0):Pe,T(Me)?(ze="",L!=null&&(ze=L.replace(je,"$&/")+"/"),Te(Me,K,ze,"",function(ht){return ht})):Me!=null&&(H(Me)&&(Me=ae(Me,ze+(!Me.key||Fe&&Fe.key===Me.key?"":(""+Me.key).replace(je,"$&/")+"/")+L)),K.push(Me)),1;if(Fe=0,Pe=Pe===""?".":Pe+":",T(L))for(var Le=0;Le<L.length;Le++){Ie=L[Le];var We=Pe+Ae(Ie,Le);Fe+=Te(Ie,K,ze,We,Me)}else if(We=b(L),typeof We=="function")for(L=We.call(L),Le=0;!(Ie=L.next()).done;)Ie=Ie.value,We=Pe+Ae(Ie,Le++),Fe+=Te(Ie,K,ze,We,Me);else if(Ie==="object")throw K=String(L),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.");return Fe}function $e(L,K,ze){if(L==null)return L;var Pe=[],Me=0;return Te(L,Pe,"","",function(Ie){return K.call(ze,Ie,Me++)}),Pe}function De(L){if(L._status===-1){var K=L._result;K=K(),K.then(function(ze){(L._status===0||L._status===-1)&&(L._status=1,L._result=ze)},function(ze){(L._status===0||L._status===-1)&&(L._status=2,L._result=ze)}),L._status===-1&&(L._status=0,L._result=K)}if(L._status===1)return L._result.default;throw L._result}var xe={current:null},Y={transition:null},de={ReactCurrentDispatcher:xe,ReactCurrentBatchConfig:Y,ReactCurrentOwner:A};function ie(){throw Error("act(...) is not supported in production builds of React.")}return Oe.Children={map:$e,forEach:function(L,K,ze){$e(L,function(){K.apply(this,arguments)},ze)},count:function(L){var K=0;return $e(L,function(){K++}),K},toArray:function(L){return $e(L,function(K){return K})||[]},only:function(L){if(!H(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},Oe.Component=N,Oe.Fragment=t,Oe.Profiler=o,Oe.PureComponent=M,Oe.StrictMode=s,Oe.Suspense=h,Oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=de,Oe.act=ie,Oe.cloneElement=function(L,K,ze){if(L==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+L+".");var Pe=k({},L.props),Me=L.key,Ie=L.ref,Fe=L._owner;if(K!=null){if(K.ref!==void 0&&(Ie=K.ref,Fe=A.current),K.key!==void 0&&(Me=""+K.key),L.type&&L.type.defaultProps)var Le=L.type.defaultProps;for(We in K)R.call(K,We)&&!O.hasOwnProperty(We)&&(Pe[We]=K[We]===void 0&&Le!==void 0?Le[We]:K[We])}var We=arguments.length-2;if(We===1)Pe.children=ze;else if(1<We){Le=Array(We);for(var ht=0;ht<We;ht++)Le[ht]=arguments[ht+2];Pe.children=Le}return{$$typeof:e,type:L.type,key:Me,ref:Ie,props:Pe,_owner:Fe}},Oe.createContext=function(L){return L={$$typeof:u,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},L.Provider={$$typeof:c,_context:L},L.Consumer=L},Oe.createElement=U,Oe.createFactory=function(L){var K=U.bind(null,L);return K.type=L,K},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(L){return{$$typeof:f,render:L}},Oe.isValidElement=H,Oe.lazy=function(L){return{$$typeof:p,_payload:{_status:-1,_result:L},_init:De}},Oe.memo=function(L,K){return{$$typeof:m,type:L,compare:K===void 0?null:K}},Oe.startTransition=function(L){var K=Y.transition;Y.transition={};try{L()}finally{Y.transition=K}},Oe.unstable_act=ie,Oe.useCallback=function(L,K){return xe.current.useCallback(L,K)},Oe.useContext=function(L){return xe.current.useContext(L)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(L){return xe.current.useDeferredValue(L)},Oe.useEffect=function(L,K){return xe.current.useEffect(L,K)},Oe.useId=function(){return xe.current.useId()},Oe.useImperativeHandle=function(L,K,ze){return xe.current.useImperativeHandle(L,K,ze)},Oe.useInsertionEffect=function(L,K){return xe.current.useInsertionEffect(L,K)},Oe.useLayoutEffect=function(L,K){return xe.current.useLayoutEffect(L,K)},Oe.useMemo=function(L,K){return xe.current.useMemo(L,K)},Oe.useReducer=function(L,K,ze){return xe.current.useReducer(L,K,ze)},Oe.useRef=function(L){return xe.current.useRef(L)},Oe.useState=function(L){return xe.current.useState(L)},Oe.useSyncExternalStore=function(L,K,ze){return xe.current.useSyncExternalStore(L,K,ze)},Oe.useTransition=function(){return xe.current.useTransition()},Oe.version="18.3.1",Oe}var Zf;function Ad(){return Zf||(Zf=1,zu.exports=J2()),zu.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qf;function eb(){if(Qf)return ds;Qf=1;var e=Ad(),n=Symbol.for("react.element"),t=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function u(f,h,m){var p,y={},b=null,v=null;m!==void 0&&(b=""+m),h.key!==void 0&&(b=""+h.key),h.ref!==void 0&&(v=h.ref);for(p in h)s.call(h,p)&&!c.hasOwnProperty(p)&&(y[p]=h[p]);if(f&&f.defaultProps)for(p in h=f.defaultProps,h)y[p]===void 0&&(y[p]=h[p]);return{$$typeof:n,type:f,key:b,ref:v,props:y,_owner:o.current}}return ds.Fragment=t,ds.jsx=u,ds.jsxs=u,ds}var Jf;function tb(){return Jf||(Jf=1,Tu.exports=eb()),Tu.exports}var i=tb(),j=Ad();const ai=Gp(j);var ll={},Pu={exports:{}},Gt={},Eu={exports:{}},Mu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var em;function nb(){return em||(em=1,(function(e){function n(Y,de){var ie=Y.length;Y.push(de);e:for(;0<ie;){var L=ie-1>>>1,K=Y[L];if(0<o(K,de))Y[L]=de,Y[ie]=K,ie=L;else break e}}function t(Y){return Y.length===0?null:Y[0]}function s(Y){if(Y.length===0)return null;var de=Y[0],ie=Y.pop();if(ie!==de){Y[0]=ie;e:for(var L=0,K=Y.length,ze=K>>>1;L<ze;){var Pe=2*(L+1)-1,Me=Y[Pe],Ie=Pe+1,Fe=Y[Ie];if(0>o(Me,ie))Ie<K&&0>o(Fe,Me)?(Y[L]=Fe,Y[Ie]=ie,L=Ie):(Y[L]=Me,Y[Pe]=ie,L=Pe);else if(Ie<K&&0>o(Fe,ie))Y[L]=Fe,Y[Ie]=ie,L=Ie;else break e}}return de}function o(Y,de){var ie=Y.sortIndex-de.sortIndex;return ie!==0?ie:Y.id-de.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;e.unstable_now=function(){return c.now()}}else{var u=Date,f=u.now();e.unstable_now=function(){return u.now()-f}}var h=[],m=[],p=1,y=null,b=3,v=!1,k=!1,S=!1,N=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(Y){for(var de=t(m);de!==null;){if(de.callback===null)s(m);else if(de.startTime<=Y)s(m),de.sortIndex=de.expirationTime,n(h,de);else break;de=t(m)}}function T(Y){if(S=!1,_(Y),!k)if(t(h)!==null)k=!0,De(R);else{var de=t(m);de!==null&&xe(T,de.startTime-Y)}}function R(Y,de){k=!1,S&&(S=!1,C(U),U=-1),v=!0;var ie=b;try{for(_(de),y=t(h);y!==null&&(!(y.expirationTime>de)||Y&&!le());){var L=y.callback;if(typeof L=="function"){y.callback=null,b=y.priorityLevel;var K=L(y.expirationTime<=de);de=e.unstable_now(),typeof K=="function"?y.callback=K:y===t(h)&&s(h),_(de)}else s(h);y=t(h)}if(y!==null)var ze=!0;else{var Pe=t(m);Pe!==null&&xe(T,Pe.startTime-de),ze=!1}return ze}finally{y=null,b=ie,v=!1}}var A=!1,O=null,U=-1,ae=5,H=-1;function le(){return!(e.unstable_now()-H<ae)}function je(){if(O!==null){var Y=e.unstable_now();H=Y;var de=!0;try{de=O(!0,Y)}finally{de?Ae():(A=!1,O=null)}}else A=!1}var Ae;if(typeof M=="function")Ae=function(){M(je)};else if(typeof MessageChannel<"u"){var Te=new MessageChannel,$e=Te.port2;Te.port1.onmessage=je,Ae=function(){$e.postMessage(null)}}else Ae=function(){N(je,0)};function De(Y){O=Y,A||(A=!0,Ae())}function xe(Y,de){U=N(function(){Y(e.unstable_now())},de)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Y){Y.callback=null},e.unstable_continueExecution=function(){k||v||(k=!0,De(R))},e.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ae=0<Y?Math.floor(1e3/Y):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_getFirstCallbackNode=function(){return t(h)},e.unstable_next=function(Y){switch(b){case 1:case 2:case 3:var de=3;break;default:de=b}var ie=b;b=de;try{return Y()}finally{b=ie}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Y,de){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ie=b;b=Y;try{return de()}finally{b=ie}},e.unstable_scheduleCallback=function(Y,de,ie){var L=e.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?L+ie:L):ie=L,Y){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=ie+K,Y={id:p++,callback:de,priorityLevel:Y,startTime:ie,expirationTime:K,sortIndex:-1},ie>L?(Y.sortIndex=ie,n(m,Y),t(h)===null&&Y===t(m)&&(S?(C(U),U=-1):S=!0,xe(T,ie-L))):(Y.sortIndex=K,n(h,Y),k||v||(k=!0,De(R))),Y},e.unstable_shouldYield=le,e.unstable_wrapCallback=function(Y){var de=b;return function(){var ie=b;b=de;try{return Y.apply(this,arguments)}finally{b=ie}}}})(Mu)),Mu}var tm;function rb(){return tm||(tm=1,Eu.exports=nb()),Eu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nm;function ab(){if(nm)return Gt;nm=1;var e=Ad(),n=rb();function t(r){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+r,l=1;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+r+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function c(r,a){u(r,a),u(r+"Capture",a)}function u(r,a){for(o[r]=a,r=0;r<a.length;r++)s.add(a[r])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},y={};function b(r){return h.call(y,r)?!0:h.call(p,r)?!1:m.test(r)?y[r]=!0:(p[r]=!0,!1)}function v(r,a,l,d){if(l!==null&&l.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return d?!1:l!==null?!l.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function k(r,a,l,d){if(a===null||typeof a>"u"||v(r,a,l,d))return!0;if(d)return!1;if(l!==null)switch(l.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function S(r,a,l,d,g,x,w){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=d,this.attributeNamespace=g,this.mustUseProperty=l,this.propertyName=r,this.type=a,this.sanitizeURL=x,this.removeEmptyString=w}var N={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){N[r]=new S(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var a=r[0];N[a]=new S(a,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){N[r]=new S(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){N[r]=new S(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){N[r]=new S(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){N[r]=new S(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){N[r]=new S(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){N[r]=new S(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){N[r]=new S(r,5,!1,r.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function M(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var a=r.replace(C,M);N[a]=new S(a,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var a=r.replace(C,M);N[a]=new S(a,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var a=r.replace(C,M);N[a]=new S(a,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){N[r]=new S(r,1,!1,r.toLowerCase(),null,!1,!1)}),N.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){N[r]=new S(r,1,!1,r.toLowerCase(),null,!0,!0)});function _(r,a,l,d){var g=N.hasOwnProperty(a)?N[a]:null;(g!==null?g.type!==0:d||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(k(a,l,g,d)&&(l=null),d||g===null?b(a)&&(l===null?r.removeAttribute(a):r.setAttribute(a,""+l)):g.mustUseProperty?r[g.propertyName]=l===null?g.type===3?!1:"":l:(a=g.attributeName,d=g.attributeNamespace,l===null?r.removeAttribute(a):(g=g.type,l=g===3||g===4&&l===!0?"":""+l,d?r.setAttributeNS(d,a,l):r.setAttribute(a,l))))}var T=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,R=Symbol.for("react.element"),A=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),ae=Symbol.for("react.profiler"),H=Symbol.for("react.provider"),le=Symbol.for("react.context"),je=Symbol.for("react.forward_ref"),Ae=Symbol.for("react.suspense"),Te=Symbol.for("react.suspense_list"),$e=Symbol.for("react.memo"),De=Symbol.for("react.lazy"),xe=Symbol.for("react.offscreen"),Y=Symbol.iterator;function de(r){return r===null||typeof r!="object"?null:(r=Y&&r[Y]||r["@@iterator"],typeof r=="function"?r:null)}var ie=Object.assign,L;function K(r){if(L===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);L=a&&a[1]||""}return`
`+L+r}var ze=!1;function Pe(r,a){if(!r||ze)return"";ze=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(B){var d=B}Reflect.construct(r,[],a)}else{try{a.call()}catch(B){d=B}r.call(a.prototype)}else{try{throw Error()}catch(B){d=B}r()}}catch(B){if(B&&d&&typeof B.stack=="string"){for(var g=B.stack.split(`
`),x=d.stack.split(`
`),w=g.length-1,z=x.length-1;1<=w&&0<=z&&g[w]!==x[z];)z--;for(;1<=w&&0<=z;w--,z--)if(g[w]!==x[z]){if(w!==1||z!==1)do if(w--,z--,0>z||g[w]!==x[z]){var I=`
`+g[w].replace(" at new "," at ");return r.displayName&&I.includes("<anonymous>")&&(I=I.replace("<anonymous>",r.displayName)),I}while(1<=w&&0<=z);break}}}finally{ze=!1,Error.prepareStackTrace=l}return(r=r?r.displayName||r.name:"")?K(r):""}function Me(r){switch(r.tag){case 5:return K(r.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return r=Pe(r.type,!1),r;case 11:return r=Pe(r.type.render,!1),r;case 1:return r=Pe(r.type,!0),r;default:return""}}function Ie(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case O:return"Fragment";case A:return"Portal";case ae:return"Profiler";case U:return"StrictMode";case Ae:return"Suspense";case Te:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case le:return(r.displayName||"Context")+".Consumer";case H:return(r._context.displayName||"Context")+".Provider";case je:var a=r.render;return r=r.displayName,r||(r=a.displayName||a.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case $e:return a=r.displayName||null,a!==null?a:Ie(r.type)||"Memo";case De:a=r._payload,r=r._init;try{return Ie(r(a))}catch{}}return null}function Fe(r){var a=r.type;switch(r.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=a.render,r=r.displayName||r.name||"",a.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ie(a);case 8:return a===U?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function Le(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function We(r){var a=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function ht(r){var a=We(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,a),d=""+r[a];if(!r.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var g=l.get,x=l.set;return Object.defineProperty(r,a,{configurable:!0,get:function(){return g.call(this)},set:function(w){d=""+w,x.call(this,w)}}),Object.defineProperty(r,a,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(w){d=""+w},stopTracking:function(){r._valueTracker=null,delete r[a]}}}}function wn(r){r._valueTracker||(r._valueTracker=ht(r))}function Qt(r){if(!r)return!1;var a=r._valueTracker;if(!a)return!0;var l=a.getValue(),d="";return r&&(d=We(r)?r.checked?"true":"false":r.value),r=d,r!==l?(a.setValue(r),!0):!1}function P(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function X(r,a){var l=a.checked;return ie({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??r._wrapperState.initialChecked})}function we(r,a){var l=a.defaultValue==null?"":a.defaultValue,d=a.checked!=null?a.checked:a.defaultChecked;l=Le(a.value!=null?a.value:l),r._wrapperState={initialChecked:d,initialValue:l,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function Re(r,a){a=a.checked,a!=null&&_(r,"checked",a,!1)}function _e(r,a){Re(r,a);var l=Le(a.value),d=a.type;if(l!=null)d==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+l):r.value!==""+l&&(r.value=""+l);else if(d==="submit"||d==="reset"){r.removeAttribute("value");return}a.hasOwnProperty("value")?Ye(r,a.type,l):a.hasOwnProperty("defaultValue")&&Ye(r,a.type,Le(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(r.defaultChecked=!!a.defaultChecked)}function se(r,a,l){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var d=a.type;if(!(d!=="submit"&&d!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+r._wrapperState.initialValue,l||a===r.value||(r.value=a),r.defaultValue=a}l=r.name,l!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,l!==""&&(r.name=l)}function Ye(r,a,l){(a!=="number"||P(r.ownerDocument)!==r)&&(l==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+l&&(r.defaultValue=""+l))}var kt=Array.isArray;function Ve(r,a,l,d){if(r=r.options,a){a={};for(var g=0;g<l.length;g++)a["$"+l[g]]=!0;for(l=0;l<r.length;l++)g=a.hasOwnProperty("$"+r[l].value),r[l].selected!==g&&(r[l].selected=g),g&&d&&(r[l].defaultSelected=!0)}else{for(l=""+Le(l),a=null,g=0;g<r.length;g++){if(r[g].value===l){r[g].selected=!0,d&&(r[g].defaultSelected=!0);return}a!==null||r[g].disabled||(a=r[g])}a!==null&&(a.selected=!0)}}function sn(r,a){if(a.dangerouslySetInnerHTML!=null)throw Error(t(91));return ie({},a,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function za(r,a){var l=a.value;if(l==null){if(l=a.children,a=a.defaultValue,l!=null){if(a!=null)throw Error(t(92));if(kt(l)){if(1<l.length)throw Error(t(93));l=l[0]}a=l}a==null&&(a=""),l=a}r._wrapperState={initialValue:Le(l)}}function Pa(r,a){var l=Le(a.value),d=Le(a.defaultValue);l!=null&&(l=""+l,l!==r.value&&(r.value=l),a.defaultValue==null&&r.defaultValue!==l&&(r.defaultValue=l)),d!=null&&(r.defaultValue=""+d)}function mr(r){var a=r.textContent;a===r._wrapperState.initialValue&&a!==""&&a!==null&&(r.value=a)}function Kr(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pr(r,a){return r==null||r==="http://www.w3.org/1999/xhtml"?Kr(a):r==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var jn,Gr=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,l,d,g){MSApp.execUnsafeLocalFunction(function(){return r(a,l,d,g)})}:r})(function(r,a){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=a;else{for(jn=jn||document.createElement("div"),jn.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=jn.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;a.firstChild;)r.appendChild(a.firstChild)}});function In(r,a){if(a){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=a;return}}r.textContent=a}var Rn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ea=["Webkit","ms","Moz","O"];Object.keys(Rn).forEach(function(r){Ea.forEach(function(a){a=a+r.charAt(0).toUpperCase()+r.substring(1),Rn[a]=Rn[r]})});function Xr(r,a,l){return a==null||typeof a=="boolean"||a===""?"":l||typeof a!="number"||a===0||Rn.hasOwnProperty(r)&&Rn[r]?(""+a).trim():a+"px"}function Zr(r,a){r=r.style;for(var l in a)if(a.hasOwnProperty(l)){var d=l.indexOf("--")===0,g=Xr(l,a[l],d);l==="float"&&(l="cssFloat"),d?r.setProperty(l,g):r[l]=g}}var Ma=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gr(r,a){if(a){if(Ma[r]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(t(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(t(61))}if(a.style!=null&&typeof a.style!="object")throw Error(t(62))}}function xr(r,a){if(r.indexOf("-")===-1)return typeof a.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yr=null;function V(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var te=null,ue=null,J=null;function fe(r){if(r=Xi(r)){if(typeof te!="function")throw Error(t(280));var a=r.stateNode;a&&(a=No(a),te(r.stateNode,r.type,a))}}function oe(r){ue?J?J.push(r):J=[r]:ue=r}function be(){if(ue){var r=ue,a=J;if(J=ue=null,fe(r),a)for(r=0;r<a.length;r++)fe(a[r])}}function Xe(r,a){return r(a)}function on(){}var ln=!1;function Ze(r,a,l){if(ln)return r(a,l);ln=!0;try{return Xe(r,a,l)}finally{ln=!1,(ue!==null||J!==null)&&(on(),be())}}function cn(r,a){var l=r.stateNode;if(l===null)return null;var d=No(l);if(d===null)return null;l=d[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(t(231,a,typeof l));return l}var Xn=!1;if(f)try{var Nn={};Object.defineProperty(Nn,"passive",{get:function(){Xn=!0}}),window.addEventListener("test",Nn,Nn),window.removeEventListener("test",Nn,Nn)}catch{Xn=!1}function ki(r,a,l,d,g,x,w,z,I){var B=Array.prototype.slice.call(arguments,3);try{a.apply(l,B)}catch(ee){this.onError(ee)}}var Zn=!1,Qr=null,Jr=!1,Aa=null,Gs={onError:function(r){Zn=!0,Qr=r}};function Xs(r,a,l,d,g,x,w,z,I){Zn=!1,Qr=null,ki.apply(Gs,arguments)}function Zs(r,a,l,d,g,x,w,z,I){if(Xs.apply(this,arguments),Zn){if(Zn){var B=Qr;Zn=!1,Qr=null}else throw Error(t(198));Jr||(Jr=!0,Aa=B)}}function Dn(r){var a=r,l=r;if(r.alternate)for(;a.return;)a=a.return;else{r=a;do a=r,(a.flags&4098)!==0&&(l=a.return),r=a.return;while(r)}return a.tag===3?l:null}function _i(r){if(r.tag===13){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function Ci(r){if(Dn(r)!==r)throw Error(t(188))}function Qs(r){var a=r.alternate;if(!a){if(a=Dn(r),a===null)throw Error(t(188));return a!==r?null:r}for(var l=r,d=a;;){var g=l.return;if(g===null)break;var x=g.alternate;if(x===null){if(d=g.return,d!==null){l=d;continue}break}if(g.child===x.child){for(x=g.child;x;){if(x===l)return Ci(g),r;if(x===d)return Ci(g),a;x=x.sibling}throw Error(t(188))}if(l.return!==d.return)l=g,d=x;else{for(var w=!1,z=g.child;z;){if(z===l){w=!0,l=g,d=x;break}if(z===d){w=!0,d=g,l=x;break}z=z.sibling}if(!w){for(z=x.child;z;){if(z===l){w=!0,l=x,d=g;break}if(z===d){w=!0,d=x,l=g;break}z=z.sibling}if(!w)throw Error(t(189))}}if(l.alternate!==d)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?r:a}function Ti(r){return r=Qs(r),r!==null?zi(r):null}function zi(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var a=zi(r);if(a!==null)return a;r=r.sibling}return null}var Pi=n.unstable_scheduleCallback,Ei=n.unstable_cancelCallback,Js=n.unstable_shouldYield,eo=n.unstable_requestPaint,nt=n.unstable_now,to=n.unstable_getCurrentPriorityLevel,Ia=n.unstable_ImmediatePriority,Mi=n.unstable_UserBlockingPriority,ea=n.unstable_NormalPriority,no=n.unstable_LowPriority,Ai=n.unstable_IdlePriority,ta=null,Jt=null;function ro(r){if(Jt&&typeof Jt.onCommitFiberRoot=="function")try{Jt.onCommitFiberRoot(ta,r,void 0,(r.current.flags&128)===128)}catch{}}var qt=Math.clz32?Math.clz32:so,ao=Math.log,io=Math.LN2;function so(r){return r>>>=0,r===0?32:31-(ao(r)/io|0)|0}var na=64,ra=4194304;function br(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function aa(r,a){var l=r.pendingLanes;if(l===0)return 0;var d=0,g=r.suspendedLanes,x=r.pingedLanes,w=l&268435455;if(w!==0){var z=w&~g;z!==0?d=br(z):(x&=w,x!==0&&(d=br(x)))}else w=l&~g,w!==0?d=br(w):x!==0&&(d=br(x));if(d===0)return 0;if(a!==0&&a!==d&&(a&g)===0&&(g=d&-d,x=a&-a,g>=x||g===16&&(x&4194240)!==0))return a;if((d&4)!==0&&(d|=l&16),a=r.entangledLanes,a!==0)for(r=r.entanglements,a&=d;0<a;)l=31-qt(a),g=1<<l,d|=r[l],a&=~g;return d}function W(r,a){switch(r){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ke(r,a){for(var l=r.suspendedLanes,d=r.pingedLanes,g=r.expirationTimes,x=r.pendingLanes;0<x;){var w=31-qt(x),z=1<<w,I=g[w];I===-1?((z&l)===0||(z&d)!==0)&&(g[w]=W(z,a)):I<=a&&(r.expiredLanes|=z),x&=~z}}function ce(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function ve(){var r=na;return na<<=1,(na&4194240)===0&&(na=64),r}function He(r){for(var a=[],l=0;31>l;l++)a.push(r);return a}function Lt(r,a,l){r.pendingLanes|=a,a!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,a=31-qt(a),r[a]=l}function Ln(r,a){var l=r.pendingLanes&~a;r.pendingLanes=a,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=a,r.mutableReadLanes&=a,r.entangledLanes&=a,a=r.entanglements;var d=r.eventTimes;for(r=r.expirationTimes;0<l;){var g=31-qt(l),x=1<<g;a[g]=0,d[g]=-1,r[g]=-1,l&=~x}}function ia(r,a){var l=r.entangledLanes|=a;for(r=r.entanglements;l;){var d=31-qt(l),g=1<<d;g&a|r[d]&a&&(r[d]|=a),l&=~g}}var Ke=0;function C0(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var T0,Ql,z0,P0,E0,Jl=!1,oo=[],vr=null,wr=null,jr=null,Ii=new Map,Ri=new Map,Nr=[],by="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function M0(r,a){switch(r){case"focusin":case"focusout":vr=null;break;case"dragenter":case"dragleave":wr=null;break;case"mouseover":case"mouseout":jr=null;break;case"pointerover":case"pointerout":Ii.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ri.delete(a.pointerId)}}function Di(r,a,l,d,g,x){return r===null||r.nativeEvent!==x?(r={blockedOn:a,domEventName:l,eventSystemFlags:d,nativeEvent:x,targetContainers:[g]},a!==null&&(a=Xi(a),a!==null&&Ql(a)),r):(r.eventSystemFlags|=d,a=r.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),r)}function vy(r,a,l,d,g){switch(a){case"focusin":return vr=Di(vr,r,a,l,d,g),!0;case"dragenter":return wr=Di(wr,r,a,l,d,g),!0;case"mouseover":return jr=Di(jr,r,a,l,d,g),!0;case"pointerover":var x=g.pointerId;return Ii.set(x,Di(Ii.get(x)||null,r,a,l,d,g)),!0;case"gotpointercapture":return x=g.pointerId,Ri.set(x,Di(Ri.get(x)||null,r,a,l,d,g)),!0}return!1}function A0(r){var a=sa(r.target);if(a!==null){var l=Dn(a);if(l!==null){if(a=l.tag,a===13){if(a=_i(l),a!==null){r.blockedOn=a,E0(r.priority,function(){z0(l)});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function lo(r){if(r.blockedOn!==null)return!1;for(var a=r.targetContainers;0<a.length;){var l=tc(r.domEventName,r.eventSystemFlags,a[0],r.nativeEvent);if(l===null){l=r.nativeEvent;var d=new l.constructor(l.type,l);yr=d,l.target.dispatchEvent(d),yr=null}else return a=Xi(l),a!==null&&Ql(a),r.blockedOn=l,!1;a.shift()}return!0}function I0(r,a,l){lo(r)&&l.delete(a)}function wy(){Jl=!1,vr!==null&&lo(vr)&&(vr=null),wr!==null&&lo(wr)&&(wr=null),jr!==null&&lo(jr)&&(jr=null),Ii.forEach(I0),Ri.forEach(I0)}function Li(r,a){r.blockedOn===a&&(r.blockedOn=null,Jl||(Jl=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,wy)))}function Oi(r){function a(g){return Li(g,r)}if(0<oo.length){Li(oo[0],r);for(var l=1;l<oo.length;l++){var d=oo[l];d.blockedOn===r&&(d.blockedOn=null)}}for(vr!==null&&Li(vr,r),wr!==null&&Li(wr,r),jr!==null&&Li(jr,r),Ii.forEach(a),Ri.forEach(a),l=0;l<Nr.length;l++)d=Nr[l],d.blockedOn===r&&(d.blockedOn=null);for(;0<Nr.length&&(l=Nr[0],l.blockedOn===null);)A0(l),l.blockedOn===null&&Nr.shift()}var Ra=T.ReactCurrentBatchConfig,co=!0;function jy(r,a,l,d){var g=Ke,x=Ra.transition;Ra.transition=null;try{Ke=1,ec(r,a,l,d)}finally{Ke=g,Ra.transition=x}}function Ny(r,a,l,d){var g=Ke,x=Ra.transition;Ra.transition=null;try{Ke=4,ec(r,a,l,d)}finally{Ke=g,Ra.transition=x}}function ec(r,a,l,d){if(co){var g=tc(r,a,l,d);if(g===null)yc(r,a,d,uo,l),M0(r,d);else if(vy(g,r,a,l,d))d.stopPropagation();else if(M0(r,d),a&4&&-1<by.indexOf(r)){for(;g!==null;){var x=Xi(g);if(x!==null&&T0(x),x=tc(r,a,l,d),x===null&&yc(r,a,d,uo,l),x===g)break;g=x}g!==null&&d.stopPropagation()}else yc(r,a,d,null,l)}}var uo=null;function tc(r,a,l,d){if(uo=null,r=V(d),r=sa(r),r!==null)if(a=Dn(r),a===null)r=null;else if(l=a.tag,l===13){if(r=_i(a),r!==null)return r;r=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;r=null}else a!==r&&(r=null);return uo=r,null}function R0(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(to()){case Ia:return 1;case Mi:return 4;case ea:case no:return 16;case Ai:return 536870912;default:return 16}default:return 16}}var Sr=null,nc=null,ho=null;function D0(){if(ho)return ho;var r,a=nc,l=a.length,d,g="value"in Sr?Sr.value:Sr.textContent,x=g.length;for(r=0;r<l&&a[r]===g[r];r++);var w=l-r;for(d=1;d<=w&&a[l-d]===g[x-d];d++);return ho=g.slice(r,1<d?1-d:void 0)}function fo(r){var a=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&a===13&&(r=13)):r=a,r===10&&(r=13),32<=r||r===13?r:0}function mo(){return!0}function L0(){return!1}function en(r){function a(l,d,g,x,w){this._reactName=l,this._targetInst=g,this.type=d,this.nativeEvent=x,this.target=w,this.currentTarget=null;for(var z in r)r.hasOwnProperty(z)&&(l=r[z],this[z]=l?l(x):x[z]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?mo:L0,this.isPropagationStopped=L0,this}return ie(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=mo)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=mo)},persist:function(){},isPersistent:mo}),a}var Da={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rc=en(Da),$i=ie({},Da,{view:0,detail:0}),Sy=en($i),ac,ic,Fi,po=ie({},$i,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:oc,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Fi&&(Fi&&r.type==="mousemove"?(ac=r.screenX-Fi.screenX,ic=r.screenY-Fi.screenY):ic=ac=0,Fi=r),ac)},movementY:function(r){return"movementY"in r?r.movementY:ic}}),O0=en(po),ky=ie({},po,{dataTransfer:0}),_y=en(ky),Cy=ie({},$i,{relatedTarget:0}),sc=en(Cy),Ty=ie({},Da,{animationName:0,elapsedTime:0,pseudoElement:0}),zy=en(Ty),Py=ie({},Da,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Ey=en(Py),My=ie({},Da,{data:0}),$0=en(My),Ay={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Iy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ry={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Dy(r){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(r):(r=Ry[r])?!!a[r]:!1}function oc(){return Dy}var Ly=ie({},$i,{key:function(r){if(r.key){var a=Ay[r.key]||r.key;if(a!=="Unidentified")return a}return r.type==="keypress"?(r=fo(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Iy[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:oc,charCode:function(r){return r.type==="keypress"?fo(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?fo(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Oy=en(Ly),$y=ie({},po,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),F0=en($y),Fy=ie({},$i,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:oc}),Vy=en(Fy),By=ie({},Da,{propertyName:0,elapsedTime:0,pseudoElement:0}),qy=en(By),Wy=ie({},po,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Hy=en(Wy),Uy=[9,13,27,32],lc=f&&"CompositionEvent"in window,Vi=null;f&&"documentMode"in document&&(Vi=document.documentMode);var Yy=f&&"TextEvent"in window&&!Vi,V0=f&&(!lc||Vi&&8<Vi&&11>=Vi),B0=" ",q0=!1;function W0(r,a){switch(r){case"keyup":return Uy.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function H0(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var La=!1;function Ky(r,a){switch(r){case"compositionend":return H0(a);case"keypress":return a.which!==32?null:(q0=!0,B0);case"textInput":return r=a.data,r===B0&&q0?null:r;default:return null}}function Gy(r,a){if(La)return r==="compositionend"||!lc&&W0(r,a)?(r=D0(),ho=nc=Sr=null,La=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return V0&&a.locale!=="ko"?null:a.data;default:return null}}var Xy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function U0(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a==="input"?!!Xy[r.type]:a==="textarea"}function Y0(r,a,l,d){oe(d),a=vo(a,"onChange"),0<a.length&&(l=new rc("onChange","change",null,l,d),r.push({event:l,listeners:a}))}var Bi=null,qi=null;function Zy(r){dh(r,0)}function go(r){var a=Ba(r);if(Qt(a))return r}function Qy(r,a){if(r==="change")return a}var K0=!1;if(f){var cc;if(f){var uc="oninput"in document;if(!uc){var G0=document.createElement("div");G0.setAttribute("oninput","return;"),uc=typeof G0.oninput=="function"}cc=uc}else cc=!1;K0=cc&&(!document.documentMode||9<document.documentMode)}function X0(){Bi&&(Bi.detachEvent("onpropertychange",Z0),qi=Bi=null)}function Z0(r){if(r.propertyName==="value"&&go(qi)){var a=[];Y0(a,qi,r,V(r)),Ze(Zy,a)}}function Jy(r,a,l){r==="focusin"?(X0(),Bi=a,qi=l,Bi.attachEvent("onpropertychange",Z0)):r==="focusout"&&X0()}function e2(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return go(qi)}function t2(r,a){if(r==="click")return go(a)}function n2(r,a){if(r==="input"||r==="change")return go(a)}function r2(r,a){return r===a&&(r!==0||1/r===1/a)||r!==r&&a!==a}var Sn=typeof Object.is=="function"?Object.is:r2;function Wi(r,a){if(Sn(r,a))return!0;if(typeof r!="object"||r===null||typeof a!="object"||a===null)return!1;var l=Object.keys(r),d=Object.keys(a);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var g=l[d];if(!h.call(a,g)||!Sn(r[g],a[g]))return!1}return!0}function Q0(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function J0(r,a){var l=Q0(r);r=0;for(var d;l;){if(l.nodeType===3){if(d=r+l.textContent.length,r<=a&&d>=a)return{node:l,offset:a-r};r=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Q0(l)}}function eh(r,a){return r&&a?r===a?!0:r&&r.nodeType===3?!1:a&&a.nodeType===3?eh(r,a.parentNode):"contains"in r?r.contains(a):r.compareDocumentPosition?!!(r.compareDocumentPosition(a)&16):!1:!1}function th(){for(var r=window,a=P();a instanceof r.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)r=a.contentWindow;else break;a=P(r.document)}return a}function dc(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a&&(a==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||a==="textarea"||r.contentEditable==="true")}function a2(r){var a=th(),l=r.focusedElem,d=r.selectionRange;if(a!==l&&l&&l.ownerDocument&&eh(l.ownerDocument.documentElement,l)){if(d!==null&&dc(l)){if(a=d.start,r=d.end,r===void 0&&(r=a),"selectionStart"in l)l.selectionStart=a,l.selectionEnd=Math.min(r,l.value.length);else if(r=(a=l.ownerDocument||document)&&a.defaultView||window,r.getSelection){r=r.getSelection();var g=l.textContent.length,x=Math.min(d.start,g);d=d.end===void 0?x:Math.min(d.end,g),!r.extend&&x>d&&(g=d,d=x,x=g),g=J0(l,x);var w=J0(l,d);g&&w&&(r.rangeCount!==1||r.anchorNode!==g.node||r.anchorOffset!==g.offset||r.focusNode!==w.node||r.focusOffset!==w.offset)&&(a=a.createRange(),a.setStart(g.node,g.offset),r.removeAllRanges(),x>d?(r.addRange(a),r.extend(w.node,w.offset)):(a.setEnd(w.node,w.offset),r.addRange(a)))}}for(a=[],r=l;r=r.parentNode;)r.nodeType===1&&a.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<a.length;l++)r=a[l],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var i2=f&&"documentMode"in document&&11>=document.documentMode,Oa=null,hc=null,Hi=null,fc=!1;function nh(r,a,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;fc||Oa==null||Oa!==P(d)||(d=Oa,"selectionStart"in d&&dc(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Hi&&Wi(Hi,d)||(Hi=d,d=vo(hc,"onSelect"),0<d.length&&(a=new rc("onSelect","select",null,a,l),r.push({event:a,listeners:d}),a.target=Oa)))}function xo(r,a){var l={};return l[r.toLowerCase()]=a.toLowerCase(),l["Webkit"+r]="webkit"+a,l["Moz"+r]="moz"+a,l}var $a={animationend:xo("Animation","AnimationEnd"),animationiteration:xo("Animation","AnimationIteration"),animationstart:xo("Animation","AnimationStart"),transitionend:xo("Transition","TransitionEnd")},mc={},rh={};f&&(rh=document.createElement("div").style,"AnimationEvent"in window||(delete $a.animationend.animation,delete $a.animationiteration.animation,delete $a.animationstart.animation),"TransitionEvent"in window||delete $a.transitionend.transition);function yo(r){if(mc[r])return mc[r];if(!$a[r])return r;var a=$a[r],l;for(l in a)if(a.hasOwnProperty(l)&&l in rh)return mc[r]=a[l];return r}var ah=yo("animationend"),ih=yo("animationiteration"),sh=yo("animationstart"),oh=yo("transitionend"),lh=new Map,ch="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kr(r,a){lh.set(r,a),c(a,[r])}for(var pc=0;pc<ch.length;pc++){var gc=ch[pc],s2=gc.toLowerCase(),o2=gc[0].toUpperCase()+gc.slice(1);kr(s2,"on"+o2)}kr(ah,"onAnimationEnd"),kr(ih,"onAnimationIteration"),kr(sh,"onAnimationStart"),kr("dblclick","onDoubleClick"),kr("focusin","onFocus"),kr("focusout","onBlur"),kr(oh,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ui="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),l2=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ui));function uh(r,a,l){var d=r.type||"unknown-event";r.currentTarget=l,Zs(d,a,void 0,r),r.currentTarget=null}function dh(r,a){a=(a&4)!==0;for(var l=0;l<r.length;l++){var d=r[l],g=d.event;d=d.listeners;e:{var x=void 0;if(a)for(var w=d.length-1;0<=w;w--){var z=d[w],I=z.instance,B=z.currentTarget;if(z=z.listener,I!==x&&g.isPropagationStopped())break e;uh(g,z,B),x=I}else for(w=0;w<d.length;w++){if(z=d[w],I=z.instance,B=z.currentTarget,z=z.listener,I!==x&&g.isPropagationStopped())break e;uh(g,z,B),x=I}}}if(Jr)throw r=Aa,Jr=!1,Aa=null,r}function Je(r,a){var l=a[Sc];l===void 0&&(l=a[Sc]=new Set);var d=r+"__bubble";l.has(d)||(hh(a,r,2,!1),l.add(d))}function xc(r,a,l){var d=0;a&&(d|=4),hh(l,r,d,a)}var bo="_reactListening"+Math.random().toString(36).slice(2);function Yi(r){if(!r[bo]){r[bo]=!0,s.forEach(function(l){l!=="selectionchange"&&(l2.has(l)||xc(l,!1,r),xc(l,!0,r))});var a=r.nodeType===9?r:r.ownerDocument;a===null||a[bo]||(a[bo]=!0,xc("selectionchange",!1,a))}}function hh(r,a,l,d){switch(R0(a)){case 1:var g=jy;break;case 4:g=Ny;break;default:g=ec}l=g.bind(null,a,l,r),g=void 0,!Xn||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),d?g!==void 0?r.addEventListener(a,l,{capture:!0,passive:g}):r.addEventListener(a,l,!0):g!==void 0?r.addEventListener(a,l,{passive:g}):r.addEventListener(a,l,!1)}function yc(r,a,l,d,g){var x=d;if((a&1)===0&&(a&2)===0&&d!==null)e:for(;;){if(d===null)return;var w=d.tag;if(w===3||w===4){var z=d.stateNode.containerInfo;if(z===g||z.nodeType===8&&z.parentNode===g)break;if(w===4)for(w=d.return;w!==null;){var I=w.tag;if((I===3||I===4)&&(I=w.stateNode.containerInfo,I===g||I.nodeType===8&&I.parentNode===g))return;w=w.return}for(;z!==null;){if(w=sa(z),w===null)return;if(I=w.tag,I===5||I===6){d=x=w;continue e}z=z.parentNode}}d=d.return}Ze(function(){var B=x,ee=V(l),ne=[];e:{var Z=lh.get(r);if(Z!==void 0){var he=rc,pe=r;switch(r){case"keypress":if(fo(l)===0)break e;case"keydown":case"keyup":he=Oy;break;case"focusin":pe="focus",he=sc;break;case"focusout":pe="blur",he=sc;break;case"beforeblur":case"afterblur":he=sc;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":he=O0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":he=_y;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":he=Vy;break;case ah:case ih:case sh:he=zy;break;case oh:he=qy;break;case"scroll":he=Sy;break;case"wheel":he=Hy;break;case"copy":case"cut":case"paste":he=Ey;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":he=F0}var ge=(a&4)!==0,ft=!ge&&r==="scroll",$=ge?Z!==null?Z+"Capture":null:Z;ge=[];for(var D=B,F;D!==null;){F=D;var re=F.stateNode;if(F.tag===5&&re!==null&&(F=re,$!==null&&(re=cn(D,$),re!=null&&ge.push(Ki(D,re,F)))),ft)break;D=D.return}0<ge.length&&(Z=new he(Z,pe,null,l,ee),ne.push({event:Z,listeners:ge}))}}if((a&7)===0){e:{if(Z=r==="mouseover"||r==="pointerover",he=r==="mouseout"||r==="pointerout",Z&&l!==yr&&(pe=l.relatedTarget||l.fromElement)&&(sa(pe)||pe[Qn]))break e;if((he||Z)&&(Z=ee.window===ee?ee:(Z=ee.ownerDocument)?Z.defaultView||Z.parentWindow:window,he?(pe=l.relatedTarget||l.toElement,he=B,pe=pe?sa(pe):null,pe!==null&&(ft=Dn(pe),pe!==ft||pe.tag!==5&&pe.tag!==6)&&(pe=null)):(he=null,pe=B),he!==pe)){if(ge=O0,re="onMouseLeave",$="onMouseEnter",D="mouse",(r==="pointerout"||r==="pointerover")&&(ge=F0,re="onPointerLeave",$="onPointerEnter",D="pointer"),ft=he==null?Z:Ba(he),F=pe==null?Z:Ba(pe),Z=new ge(re,D+"leave",he,l,ee),Z.target=ft,Z.relatedTarget=F,re=null,sa(ee)===B&&(ge=new ge($,D+"enter",pe,l,ee),ge.target=F,ge.relatedTarget=ft,re=ge),ft=re,he&&pe)t:{for(ge=he,$=pe,D=0,F=ge;F;F=Fa(F))D++;for(F=0,re=$;re;re=Fa(re))F++;for(;0<D-F;)ge=Fa(ge),D--;for(;0<F-D;)$=Fa($),F--;for(;D--;){if(ge===$||$!==null&&ge===$.alternate)break t;ge=Fa(ge),$=Fa($)}ge=null}else ge=null;he!==null&&fh(ne,Z,he,ge,!1),pe!==null&&ft!==null&&fh(ne,ft,pe,ge,!0)}}e:{if(Z=B?Ba(B):window,he=Z.nodeName&&Z.nodeName.toLowerCase(),he==="select"||he==="input"&&Z.type==="file")var ye=Qy;else if(U0(Z))if(K0)ye=n2;else{ye=e2;var Ne=Jy}else(he=Z.nodeName)&&he.toLowerCase()==="input"&&(Z.type==="checkbox"||Z.type==="radio")&&(ye=t2);if(ye&&(ye=ye(r,B))){Y0(ne,ye,l,ee);break e}Ne&&Ne(r,Z,B),r==="focusout"&&(Ne=Z._wrapperState)&&Ne.controlled&&Z.type==="number"&&Ye(Z,"number",Z.value)}switch(Ne=B?Ba(B):window,r){case"focusin":(U0(Ne)||Ne.contentEditable==="true")&&(Oa=Ne,hc=B,Hi=null);break;case"focusout":Hi=hc=Oa=null;break;case"mousedown":fc=!0;break;case"contextmenu":case"mouseup":case"dragend":fc=!1,nh(ne,l,ee);break;case"selectionchange":if(i2)break;case"keydown":case"keyup":nh(ne,l,ee)}var Se;if(lc)e:{switch(r){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else La?W0(r,l)&&(Ee="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(Ee="onCompositionStart");Ee&&(V0&&l.locale!=="ko"&&(La||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&La&&(Se=D0()):(Sr=ee,nc="value"in Sr?Sr.value:Sr.textContent,La=!0)),Ne=vo(B,Ee),0<Ne.length&&(Ee=new $0(Ee,r,null,l,ee),ne.push({event:Ee,listeners:Ne}),Se?Ee.data=Se:(Se=H0(l),Se!==null&&(Ee.data=Se)))),(Se=Yy?Ky(r,l):Gy(r,l))&&(B=vo(B,"onBeforeInput"),0<B.length&&(ee=new $0("onBeforeInput","beforeinput",null,l,ee),ne.push({event:ee,listeners:B}),ee.data=Se))}dh(ne,a)})}function Ki(r,a,l){return{instance:r,listener:a,currentTarget:l}}function vo(r,a){for(var l=a+"Capture",d=[];r!==null;){var g=r,x=g.stateNode;g.tag===5&&x!==null&&(g=x,x=cn(r,l),x!=null&&d.unshift(Ki(r,x,g)),x=cn(r,a),x!=null&&d.push(Ki(r,x,g))),r=r.return}return d}function Fa(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function fh(r,a,l,d,g){for(var x=a._reactName,w=[];l!==null&&l!==d;){var z=l,I=z.alternate,B=z.stateNode;if(I!==null&&I===d)break;z.tag===5&&B!==null&&(z=B,g?(I=cn(l,x),I!=null&&w.unshift(Ki(l,I,z))):g||(I=cn(l,x),I!=null&&w.push(Ki(l,I,z)))),l=l.return}w.length!==0&&r.push({event:a,listeners:w})}var c2=/\r\n?/g,u2=/\u0000|\uFFFD/g;function mh(r){return(typeof r=="string"?r:""+r).replace(c2,`
`).replace(u2,"")}function wo(r,a,l){if(a=mh(a),mh(r)!==a&&l)throw Error(t(425))}function jo(){}var bc=null,vc=null;function wc(r,a){return r==="textarea"||r==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var jc=typeof setTimeout=="function"?setTimeout:void 0,d2=typeof clearTimeout=="function"?clearTimeout:void 0,ph=typeof Promise=="function"?Promise:void 0,h2=typeof queueMicrotask=="function"?queueMicrotask:typeof ph<"u"?function(r){return ph.resolve(null).then(r).catch(f2)}:jc;function f2(r){setTimeout(function(){throw r})}function Nc(r,a){var l=a,d=0;do{var g=l.nextSibling;if(r.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"){if(d===0){r.removeChild(g),Oi(a);return}d--}else l!=="$"&&l!=="$?"&&l!=="$!"||d++;l=g}while(l);Oi(a)}function _r(r){for(;r!=null;r=r.nextSibling){var a=r.nodeType;if(a===1||a===3)break;if(a===8){if(a=r.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return r}function gh(r){r=r.previousSibling;for(var a=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(a===0)return r;a--}else l==="/$"&&a++}r=r.previousSibling}return null}var Va=Math.random().toString(36).slice(2),On="__reactFiber$"+Va,Gi="__reactProps$"+Va,Qn="__reactContainer$"+Va,Sc="__reactEvents$"+Va,m2="__reactListeners$"+Va,p2="__reactHandles$"+Va;function sa(r){var a=r[On];if(a)return a;for(var l=r.parentNode;l;){if(a=l[Qn]||l[On]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(r=gh(r);r!==null;){if(l=r[On])return l;r=gh(r)}return a}r=l,l=r.parentNode}return null}function Xi(r){return r=r[On]||r[Qn],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Ba(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function No(r){return r[Gi]||null}var kc=[],qa=-1;function Cr(r){return{current:r}}function et(r){0>qa||(r.current=kc[qa],kc[qa]=null,qa--)}function Qe(r,a){qa++,kc[qa]=r.current,r.current=a}var Tr={},Pt=Cr(Tr),Wt=Cr(!1),oa=Tr;function Wa(r,a){var l=r.type.contextTypes;if(!l)return Tr;var d=r.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===a)return d.__reactInternalMemoizedMaskedChildContext;var g={},x;for(x in l)g[x]=a[x];return d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=a,r.__reactInternalMemoizedMaskedChildContext=g),g}function Ht(r){return r=r.childContextTypes,r!=null}function So(){et(Wt),et(Pt)}function xh(r,a,l){if(Pt.current!==Tr)throw Error(t(168));Qe(Pt,a),Qe(Wt,l)}function yh(r,a,l){var d=r.stateNode;if(a=a.childContextTypes,typeof d.getChildContext!="function")return l;d=d.getChildContext();for(var g in d)if(!(g in a))throw Error(t(108,Fe(r)||"Unknown",g));return ie({},l,d)}function ko(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Tr,oa=Pt.current,Qe(Pt,r),Qe(Wt,Wt.current),!0}function bh(r,a,l){var d=r.stateNode;if(!d)throw Error(t(169));l?(r=yh(r,a,oa),d.__reactInternalMemoizedMergedChildContext=r,et(Wt),et(Pt),Qe(Pt,r)):et(Wt),Qe(Wt,l)}var Jn=null,_o=!1,_c=!1;function vh(r){Jn===null?Jn=[r]:Jn.push(r)}function g2(r){_o=!0,vh(r)}function zr(){if(!_c&&Jn!==null){_c=!0;var r=0,a=Ke;try{var l=Jn;for(Ke=1;r<l.length;r++){var d=l[r];do d=d(!0);while(d!==null)}Jn=null,_o=!1}catch(g){throw Jn!==null&&(Jn=Jn.slice(r+1)),Pi(Ia,zr),g}finally{Ke=a,_c=!1}}return null}var Ha=[],Ua=0,Co=null,To=0,un=[],dn=0,la=null,er=1,tr="";function ca(r,a){Ha[Ua++]=To,Ha[Ua++]=Co,Co=r,To=a}function wh(r,a,l){un[dn++]=er,un[dn++]=tr,un[dn++]=la,la=r;var d=er;r=tr;var g=32-qt(d)-1;d&=~(1<<g),l+=1;var x=32-qt(a)+g;if(30<x){var w=g-g%5;x=(d&(1<<w)-1).toString(32),d>>=w,g-=w,er=1<<32-qt(a)+g|l<<g|d,tr=x+r}else er=1<<x|l<<g|d,tr=r}function Cc(r){r.return!==null&&(ca(r,1),wh(r,1,0))}function Tc(r){for(;r===Co;)Co=Ha[--Ua],Ha[Ua]=null,To=Ha[--Ua],Ha[Ua]=null;for(;r===la;)la=un[--dn],un[dn]=null,tr=un[--dn],un[dn]=null,er=un[--dn],un[dn]=null}var tn=null,nn=null,rt=!1,kn=null;function jh(r,a){var l=pn(5,null,null,0);l.elementType="DELETED",l.stateNode=a,l.return=r,a=r.deletions,a===null?(r.deletions=[l],r.flags|=16):a.push(l)}function Nh(r,a){switch(r.tag){case 5:var l=r.type;return a=a.nodeType!==1||l.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(r.stateNode=a,tn=r,nn=_r(a.firstChild),!0):!1;case 6:return a=r.pendingProps===""||a.nodeType!==3?null:a,a!==null?(r.stateNode=a,tn=r,nn=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(l=la!==null?{id:er,overflow:tr}:null,r.memoizedState={dehydrated:a,treeContext:l,retryLane:1073741824},l=pn(18,null,null,0),l.stateNode=a,l.return=r,r.child=l,tn=r,nn=null,!0):!1;default:return!1}}function zc(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Pc(r){if(rt){var a=nn;if(a){var l=a;if(!Nh(r,a)){if(zc(r))throw Error(t(418));a=_r(l.nextSibling);var d=tn;a&&Nh(r,a)?jh(d,l):(r.flags=r.flags&-4097|2,rt=!1,tn=r)}}else{if(zc(r))throw Error(t(418));r.flags=r.flags&-4097|2,rt=!1,tn=r}}}function Sh(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;tn=r}function zo(r){if(r!==tn)return!1;if(!rt)return Sh(r),rt=!0,!1;var a;if((a=r.tag!==3)&&!(a=r.tag!==5)&&(a=r.type,a=a!=="head"&&a!=="body"&&!wc(r.type,r.memoizedProps)),a&&(a=nn)){if(zc(r))throw kh(),Error(t(418));for(;a;)jh(r,a),a=_r(a.nextSibling)}if(Sh(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,a=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"){if(a===0){nn=_r(r.nextSibling);break e}a--}else l!=="$"&&l!=="$!"&&l!=="$?"||a++}r=r.nextSibling}nn=null}}else nn=tn?_r(r.stateNode.nextSibling):null;return!0}function kh(){for(var r=nn;r;)r=_r(r.nextSibling)}function Ya(){nn=tn=null,rt=!1}function Ec(r){kn===null?kn=[r]:kn.push(r)}var x2=T.ReactCurrentBatchConfig;function Zi(r,a,l){if(r=l.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var d=l.stateNode}if(!d)throw Error(t(147,r));var g=d,x=""+r;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===x?a.ref:(a=function(w){var z=g.refs;w===null?delete z[x]:z[x]=w},a._stringRef=x,a)}if(typeof r!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,r))}return r}function Po(r,a){throw r=Object.prototype.toString.call(a),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":r))}function _h(r){var a=r._init;return a(r._payload)}function Ch(r){function a($,D){if(r){var F=$.deletions;F===null?($.deletions=[D],$.flags|=16):F.push(D)}}function l($,D){if(!r)return null;for(;D!==null;)a($,D),D=D.sibling;return null}function d($,D){for($=new Map;D!==null;)D.key!==null?$.set(D.key,D):$.set(D.index,D),D=D.sibling;return $}function g($,D){return $=Lr($,D),$.index=0,$.sibling=null,$}function x($,D,F){return $.index=F,r?(F=$.alternate,F!==null?(F=F.index,F<D?($.flags|=2,D):F):($.flags|=2,D)):($.flags|=1048576,D)}function w($){return r&&$.alternate===null&&($.flags|=2),$}function z($,D,F,re){return D===null||D.tag!==6?(D=ju(F,$.mode,re),D.return=$,D):(D=g(D,F),D.return=$,D)}function I($,D,F,re){var ye=F.type;return ye===O?ee($,D,F.props.children,re,F.key):D!==null&&(D.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===De&&_h(ye)===D.type)?(re=g(D,F.props),re.ref=Zi($,D,F),re.return=$,re):(re=el(F.type,F.key,F.props,null,$.mode,re),re.ref=Zi($,D,F),re.return=$,re)}function B($,D,F,re){return D===null||D.tag!==4||D.stateNode.containerInfo!==F.containerInfo||D.stateNode.implementation!==F.implementation?(D=Nu(F,$.mode,re),D.return=$,D):(D=g(D,F.children||[]),D.return=$,D)}function ee($,D,F,re,ye){return D===null||D.tag!==7?(D=xa(F,$.mode,re,ye),D.return=$,D):(D=g(D,F),D.return=$,D)}function ne($,D,F){if(typeof D=="string"&&D!==""||typeof D=="number")return D=ju(""+D,$.mode,F),D.return=$,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case R:return F=el(D.type,D.key,D.props,null,$.mode,F),F.ref=Zi($,null,D),F.return=$,F;case A:return D=Nu(D,$.mode,F),D.return=$,D;case De:var re=D._init;return ne($,re(D._payload),F)}if(kt(D)||de(D))return D=xa(D,$.mode,F,null),D.return=$,D;Po($,D)}return null}function Z($,D,F,re){var ye=D!==null?D.key:null;if(typeof F=="string"&&F!==""||typeof F=="number")return ye!==null?null:z($,D,""+F,re);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case R:return F.key===ye?I($,D,F,re):null;case A:return F.key===ye?B($,D,F,re):null;case De:return ye=F._init,Z($,D,ye(F._payload),re)}if(kt(F)||de(F))return ye!==null?null:ee($,D,F,re,null);Po($,F)}return null}function he($,D,F,re,ye){if(typeof re=="string"&&re!==""||typeof re=="number")return $=$.get(F)||null,z(D,$,""+re,ye);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case R:return $=$.get(re.key===null?F:re.key)||null,I(D,$,re,ye);case A:return $=$.get(re.key===null?F:re.key)||null,B(D,$,re,ye);case De:var Ne=re._init;return he($,D,F,Ne(re._payload),ye)}if(kt(re)||de(re))return $=$.get(F)||null,ee(D,$,re,ye,null);Po(D,re)}return null}function pe($,D,F,re){for(var ye=null,Ne=null,Se=D,Ee=D=0,St=null;Se!==null&&Ee<F.length;Ee++){Se.index>Ee?(St=Se,Se=null):St=Se.sibling;var qe=Z($,Se,F[Ee],re);if(qe===null){Se===null&&(Se=St);break}r&&Se&&qe.alternate===null&&a($,Se),D=x(qe,D,Ee),Ne===null?ye=qe:Ne.sibling=qe,Ne=qe,Se=St}if(Ee===F.length)return l($,Se),rt&&ca($,Ee),ye;if(Se===null){for(;Ee<F.length;Ee++)Se=ne($,F[Ee],re),Se!==null&&(D=x(Se,D,Ee),Ne===null?ye=Se:Ne.sibling=Se,Ne=Se);return rt&&ca($,Ee),ye}for(Se=d($,Se);Ee<F.length;Ee++)St=he(Se,$,Ee,F[Ee],re),St!==null&&(r&&St.alternate!==null&&Se.delete(St.key===null?Ee:St.key),D=x(St,D,Ee),Ne===null?ye=St:Ne.sibling=St,Ne=St);return r&&Se.forEach(function(Or){return a($,Or)}),rt&&ca($,Ee),ye}function ge($,D,F,re){var ye=de(F);if(typeof ye!="function")throw Error(t(150));if(F=ye.call(F),F==null)throw Error(t(151));for(var Ne=ye=null,Se=D,Ee=D=0,St=null,qe=F.next();Se!==null&&!qe.done;Ee++,qe=F.next()){Se.index>Ee?(St=Se,Se=null):St=Se.sibling;var Or=Z($,Se,qe.value,re);if(Or===null){Se===null&&(Se=St);break}r&&Se&&Or.alternate===null&&a($,Se),D=x(Or,D,Ee),Ne===null?ye=Or:Ne.sibling=Or,Ne=Or,Se=St}if(qe.done)return l($,Se),rt&&ca($,Ee),ye;if(Se===null){for(;!qe.done;Ee++,qe=F.next())qe=ne($,qe.value,re),qe!==null&&(D=x(qe,D,Ee),Ne===null?ye=qe:Ne.sibling=qe,Ne=qe);return rt&&ca($,Ee),ye}for(Se=d($,Se);!qe.done;Ee++,qe=F.next())qe=he(Se,$,Ee,qe.value,re),qe!==null&&(r&&qe.alternate!==null&&Se.delete(qe.key===null?Ee:qe.key),D=x(qe,D,Ee),Ne===null?ye=qe:Ne.sibling=qe,Ne=qe);return r&&Se.forEach(function(X2){return a($,X2)}),rt&&ca($,Ee),ye}function ft($,D,F,re){if(typeof F=="object"&&F!==null&&F.type===O&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case R:e:{for(var ye=F.key,Ne=D;Ne!==null;){if(Ne.key===ye){if(ye=F.type,ye===O){if(Ne.tag===7){l($,Ne.sibling),D=g(Ne,F.props.children),D.return=$,$=D;break e}}else if(Ne.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===De&&_h(ye)===Ne.type){l($,Ne.sibling),D=g(Ne,F.props),D.ref=Zi($,Ne,F),D.return=$,$=D;break e}l($,Ne);break}else a($,Ne);Ne=Ne.sibling}F.type===O?(D=xa(F.props.children,$.mode,re,F.key),D.return=$,$=D):(re=el(F.type,F.key,F.props,null,$.mode,re),re.ref=Zi($,D,F),re.return=$,$=re)}return w($);case A:e:{for(Ne=F.key;D!==null;){if(D.key===Ne)if(D.tag===4&&D.stateNode.containerInfo===F.containerInfo&&D.stateNode.implementation===F.implementation){l($,D.sibling),D=g(D,F.children||[]),D.return=$,$=D;break e}else{l($,D);break}else a($,D);D=D.sibling}D=Nu(F,$.mode,re),D.return=$,$=D}return w($);case De:return Ne=F._init,ft($,D,Ne(F._payload),re)}if(kt(F))return pe($,D,F,re);if(de(F))return ge($,D,F,re);Po($,F)}return typeof F=="string"&&F!==""||typeof F=="number"?(F=""+F,D!==null&&D.tag===6?(l($,D.sibling),D=g(D,F),D.return=$,$=D):(l($,D),D=ju(F,$.mode,re),D.return=$,$=D),w($)):l($,D)}return ft}var Ka=Ch(!0),Th=Ch(!1),Eo=Cr(null),Mo=null,Ga=null,Mc=null;function Ac(){Mc=Ga=Mo=null}function Ic(r){var a=Eo.current;et(Eo),r._currentValue=a}function Rc(r,a,l){for(;r!==null;){var d=r.alternate;if((r.childLanes&a)!==a?(r.childLanes|=a,d!==null&&(d.childLanes|=a)):d!==null&&(d.childLanes&a)!==a&&(d.childLanes|=a),r===l)break;r=r.return}}function Xa(r,a){Mo=r,Mc=Ga=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&a)!==0&&(Ut=!0),r.firstContext=null)}function hn(r){var a=r._currentValue;if(Mc!==r)if(r={context:r,memoizedValue:a,next:null},Ga===null){if(Mo===null)throw Error(t(308));Ga=r,Mo.dependencies={lanes:0,firstContext:r}}else Ga=Ga.next=r;return a}var ua=null;function Dc(r){ua===null?ua=[r]:ua.push(r)}function zh(r,a,l,d){var g=a.interleaved;return g===null?(l.next=l,Dc(a)):(l.next=g.next,g.next=l),a.interleaved=l,nr(r,d)}function nr(r,a){r.lanes|=a;var l=r.alternate;for(l!==null&&(l.lanes|=a),l=r,r=r.return;r!==null;)r.childLanes|=a,l=r.alternate,l!==null&&(l.childLanes|=a),l=r,r=r.return;return l.tag===3?l.stateNode:null}var Pr=!1;function Lc(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ph(r,a){r=r.updateQueue,a.updateQueue===r&&(a.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function rr(r,a){return{eventTime:r,lane:a,tag:0,payload:null,callback:null,next:null}}function Er(r,a,l){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,(Be&2)!==0){var g=d.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),d.pending=a,nr(r,l)}return g=d.interleaved,g===null?(a.next=a,Dc(d)):(a.next=g.next,g.next=a),d.interleaved=a,nr(r,l)}function Ao(r,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194240)!==0)){var d=a.lanes;d&=r.pendingLanes,l|=d,a.lanes=l,ia(r,l)}}function Eh(r,a){var l=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var g=null,x=null;if(l=l.firstBaseUpdate,l!==null){do{var w={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};x===null?g=x=w:x=x.next=w,l=l.next}while(l!==null);x===null?g=x=a:x=x.next=a}else g=x=a;l={baseState:d.baseState,firstBaseUpdate:g,lastBaseUpdate:x,shared:d.shared,effects:d.effects},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=a:r.next=a,l.lastBaseUpdate=a}function Io(r,a,l,d){var g=r.updateQueue;Pr=!1;var x=g.firstBaseUpdate,w=g.lastBaseUpdate,z=g.shared.pending;if(z!==null){g.shared.pending=null;var I=z,B=I.next;I.next=null,w===null?x=B:w.next=B,w=I;var ee=r.alternate;ee!==null&&(ee=ee.updateQueue,z=ee.lastBaseUpdate,z!==w&&(z===null?ee.firstBaseUpdate=B:z.next=B,ee.lastBaseUpdate=I))}if(x!==null){var ne=g.baseState;w=0,ee=B=I=null,z=x;do{var Z=z.lane,he=z.eventTime;if((d&Z)===Z){ee!==null&&(ee=ee.next={eventTime:he,lane:0,tag:z.tag,payload:z.payload,callback:z.callback,next:null});e:{var pe=r,ge=z;switch(Z=a,he=l,ge.tag){case 1:if(pe=ge.payload,typeof pe=="function"){ne=pe.call(he,ne,Z);break e}ne=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=ge.payload,Z=typeof pe=="function"?pe.call(he,ne,Z):pe,Z==null)break e;ne=ie({},ne,Z);break e;case 2:Pr=!0}}z.callback!==null&&z.lane!==0&&(r.flags|=64,Z=g.effects,Z===null?g.effects=[z]:Z.push(z))}else he={eventTime:he,lane:Z,tag:z.tag,payload:z.payload,callback:z.callback,next:null},ee===null?(B=ee=he,I=ne):ee=ee.next=he,w|=Z;if(z=z.next,z===null){if(z=g.shared.pending,z===null)break;Z=z,z=Z.next,Z.next=null,g.lastBaseUpdate=Z,g.shared.pending=null}}while(!0);if(ee===null&&(I=ne),g.baseState=I,g.firstBaseUpdate=B,g.lastBaseUpdate=ee,a=g.shared.interleaved,a!==null){g=a;do w|=g.lane,g=g.next;while(g!==a)}else x===null&&(g.shared.lanes=0);fa|=w,r.lanes=w,r.memoizedState=ne}}function Mh(r,a,l){if(r=a.effects,a.effects=null,r!==null)for(a=0;a<r.length;a++){var d=r[a],g=d.callback;if(g!==null){if(d.callback=null,d=l,typeof g!="function")throw Error(t(191,g));g.call(d)}}}var Qi={},$n=Cr(Qi),Ji=Cr(Qi),es=Cr(Qi);function da(r){if(r===Qi)throw Error(t(174));return r}function Oc(r,a){switch(Qe(es,a),Qe(Ji,r),Qe($n,Qi),r=a.nodeType,r){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:pr(null,"");break;default:r=r===8?a.parentNode:a,a=r.namespaceURI||null,r=r.tagName,a=pr(a,r)}et($n),Qe($n,a)}function Za(){et($n),et(Ji),et(es)}function Ah(r){da(es.current);var a=da($n.current),l=pr(a,r.type);a!==l&&(Qe(Ji,r),Qe($n,l))}function $c(r){Ji.current===r&&(et($n),et(Ji))}var it=Cr(0);function Ro(r){for(var a=r;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Fc=[];function Vc(){for(var r=0;r<Fc.length;r++)Fc[r]._workInProgressVersionPrimary=null;Fc.length=0}var Do=T.ReactCurrentDispatcher,Bc=T.ReactCurrentBatchConfig,ha=0,st=null,bt=null,jt=null,Lo=!1,ts=!1,ns=0,y2=0;function Et(){throw Error(t(321))}function qc(r,a){if(a===null)return!1;for(var l=0;l<a.length&&l<r.length;l++)if(!Sn(r[l],a[l]))return!1;return!0}function Wc(r,a,l,d,g,x){if(ha=x,st=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Do.current=r===null||r.memoizedState===null?j2:N2,r=l(d,g),ts){x=0;do{if(ts=!1,ns=0,25<=x)throw Error(t(301));x+=1,jt=bt=null,a.updateQueue=null,Do.current=S2,r=l(d,g)}while(ts)}if(Do.current=Fo,a=bt!==null&&bt.next!==null,ha=0,jt=bt=st=null,Lo=!1,a)throw Error(t(300));return r}function Hc(){var r=ns!==0;return ns=0,r}function Fn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?st.memoizedState=jt=r:jt=jt.next=r,jt}function fn(){if(bt===null){var r=st.alternate;r=r!==null?r.memoizedState:null}else r=bt.next;var a=jt===null?st.memoizedState:jt.next;if(a!==null)jt=a,bt=r;else{if(r===null)throw Error(t(310));bt=r,r={memoizedState:bt.memoizedState,baseState:bt.baseState,baseQueue:bt.baseQueue,queue:bt.queue,next:null},jt===null?st.memoizedState=jt=r:jt=jt.next=r}return jt}function rs(r,a){return typeof a=="function"?a(r):a}function Uc(r){var a=fn(),l=a.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var d=bt,g=d.baseQueue,x=l.pending;if(x!==null){if(g!==null){var w=g.next;g.next=x.next,x.next=w}d.baseQueue=g=x,l.pending=null}if(g!==null){x=g.next,d=d.baseState;var z=w=null,I=null,B=x;do{var ee=B.lane;if((ha&ee)===ee)I!==null&&(I=I.next={lane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),d=B.hasEagerState?B.eagerState:r(d,B.action);else{var ne={lane:ee,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null};I===null?(z=I=ne,w=d):I=I.next=ne,st.lanes|=ee,fa|=ee}B=B.next}while(B!==null&&B!==x);I===null?w=d:I.next=z,Sn(d,a.memoizedState)||(Ut=!0),a.memoizedState=d,a.baseState=w,a.baseQueue=I,l.lastRenderedState=d}if(r=l.interleaved,r!==null){g=r;do x=g.lane,st.lanes|=x,fa|=x,g=g.next;while(g!==r)}else g===null&&(l.lanes=0);return[a.memoizedState,l.dispatch]}function Yc(r){var a=fn(),l=a.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var d=l.dispatch,g=l.pending,x=a.memoizedState;if(g!==null){l.pending=null;var w=g=g.next;do x=r(x,w.action),w=w.next;while(w!==g);Sn(x,a.memoizedState)||(Ut=!0),a.memoizedState=x,a.baseQueue===null&&(a.baseState=x),l.lastRenderedState=x}return[x,d]}function Ih(){}function Rh(r,a){var l=st,d=fn(),g=a(),x=!Sn(d.memoizedState,g);if(x&&(d.memoizedState=g,Ut=!0),d=d.queue,Kc(Oh.bind(null,l,d,r),[r]),d.getSnapshot!==a||x||jt!==null&&jt.memoizedState.tag&1){if(l.flags|=2048,as(9,Lh.bind(null,l,d,g,a),void 0,null),Nt===null)throw Error(t(349));(ha&30)!==0||Dh(l,a,g)}return g}function Dh(r,a,l){r.flags|=16384,r={getSnapshot:a,value:l},a=st.updateQueue,a===null?(a={lastEffect:null,stores:null},st.updateQueue=a,a.stores=[r]):(l=a.stores,l===null?a.stores=[r]:l.push(r))}function Lh(r,a,l,d){a.value=l,a.getSnapshot=d,$h(a)&&Fh(r)}function Oh(r,a,l){return l(function(){$h(a)&&Fh(r)})}function $h(r){var a=r.getSnapshot;r=r.value;try{var l=a();return!Sn(r,l)}catch{return!0}}function Fh(r){var a=nr(r,1);a!==null&&zn(a,r,1,-1)}function Vh(r){var a=Fn();return typeof r=="function"&&(r=r()),a.memoizedState=a.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:r},a.queue=r,r=r.dispatch=w2.bind(null,st,r),[a.memoizedState,r]}function as(r,a,l,d){return r={tag:r,create:a,destroy:l,deps:d,next:null},a=st.updateQueue,a===null?(a={lastEffect:null,stores:null},st.updateQueue=a,a.lastEffect=r.next=r):(l=a.lastEffect,l===null?a.lastEffect=r.next=r:(d=l.next,l.next=r,r.next=d,a.lastEffect=r)),r}function Bh(){return fn().memoizedState}function Oo(r,a,l,d){var g=Fn();st.flags|=r,g.memoizedState=as(1|a,l,void 0,d===void 0?null:d)}function $o(r,a,l,d){var g=fn();d=d===void 0?null:d;var x=void 0;if(bt!==null){var w=bt.memoizedState;if(x=w.destroy,d!==null&&qc(d,w.deps)){g.memoizedState=as(a,l,x,d);return}}st.flags|=r,g.memoizedState=as(1|a,l,x,d)}function qh(r,a){return Oo(8390656,8,r,a)}function Kc(r,a){return $o(2048,8,r,a)}function Wh(r,a){return $o(4,2,r,a)}function Hh(r,a){return $o(4,4,r,a)}function Uh(r,a){if(typeof a=="function")return r=r(),a(r),function(){a(null)};if(a!=null)return r=r(),a.current=r,function(){a.current=null}}function Yh(r,a,l){return l=l!=null?l.concat([r]):null,$o(4,4,Uh.bind(null,a,r),l)}function Gc(){}function Kh(r,a){var l=fn();a=a===void 0?null:a;var d=l.memoizedState;return d!==null&&a!==null&&qc(a,d[1])?d[0]:(l.memoizedState=[r,a],r)}function Gh(r,a){var l=fn();a=a===void 0?null:a;var d=l.memoizedState;return d!==null&&a!==null&&qc(a,d[1])?d[0]:(r=r(),l.memoizedState=[r,a],r)}function Xh(r,a,l){return(ha&21)===0?(r.baseState&&(r.baseState=!1,Ut=!0),r.memoizedState=l):(Sn(l,a)||(l=ve(),st.lanes|=l,fa|=l,r.baseState=!0),a)}function b2(r,a){var l=Ke;Ke=l!==0&&4>l?l:4,r(!0);var d=Bc.transition;Bc.transition={};try{r(!1),a()}finally{Ke=l,Bc.transition=d}}function Zh(){return fn().memoizedState}function v2(r,a,l){var d=Rr(r);if(l={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null},Qh(r))Jh(a,l);else if(l=zh(r,a,l,d),l!==null){var g=$t();zn(l,r,d,g),ef(l,a,d)}}function w2(r,a,l){var d=Rr(r),g={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(Qh(r))Jh(a,g);else{var x=r.alternate;if(r.lanes===0&&(x===null||x.lanes===0)&&(x=a.lastRenderedReducer,x!==null))try{var w=a.lastRenderedState,z=x(w,l);if(g.hasEagerState=!0,g.eagerState=z,Sn(z,w)){var I=a.interleaved;I===null?(g.next=g,Dc(a)):(g.next=I.next,I.next=g),a.interleaved=g;return}}catch{}finally{}l=zh(r,a,g,d),l!==null&&(g=$t(),zn(l,r,d,g),ef(l,a,d))}}function Qh(r){var a=r.alternate;return r===st||a!==null&&a===st}function Jh(r,a){ts=Lo=!0;var l=r.pending;l===null?a.next=a:(a.next=l.next,l.next=a),r.pending=a}function ef(r,a,l){if((l&4194240)!==0){var d=a.lanes;d&=r.pendingLanes,l|=d,a.lanes=l,ia(r,l)}}var Fo={readContext:hn,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useInsertionEffect:Et,useLayoutEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useMutableSource:Et,useSyncExternalStore:Et,useId:Et,unstable_isNewReconciler:!1},j2={readContext:hn,useCallback:function(r,a){return Fn().memoizedState=[r,a===void 0?null:a],r},useContext:hn,useEffect:qh,useImperativeHandle:function(r,a,l){return l=l!=null?l.concat([r]):null,Oo(4194308,4,Uh.bind(null,a,r),l)},useLayoutEffect:function(r,a){return Oo(4194308,4,r,a)},useInsertionEffect:function(r,a){return Oo(4,2,r,a)},useMemo:function(r,a){var l=Fn();return a=a===void 0?null:a,r=r(),l.memoizedState=[r,a],r},useReducer:function(r,a,l){var d=Fn();return a=l!==void 0?l(a):a,d.memoizedState=d.baseState=a,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:a},d.queue=r,r=r.dispatch=v2.bind(null,st,r),[d.memoizedState,r]},useRef:function(r){var a=Fn();return r={current:r},a.memoizedState=r},useState:Vh,useDebugValue:Gc,useDeferredValue:function(r){return Fn().memoizedState=r},useTransition:function(){var r=Vh(!1),a=r[0];return r=b2.bind(null,r[1]),Fn().memoizedState=r,[a,r]},useMutableSource:function(){},useSyncExternalStore:function(r,a,l){var d=st,g=Fn();if(rt){if(l===void 0)throw Error(t(407));l=l()}else{if(l=a(),Nt===null)throw Error(t(349));(ha&30)!==0||Dh(d,a,l)}g.memoizedState=l;var x={value:l,getSnapshot:a};return g.queue=x,qh(Oh.bind(null,d,x,r),[r]),d.flags|=2048,as(9,Lh.bind(null,d,x,l,a),void 0,null),l},useId:function(){var r=Fn(),a=Nt.identifierPrefix;if(rt){var l=tr,d=er;l=(d&~(1<<32-qt(d)-1)).toString(32)+l,a=":"+a+"R"+l,l=ns++,0<l&&(a+="H"+l.toString(32)),a+=":"}else l=y2++,a=":"+a+"r"+l.toString(32)+":";return r.memoizedState=a},unstable_isNewReconciler:!1},N2={readContext:hn,useCallback:Kh,useContext:hn,useEffect:Kc,useImperativeHandle:Yh,useInsertionEffect:Wh,useLayoutEffect:Hh,useMemo:Gh,useReducer:Uc,useRef:Bh,useState:function(){return Uc(rs)},useDebugValue:Gc,useDeferredValue:function(r){var a=fn();return Xh(a,bt.memoizedState,r)},useTransition:function(){var r=Uc(rs)[0],a=fn().memoizedState;return[r,a]},useMutableSource:Ih,useSyncExternalStore:Rh,useId:Zh,unstable_isNewReconciler:!1},S2={readContext:hn,useCallback:Kh,useContext:hn,useEffect:Kc,useImperativeHandle:Yh,useInsertionEffect:Wh,useLayoutEffect:Hh,useMemo:Gh,useReducer:Yc,useRef:Bh,useState:function(){return Yc(rs)},useDebugValue:Gc,useDeferredValue:function(r){var a=fn();return bt===null?a.memoizedState=r:Xh(a,bt.memoizedState,r)},useTransition:function(){var r=Yc(rs)[0],a=fn().memoizedState;return[r,a]},useMutableSource:Ih,useSyncExternalStore:Rh,useId:Zh,unstable_isNewReconciler:!1};function _n(r,a){if(r&&r.defaultProps){a=ie({},a),r=r.defaultProps;for(var l in r)a[l]===void 0&&(a[l]=r[l]);return a}return a}function Xc(r,a,l,d){a=r.memoizedState,l=l(d,a),l=l==null?a:ie({},a,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var Vo={isMounted:function(r){return(r=r._reactInternals)?Dn(r)===r:!1},enqueueSetState:function(r,a,l){r=r._reactInternals;var d=$t(),g=Rr(r),x=rr(d,g);x.payload=a,l!=null&&(x.callback=l),a=Er(r,x,g),a!==null&&(zn(a,r,g,d),Ao(a,r,g))},enqueueReplaceState:function(r,a,l){r=r._reactInternals;var d=$t(),g=Rr(r),x=rr(d,g);x.tag=1,x.payload=a,l!=null&&(x.callback=l),a=Er(r,x,g),a!==null&&(zn(a,r,g,d),Ao(a,r,g))},enqueueForceUpdate:function(r,a){r=r._reactInternals;var l=$t(),d=Rr(r),g=rr(l,d);g.tag=2,a!=null&&(g.callback=a),a=Er(r,g,d),a!==null&&(zn(a,r,d,l),Ao(a,r,d))}};function tf(r,a,l,d,g,x,w){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,x,w):a.prototype&&a.prototype.isPureReactComponent?!Wi(l,d)||!Wi(g,x):!0}function nf(r,a,l){var d=!1,g=Tr,x=a.contextType;return typeof x=="object"&&x!==null?x=hn(x):(g=Ht(a)?oa:Pt.current,d=a.contextTypes,x=(d=d!=null)?Wa(r,g):Tr),a=new a(l,x),r.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Vo,r.stateNode=a,a._reactInternals=r,d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=g,r.__reactInternalMemoizedMaskedChildContext=x),a}function rf(r,a,l,d){r=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,d),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,d),a.state!==r&&Vo.enqueueReplaceState(a,a.state,null)}function Zc(r,a,l,d){var g=r.stateNode;g.props=l,g.state=r.memoizedState,g.refs={},Lc(r);var x=a.contextType;typeof x=="object"&&x!==null?g.context=hn(x):(x=Ht(a)?oa:Pt.current,g.context=Wa(r,x)),g.state=r.memoizedState,x=a.getDerivedStateFromProps,typeof x=="function"&&(Xc(r,a,x,l),g.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(a=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),a!==g.state&&Vo.enqueueReplaceState(g,g.state,null),Io(r,l,g,d),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308)}function Qa(r,a){try{var l="",d=a;do l+=Me(d),d=d.return;while(d);var g=l}catch(x){g=`
Error generating stack: `+x.message+`
`+x.stack}return{value:r,source:a,stack:g,digest:null}}function Qc(r,a,l){return{value:r,source:null,stack:l??null,digest:a??null}}function Jc(r,a){try{console.error(a.value)}catch(l){setTimeout(function(){throw l})}}var k2=typeof WeakMap=="function"?WeakMap:Map;function af(r,a,l){l=rr(-1,l),l.tag=3,l.payload={element:null};var d=a.value;return l.callback=function(){Ko||(Ko=!0,mu=d),Jc(r,a)},l}function sf(r,a,l){l=rr(-1,l),l.tag=3;var d=r.type.getDerivedStateFromError;if(typeof d=="function"){var g=a.value;l.payload=function(){return d(g)},l.callback=function(){Jc(r,a)}}var x=r.stateNode;return x!==null&&typeof x.componentDidCatch=="function"&&(l.callback=function(){Jc(r,a),typeof d!="function"&&(Ar===null?Ar=new Set([this]):Ar.add(this));var w=a.stack;this.componentDidCatch(a.value,{componentStack:w!==null?w:""})}),l}function of(r,a,l){var d=r.pingCache;if(d===null){d=r.pingCache=new k2;var g=new Set;d.set(a,g)}else g=d.get(a),g===void 0&&(g=new Set,d.set(a,g));g.has(l)||(g.add(l),r=$2.bind(null,r,a,l),a.then(r,r))}function lf(r){do{var a;if((a=r.tag===13)&&(a=r.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return r;r=r.return}while(r!==null);return null}function cf(r,a,l,d,g){return(r.mode&1)===0?(r===a?r.flags|=65536:(r.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(a=rr(-1,1),a.tag=2,Er(l,a,1))),l.lanes|=1),r):(r.flags|=65536,r.lanes=g,r)}var _2=T.ReactCurrentOwner,Ut=!1;function Ot(r,a,l,d){a.child=r===null?Th(a,null,l,d):Ka(a,r.child,l,d)}function uf(r,a,l,d,g){l=l.render;var x=a.ref;return Xa(a,g),d=Wc(r,a,l,d,x,g),l=Hc(),r!==null&&!Ut?(a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~g,ar(r,a,g)):(rt&&l&&Cc(a),a.flags|=1,Ot(r,a,d,g),a.child)}function df(r,a,l,d,g){if(r===null){var x=l.type;return typeof x=="function"&&!wu(x)&&x.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(a.tag=15,a.type=x,hf(r,a,x,d,g)):(r=el(l.type,null,d,a,a.mode,g),r.ref=a.ref,r.return=a,a.child=r)}if(x=r.child,(r.lanes&g)===0){var w=x.memoizedProps;if(l=l.compare,l=l!==null?l:Wi,l(w,d)&&r.ref===a.ref)return ar(r,a,g)}return a.flags|=1,r=Lr(x,d),r.ref=a.ref,r.return=a,a.child=r}function hf(r,a,l,d,g){if(r!==null){var x=r.memoizedProps;if(Wi(x,d)&&r.ref===a.ref)if(Ut=!1,a.pendingProps=d=x,(r.lanes&g)!==0)(r.flags&131072)!==0&&(Ut=!0);else return a.lanes=r.lanes,ar(r,a,g)}return eu(r,a,l,d,g)}function ff(r,a,l){var d=a.pendingProps,g=d.children,x=r!==null?r.memoizedState:null;if(d.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qe(ei,rn),rn|=l;else{if((l&1073741824)===0)return r=x!==null?x.baseLanes|l:l,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:r,cachePool:null,transitions:null},a.updateQueue=null,Qe(ei,rn),rn|=r,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=x!==null?x.baseLanes:l,Qe(ei,rn),rn|=d}else x!==null?(d=x.baseLanes|l,a.memoizedState=null):d=l,Qe(ei,rn),rn|=d;return Ot(r,a,g,l),a.child}function mf(r,a){var l=a.ref;(r===null&&l!==null||r!==null&&r.ref!==l)&&(a.flags|=512,a.flags|=2097152)}function eu(r,a,l,d,g){var x=Ht(l)?oa:Pt.current;return x=Wa(a,x),Xa(a,g),l=Wc(r,a,l,d,x,g),d=Hc(),r!==null&&!Ut?(a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~g,ar(r,a,g)):(rt&&d&&Cc(a),a.flags|=1,Ot(r,a,l,g),a.child)}function pf(r,a,l,d,g){if(Ht(l)){var x=!0;ko(a)}else x=!1;if(Xa(a,g),a.stateNode===null)qo(r,a),nf(a,l,d),Zc(a,l,d,g),d=!0;else if(r===null){var w=a.stateNode,z=a.memoizedProps;w.props=z;var I=w.context,B=l.contextType;typeof B=="object"&&B!==null?B=hn(B):(B=Ht(l)?oa:Pt.current,B=Wa(a,B));var ee=l.getDerivedStateFromProps,ne=typeof ee=="function"||typeof w.getSnapshotBeforeUpdate=="function";ne||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(z!==d||I!==B)&&rf(a,w,d,B),Pr=!1;var Z=a.memoizedState;w.state=Z,Io(a,d,w,g),I=a.memoizedState,z!==d||Z!==I||Wt.current||Pr?(typeof ee=="function"&&(Xc(a,l,ee,d),I=a.memoizedState),(z=Pr||tf(a,l,z,d,Z,I,B))?(ne||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(a.flags|=4194308)):(typeof w.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=d,a.memoizedState=I),w.props=d,w.state=I,w.context=B,d=z):(typeof w.componentDidMount=="function"&&(a.flags|=4194308),d=!1)}else{w=a.stateNode,Ph(r,a),z=a.memoizedProps,B=a.type===a.elementType?z:_n(a.type,z),w.props=B,ne=a.pendingProps,Z=w.context,I=l.contextType,typeof I=="object"&&I!==null?I=hn(I):(I=Ht(l)?oa:Pt.current,I=Wa(a,I));var he=l.getDerivedStateFromProps;(ee=typeof he=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(z!==ne||Z!==I)&&rf(a,w,d,I),Pr=!1,Z=a.memoizedState,w.state=Z,Io(a,d,w,g);var pe=a.memoizedState;z!==ne||Z!==pe||Wt.current||Pr?(typeof he=="function"&&(Xc(a,l,he,d),pe=a.memoizedState),(B=Pr||tf(a,l,B,d,Z,pe,I)||!1)?(ee||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(d,pe,I),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(d,pe,I)),typeof w.componentDidUpdate=="function"&&(a.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof w.componentDidUpdate!="function"||z===r.memoizedProps&&Z===r.memoizedState||(a.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||z===r.memoizedProps&&Z===r.memoizedState||(a.flags|=1024),a.memoizedProps=d,a.memoizedState=pe),w.props=d,w.state=pe,w.context=I,d=B):(typeof w.componentDidUpdate!="function"||z===r.memoizedProps&&Z===r.memoizedState||(a.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||z===r.memoizedProps&&Z===r.memoizedState||(a.flags|=1024),d=!1)}return tu(r,a,l,d,x,g)}function tu(r,a,l,d,g,x){mf(r,a);var w=(a.flags&128)!==0;if(!d&&!w)return g&&bh(a,l,!1),ar(r,a,x);d=a.stateNode,_2.current=a;var z=w&&typeof l.getDerivedStateFromError!="function"?null:d.render();return a.flags|=1,r!==null&&w?(a.child=Ka(a,r.child,null,x),a.child=Ka(a,null,z,x)):Ot(r,a,z,x),a.memoizedState=d.state,g&&bh(a,l,!0),a.child}function gf(r){var a=r.stateNode;a.pendingContext?xh(r,a.pendingContext,a.pendingContext!==a.context):a.context&&xh(r,a.context,!1),Oc(r,a.containerInfo)}function xf(r,a,l,d,g){return Ya(),Ec(g),a.flags|=256,Ot(r,a,l,d),a.child}var nu={dehydrated:null,treeContext:null,retryLane:0};function ru(r){return{baseLanes:r,cachePool:null,transitions:null}}function yf(r,a,l){var d=a.pendingProps,g=it.current,x=!1,w=(a.flags&128)!==0,z;if((z=w)||(z=r!==null&&r.memoizedState===null?!1:(g&2)!==0),z?(x=!0,a.flags&=-129):(r===null||r.memoizedState!==null)&&(g|=1),Qe(it,g&1),r===null)return Pc(a),r=a.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((a.mode&1)===0?a.lanes=1:r.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(w=d.children,r=d.fallback,x?(d=a.mode,x=a.child,w={mode:"hidden",children:w},(d&1)===0&&x!==null?(x.childLanes=0,x.pendingProps=w):x=tl(w,d,0,null),r=xa(r,d,l,null),x.return=a,r.return=a,x.sibling=r,a.child=x,a.child.memoizedState=ru(l),a.memoizedState=nu,r):au(a,w));if(g=r.memoizedState,g!==null&&(z=g.dehydrated,z!==null))return C2(r,a,w,d,z,g,l);if(x){x=d.fallback,w=a.mode,g=r.child,z=g.sibling;var I={mode:"hidden",children:d.children};return(w&1)===0&&a.child!==g?(d=a.child,d.childLanes=0,d.pendingProps=I,a.deletions=null):(d=Lr(g,I),d.subtreeFlags=g.subtreeFlags&14680064),z!==null?x=Lr(z,x):(x=xa(x,w,l,null),x.flags|=2),x.return=a,d.return=a,d.sibling=x,a.child=d,d=x,x=a.child,w=r.child.memoizedState,w=w===null?ru(l):{baseLanes:w.baseLanes|l,cachePool:null,transitions:w.transitions},x.memoizedState=w,x.childLanes=r.childLanes&~l,a.memoizedState=nu,d}return x=r.child,r=x.sibling,d=Lr(x,{mode:"visible",children:d.children}),(a.mode&1)===0&&(d.lanes=l),d.return=a,d.sibling=null,r!==null&&(l=a.deletions,l===null?(a.deletions=[r],a.flags|=16):l.push(r)),a.child=d,a.memoizedState=null,d}function au(r,a){return a=tl({mode:"visible",children:a},r.mode,0,null),a.return=r,r.child=a}function Bo(r,a,l,d){return d!==null&&Ec(d),Ka(a,r.child,null,l),r=au(a,a.pendingProps.children),r.flags|=2,a.memoizedState=null,r}function C2(r,a,l,d,g,x,w){if(l)return a.flags&256?(a.flags&=-257,d=Qc(Error(t(422))),Bo(r,a,w,d)):a.memoizedState!==null?(a.child=r.child,a.flags|=128,null):(x=d.fallback,g=a.mode,d=tl({mode:"visible",children:d.children},g,0,null),x=xa(x,g,w,null),x.flags|=2,d.return=a,x.return=a,d.sibling=x,a.child=d,(a.mode&1)!==0&&Ka(a,r.child,null,w),a.child.memoizedState=ru(w),a.memoizedState=nu,x);if((a.mode&1)===0)return Bo(r,a,w,null);if(g.data==="$!"){if(d=g.nextSibling&&g.nextSibling.dataset,d)var z=d.dgst;return d=z,x=Error(t(419)),d=Qc(x,d,void 0),Bo(r,a,w,d)}if(z=(w&r.childLanes)!==0,Ut||z){if(d=Nt,d!==null){switch(w&-w){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(d.suspendedLanes|w))!==0?0:g,g!==0&&g!==x.retryLane&&(x.retryLane=g,nr(r,g),zn(d,r,g,-1))}return vu(),d=Qc(Error(t(421))),Bo(r,a,w,d)}return g.data==="$?"?(a.flags|=128,a.child=r.child,a=F2.bind(null,r),g._reactRetry=a,null):(r=x.treeContext,nn=_r(g.nextSibling),tn=a,rt=!0,kn=null,r!==null&&(un[dn++]=er,un[dn++]=tr,un[dn++]=la,er=r.id,tr=r.overflow,la=a),a=au(a,d.children),a.flags|=4096,a)}function bf(r,a,l){r.lanes|=a;var d=r.alternate;d!==null&&(d.lanes|=a),Rc(r.return,a,l)}function iu(r,a,l,d,g){var x=r.memoizedState;x===null?r.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:g}:(x.isBackwards=a,x.rendering=null,x.renderingStartTime=0,x.last=d,x.tail=l,x.tailMode=g)}function vf(r,a,l){var d=a.pendingProps,g=d.revealOrder,x=d.tail;if(Ot(r,a,d.children,l),d=it.current,(d&2)!==0)d=d&1|2,a.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=a.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&bf(r,l,a);else if(r.tag===19)bf(r,l,a);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break e;for(;r.sibling===null;){if(r.return===null||r.return===a)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}d&=1}if(Qe(it,d),(a.mode&1)===0)a.memoizedState=null;else switch(g){case"forwards":for(l=a.child,g=null;l!==null;)r=l.alternate,r!==null&&Ro(r)===null&&(g=l),l=l.sibling;l=g,l===null?(g=a.child,a.child=null):(g=l.sibling,l.sibling=null),iu(a,!1,g,l,x);break;case"backwards":for(l=null,g=a.child,a.child=null;g!==null;){if(r=g.alternate,r!==null&&Ro(r)===null){a.child=g;break}r=g.sibling,g.sibling=l,l=g,g=r}iu(a,!0,l,null,x);break;case"together":iu(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function qo(r,a){(a.mode&1)===0&&r!==null&&(r.alternate=null,a.alternate=null,a.flags|=2)}function ar(r,a,l){if(r!==null&&(a.dependencies=r.dependencies),fa|=a.lanes,(l&a.childLanes)===0)return null;if(r!==null&&a.child!==r.child)throw Error(t(153));if(a.child!==null){for(r=a.child,l=Lr(r,r.pendingProps),a.child=l,l.return=a;r.sibling!==null;)r=r.sibling,l=l.sibling=Lr(r,r.pendingProps),l.return=a;l.sibling=null}return a.child}function T2(r,a,l){switch(a.tag){case 3:gf(a),Ya();break;case 5:Ah(a);break;case 1:Ht(a.type)&&ko(a);break;case 4:Oc(a,a.stateNode.containerInfo);break;case 10:var d=a.type._context,g=a.memoizedProps.value;Qe(Eo,d._currentValue),d._currentValue=g;break;case 13:if(d=a.memoizedState,d!==null)return d.dehydrated!==null?(Qe(it,it.current&1),a.flags|=128,null):(l&a.child.childLanes)!==0?yf(r,a,l):(Qe(it,it.current&1),r=ar(r,a,l),r!==null?r.sibling:null);Qe(it,it.current&1);break;case 19:if(d=(l&a.childLanes)!==0,(r.flags&128)!==0){if(d)return vf(r,a,l);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),Qe(it,it.current),d)break;return null;case 22:case 23:return a.lanes=0,ff(r,a,l)}return ar(r,a,l)}var wf,su,jf,Nf;wf=function(r,a){for(var l=a.child;l!==null;){if(l.tag===5||l.tag===6)r.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},su=function(){},jf=function(r,a,l,d){var g=r.memoizedProps;if(g!==d){r=a.stateNode,da($n.current);var x=null;switch(l){case"input":g=X(r,g),d=X(r,d),x=[];break;case"select":g=ie({},g,{value:void 0}),d=ie({},d,{value:void 0}),x=[];break;case"textarea":g=sn(r,g),d=sn(r,d),x=[];break;default:typeof g.onClick!="function"&&typeof d.onClick=="function"&&(r.onclick=jo)}gr(l,d);var w;l=null;for(B in g)if(!d.hasOwnProperty(B)&&g.hasOwnProperty(B)&&g[B]!=null)if(B==="style"){var z=g[B];for(w in z)z.hasOwnProperty(w)&&(l||(l={}),l[w]="")}else B!=="dangerouslySetInnerHTML"&&B!=="children"&&B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&B!=="autoFocus"&&(o.hasOwnProperty(B)?x||(x=[]):(x=x||[]).push(B,null));for(B in d){var I=d[B];if(z=g!=null?g[B]:void 0,d.hasOwnProperty(B)&&I!==z&&(I!=null||z!=null))if(B==="style")if(z){for(w in z)!z.hasOwnProperty(w)||I&&I.hasOwnProperty(w)||(l||(l={}),l[w]="");for(w in I)I.hasOwnProperty(w)&&z[w]!==I[w]&&(l||(l={}),l[w]=I[w])}else l||(x||(x=[]),x.push(B,l)),l=I;else B==="dangerouslySetInnerHTML"?(I=I?I.__html:void 0,z=z?z.__html:void 0,I!=null&&z!==I&&(x=x||[]).push(B,I)):B==="children"?typeof I!="string"&&typeof I!="number"||(x=x||[]).push(B,""+I):B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&(o.hasOwnProperty(B)?(I!=null&&B==="onScroll"&&Je("scroll",r),x||z===I||(x=[])):(x=x||[]).push(B,I))}l&&(x=x||[]).push("style",l);var B=x;(a.updateQueue=B)&&(a.flags|=4)}},Nf=function(r,a,l,d){l!==d&&(a.flags|=4)};function is(r,a){if(!rt)switch(r.tailMode){case"hidden":a=r.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?a||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function Mt(r){var a=r.alternate!==null&&r.alternate.child===r.child,l=0,d=0;if(a)for(var g=r.child;g!==null;)l|=g.lanes|g.childLanes,d|=g.subtreeFlags&14680064,d|=g.flags&14680064,g.return=r,g=g.sibling;else for(g=r.child;g!==null;)l|=g.lanes|g.childLanes,d|=g.subtreeFlags,d|=g.flags,g.return=r,g=g.sibling;return r.subtreeFlags|=d,r.childLanes=l,a}function z2(r,a,l){var d=a.pendingProps;switch(Tc(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mt(a),null;case 1:return Ht(a.type)&&So(),Mt(a),null;case 3:return d=a.stateNode,Za(),et(Wt),et(Pt),Vc(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(r===null||r.child===null)&&(zo(a)?a.flags|=4:r===null||r.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,kn!==null&&(xu(kn),kn=null))),su(r,a),Mt(a),null;case 5:$c(a);var g=da(es.current);if(l=a.type,r!==null&&a.stateNode!=null)jf(r,a,l,d,g),r.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!d){if(a.stateNode===null)throw Error(t(166));return Mt(a),null}if(r=da($n.current),zo(a)){d=a.stateNode,l=a.type;var x=a.memoizedProps;switch(d[On]=a,d[Gi]=x,r=(a.mode&1)!==0,l){case"dialog":Je("cancel",d),Je("close",d);break;case"iframe":case"object":case"embed":Je("load",d);break;case"video":case"audio":for(g=0;g<Ui.length;g++)Je(Ui[g],d);break;case"source":Je("error",d);break;case"img":case"image":case"link":Je("error",d),Je("load",d);break;case"details":Je("toggle",d);break;case"input":we(d,x),Je("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!x.multiple},Je("invalid",d);break;case"textarea":za(d,x),Je("invalid",d)}gr(l,x),g=null;for(var w in x)if(x.hasOwnProperty(w)){var z=x[w];w==="children"?typeof z=="string"?d.textContent!==z&&(x.suppressHydrationWarning!==!0&&wo(d.textContent,z,r),g=["children",z]):typeof z=="number"&&d.textContent!==""+z&&(x.suppressHydrationWarning!==!0&&wo(d.textContent,z,r),g=["children",""+z]):o.hasOwnProperty(w)&&z!=null&&w==="onScroll"&&Je("scroll",d)}switch(l){case"input":wn(d),se(d,x,!0);break;case"textarea":wn(d),mr(d);break;case"select":case"option":break;default:typeof x.onClick=="function"&&(d.onclick=jo)}d=g,a.updateQueue=d,d!==null&&(a.flags|=4)}else{w=g.nodeType===9?g:g.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=Kr(l)),r==="http://www.w3.org/1999/xhtml"?l==="script"?(r=w.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof d.is=="string"?r=w.createElement(l,{is:d.is}):(r=w.createElement(l),l==="select"&&(w=r,d.multiple?w.multiple=!0:d.size&&(w.size=d.size))):r=w.createElementNS(r,l),r[On]=a,r[Gi]=d,wf(r,a,!1,!1),a.stateNode=r;e:{switch(w=xr(l,d),l){case"dialog":Je("cancel",r),Je("close",r),g=d;break;case"iframe":case"object":case"embed":Je("load",r),g=d;break;case"video":case"audio":for(g=0;g<Ui.length;g++)Je(Ui[g],r);g=d;break;case"source":Je("error",r),g=d;break;case"img":case"image":case"link":Je("error",r),Je("load",r),g=d;break;case"details":Je("toggle",r),g=d;break;case"input":we(r,d),g=X(r,d),Je("invalid",r);break;case"option":g=d;break;case"select":r._wrapperState={wasMultiple:!!d.multiple},g=ie({},d,{value:void 0}),Je("invalid",r);break;case"textarea":za(r,d),g=sn(r,d),Je("invalid",r);break;default:g=d}gr(l,g),z=g;for(x in z)if(z.hasOwnProperty(x)){var I=z[x];x==="style"?Zr(r,I):x==="dangerouslySetInnerHTML"?(I=I?I.__html:void 0,I!=null&&Gr(r,I)):x==="children"?typeof I=="string"?(l!=="textarea"||I!=="")&&In(r,I):typeof I=="number"&&In(r,""+I):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(o.hasOwnProperty(x)?I!=null&&x==="onScroll"&&Je("scroll",r):I!=null&&_(r,x,I,w))}switch(l){case"input":wn(r),se(r,d,!1);break;case"textarea":wn(r),mr(r);break;case"option":d.value!=null&&r.setAttribute("value",""+Le(d.value));break;case"select":r.multiple=!!d.multiple,x=d.value,x!=null?Ve(r,!!d.multiple,x,!1):d.defaultValue!=null&&Ve(r,!!d.multiple,d.defaultValue,!0);break;default:typeof g.onClick=="function"&&(r.onclick=jo)}switch(l){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return Mt(a),null;case 6:if(r&&a.stateNode!=null)Nf(r,a,r.memoizedProps,d);else{if(typeof d!="string"&&a.stateNode===null)throw Error(t(166));if(l=da(es.current),da($n.current),zo(a)){if(d=a.stateNode,l=a.memoizedProps,d[On]=a,(x=d.nodeValue!==l)&&(r=tn,r!==null))switch(r.tag){case 3:wo(d.nodeValue,l,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&wo(d.nodeValue,l,(r.mode&1)!==0)}x&&(a.flags|=4)}else d=(l.nodeType===9?l:l.ownerDocument).createTextNode(d),d[On]=a,a.stateNode=d}return Mt(a),null;case 13:if(et(it),d=a.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(rt&&nn!==null&&(a.mode&1)!==0&&(a.flags&128)===0)kh(),Ya(),a.flags|=98560,x=!1;else if(x=zo(a),d!==null&&d.dehydrated!==null){if(r===null){if(!x)throw Error(t(318));if(x=a.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(t(317));x[On]=a}else Ya(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Mt(a),x=!1}else kn!==null&&(xu(kn),kn=null),x=!0;if(!x)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=l,a):(d=d!==null,d!==(r!==null&&r.memoizedState!==null)&&d&&(a.child.flags|=8192,(a.mode&1)!==0&&(r===null||(it.current&1)!==0?vt===0&&(vt=3):vu())),a.updateQueue!==null&&(a.flags|=4),Mt(a),null);case 4:return Za(),su(r,a),r===null&&Yi(a.stateNode.containerInfo),Mt(a),null;case 10:return Ic(a.type._context),Mt(a),null;case 17:return Ht(a.type)&&So(),Mt(a),null;case 19:if(et(it),x=a.memoizedState,x===null)return Mt(a),null;if(d=(a.flags&128)!==0,w=x.rendering,w===null)if(d)is(x,!1);else{if(vt!==0||r!==null&&(r.flags&128)!==0)for(r=a.child;r!==null;){if(w=Ro(r),w!==null){for(a.flags|=128,is(x,!1),d=w.updateQueue,d!==null&&(a.updateQueue=d,a.flags|=4),a.subtreeFlags=0,d=l,l=a.child;l!==null;)x=l,r=d,x.flags&=14680066,w=x.alternate,w===null?(x.childLanes=0,x.lanes=r,x.child=null,x.subtreeFlags=0,x.memoizedProps=null,x.memoizedState=null,x.updateQueue=null,x.dependencies=null,x.stateNode=null):(x.childLanes=w.childLanes,x.lanes=w.lanes,x.child=w.child,x.subtreeFlags=0,x.deletions=null,x.memoizedProps=w.memoizedProps,x.memoizedState=w.memoizedState,x.updateQueue=w.updateQueue,x.type=w.type,r=w.dependencies,x.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),l=l.sibling;return Qe(it,it.current&1|2),a.child}r=r.sibling}x.tail!==null&&nt()>ti&&(a.flags|=128,d=!0,is(x,!1),a.lanes=4194304)}else{if(!d)if(r=Ro(w),r!==null){if(a.flags|=128,d=!0,l=r.updateQueue,l!==null&&(a.updateQueue=l,a.flags|=4),is(x,!0),x.tail===null&&x.tailMode==="hidden"&&!w.alternate&&!rt)return Mt(a),null}else 2*nt()-x.renderingStartTime>ti&&l!==1073741824&&(a.flags|=128,d=!0,is(x,!1),a.lanes=4194304);x.isBackwards?(w.sibling=a.child,a.child=w):(l=x.last,l!==null?l.sibling=w:a.child=w,x.last=w)}return x.tail!==null?(a=x.tail,x.rendering=a,x.tail=a.sibling,x.renderingStartTime=nt(),a.sibling=null,l=it.current,Qe(it,d?l&1|2:l&1),a):(Mt(a),null);case 22:case 23:return bu(),d=a.memoizedState!==null,r!==null&&r.memoizedState!==null!==d&&(a.flags|=8192),d&&(a.mode&1)!==0?(rn&1073741824)!==0&&(Mt(a),a.subtreeFlags&6&&(a.flags|=8192)):Mt(a),null;case 24:return null;case 25:return null}throw Error(t(156,a.tag))}function P2(r,a){switch(Tc(a),a.tag){case 1:return Ht(a.type)&&So(),r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 3:return Za(),et(Wt),et(Pt),Vc(),r=a.flags,(r&65536)!==0&&(r&128)===0?(a.flags=r&-65537|128,a):null;case 5:return $c(a),null;case 13:if(et(it),r=a.memoizedState,r!==null&&r.dehydrated!==null){if(a.alternate===null)throw Error(t(340));Ya()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 19:return et(it),null;case 4:return Za(),null;case 10:return Ic(a.type._context),null;case 22:case 23:return bu(),null;case 24:return null;default:return null}}var Wo=!1,At=!1,E2=typeof WeakSet=="function"?WeakSet:Set,me=null;function Ja(r,a){var l=r.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(d){ut(r,a,d)}else l.current=null}function ou(r,a,l){try{l()}catch(d){ut(r,a,d)}}var Sf=!1;function M2(r,a){if(bc=co,r=th(),dc(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var g=d.anchorOffset,x=d.focusNode;d=d.focusOffset;try{l.nodeType,x.nodeType}catch{l=null;break e}var w=0,z=-1,I=-1,B=0,ee=0,ne=r,Z=null;t:for(;;){for(var he;ne!==l||g!==0&&ne.nodeType!==3||(z=w+g),ne!==x||d!==0&&ne.nodeType!==3||(I=w+d),ne.nodeType===3&&(w+=ne.nodeValue.length),(he=ne.firstChild)!==null;)Z=ne,ne=he;for(;;){if(ne===r)break t;if(Z===l&&++B===g&&(z=w),Z===x&&++ee===d&&(I=w),(he=ne.nextSibling)!==null)break;ne=Z,Z=ne.parentNode}ne=he}l=z===-1||I===-1?null:{start:z,end:I}}else l=null}l=l||{start:0,end:0}}else l=null;for(vc={focusedElem:r,selectionRange:l},co=!1,me=a;me!==null;)if(a=me,r=a.child,(a.subtreeFlags&1028)!==0&&r!==null)r.return=a,me=r;else for(;me!==null;){a=me;try{var pe=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(pe!==null){var ge=pe.memoizedProps,ft=pe.memoizedState,$=a.stateNode,D=$.getSnapshotBeforeUpdate(a.elementType===a.type?ge:_n(a.type,ge),ft);$.__reactInternalSnapshotBeforeUpdate=D}break;case 3:var F=a.stateNode.containerInfo;F.nodeType===1?F.textContent="":F.nodeType===9&&F.documentElement&&F.removeChild(F.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(re){ut(a,a.return,re)}if(r=a.sibling,r!==null){r.return=a.return,me=r;break}me=a.return}return pe=Sf,Sf=!1,pe}function ss(r,a,l){var d=a.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var g=d=d.next;do{if((g.tag&r)===r){var x=g.destroy;g.destroy=void 0,x!==void 0&&ou(a,l,x)}g=g.next}while(g!==d)}}function Ho(r,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var l=a=a.next;do{if((l.tag&r)===r){var d=l.create;l.destroy=d()}l=l.next}while(l!==a)}}function lu(r){var a=r.ref;if(a!==null){var l=r.stateNode;switch(r.tag){case 5:r=l;break;default:r=l}typeof a=="function"?a(r):a.current=r}}function kf(r){var a=r.alternate;a!==null&&(r.alternate=null,kf(a)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(a=r.stateNode,a!==null&&(delete a[On],delete a[Gi],delete a[Sc],delete a[m2],delete a[p2])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function _f(r){return r.tag===5||r.tag===3||r.tag===4}function Cf(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||_f(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function cu(r,a,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,a?l.nodeType===8?l.parentNode.insertBefore(r,a):l.insertBefore(r,a):(l.nodeType===8?(a=l.parentNode,a.insertBefore(r,l)):(a=l,a.appendChild(r)),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=jo));else if(d!==4&&(r=r.child,r!==null))for(cu(r,a,l),r=r.sibling;r!==null;)cu(r,a,l),r=r.sibling}function uu(r,a,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,a?l.insertBefore(r,a):l.appendChild(r);else if(d!==4&&(r=r.child,r!==null))for(uu(r,a,l),r=r.sibling;r!==null;)uu(r,a,l),r=r.sibling}var _t=null,Cn=!1;function Mr(r,a,l){for(l=l.child;l!==null;)Tf(r,a,l),l=l.sibling}function Tf(r,a,l){if(Jt&&typeof Jt.onCommitFiberUnmount=="function")try{Jt.onCommitFiberUnmount(ta,l)}catch{}switch(l.tag){case 5:At||Ja(l,a);case 6:var d=_t,g=Cn;_t=null,Mr(r,a,l),_t=d,Cn=g,_t!==null&&(Cn?(r=_t,l=l.stateNode,r.nodeType===8?r.parentNode.removeChild(l):r.removeChild(l)):_t.removeChild(l.stateNode));break;case 18:_t!==null&&(Cn?(r=_t,l=l.stateNode,r.nodeType===8?Nc(r.parentNode,l):r.nodeType===1&&Nc(r,l),Oi(r)):Nc(_t,l.stateNode));break;case 4:d=_t,g=Cn,_t=l.stateNode.containerInfo,Cn=!0,Mr(r,a,l),_t=d,Cn=g;break;case 0:case 11:case 14:case 15:if(!At&&(d=l.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){g=d=d.next;do{var x=g,w=x.destroy;x=x.tag,w!==void 0&&((x&2)!==0||(x&4)!==0)&&ou(l,a,w),g=g.next}while(g!==d)}Mr(r,a,l);break;case 1:if(!At&&(Ja(l,a),d=l.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=l.memoizedProps,d.state=l.memoizedState,d.componentWillUnmount()}catch(z){ut(l,a,z)}Mr(r,a,l);break;case 21:Mr(r,a,l);break;case 22:l.mode&1?(At=(d=At)||l.memoizedState!==null,Mr(r,a,l),At=d):Mr(r,a,l);break;default:Mr(r,a,l)}}function zf(r){var a=r.updateQueue;if(a!==null){r.updateQueue=null;var l=r.stateNode;l===null&&(l=r.stateNode=new E2),a.forEach(function(d){var g=V2.bind(null,r,d);l.has(d)||(l.add(d),d.then(g,g))})}}function Tn(r,a){var l=a.deletions;if(l!==null)for(var d=0;d<l.length;d++){var g=l[d];try{var x=r,w=a,z=w;e:for(;z!==null;){switch(z.tag){case 5:_t=z.stateNode,Cn=!1;break e;case 3:_t=z.stateNode.containerInfo,Cn=!0;break e;case 4:_t=z.stateNode.containerInfo,Cn=!0;break e}z=z.return}if(_t===null)throw Error(t(160));Tf(x,w,g),_t=null,Cn=!1;var I=g.alternate;I!==null&&(I.return=null),g.return=null}catch(B){ut(g,a,B)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)Pf(a,r),a=a.sibling}function Pf(r,a){var l=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Tn(a,r),Vn(r),d&4){try{ss(3,r,r.return),Ho(3,r)}catch(ge){ut(r,r.return,ge)}try{ss(5,r,r.return)}catch(ge){ut(r,r.return,ge)}}break;case 1:Tn(a,r),Vn(r),d&512&&l!==null&&Ja(l,l.return);break;case 5:if(Tn(a,r),Vn(r),d&512&&l!==null&&Ja(l,l.return),r.flags&32){var g=r.stateNode;try{In(g,"")}catch(ge){ut(r,r.return,ge)}}if(d&4&&(g=r.stateNode,g!=null)){var x=r.memoizedProps,w=l!==null?l.memoizedProps:x,z=r.type,I=r.updateQueue;if(r.updateQueue=null,I!==null)try{z==="input"&&x.type==="radio"&&x.name!=null&&Re(g,x),xr(z,w);var B=xr(z,x);for(w=0;w<I.length;w+=2){var ee=I[w],ne=I[w+1];ee==="style"?Zr(g,ne):ee==="dangerouslySetInnerHTML"?Gr(g,ne):ee==="children"?In(g,ne):_(g,ee,ne,B)}switch(z){case"input":_e(g,x);break;case"textarea":Pa(g,x);break;case"select":var Z=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!x.multiple;var he=x.value;he!=null?Ve(g,!!x.multiple,he,!1):Z!==!!x.multiple&&(x.defaultValue!=null?Ve(g,!!x.multiple,x.defaultValue,!0):Ve(g,!!x.multiple,x.multiple?[]:"",!1))}g[Gi]=x}catch(ge){ut(r,r.return,ge)}}break;case 6:if(Tn(a,r),Vn(r),d&4){if(r.stateNode===null)throw Error(t(162));g=r.stateNode,x=r.memoizedProps;try{g.nodeValue=x}catch(ge){ut(r,r.return,ge)}}break;case 3:if(Tn(a,r),Vn(r),d&4&&l!==null&&l.memoizedState.isDehydrated)try{Oi(a.containerInfo)}catch(ge){ut(r,r.return,ge)}break;case 4:Tn(a,r),Vn(r);break;case 13:Tn(a,r),Vn(r),g=r.child,g.flags&8192&&(x=g.memoizedState!==null,g.stateNode.isHidden=x,!x||g.alternate!==null&&g.alternate.memoizedState!==null||(fu=nt())),d&4&&zf(r);break;case 22:if(ee=l!==null&&l.memoizedState!==null,r.mode&1?(At=(B=At)||ee,Tn(a,r),At=B):Tn(a,r),Vn(r),d&8192){if(B=r.memoizedState!==null,(r.stateNode.isHidden=B)&&!ee&&(r.mode&1)!==0)for(me=r,ee=r.child;ee!==null;){for(ne=me=ee;me!==null;){switch(Z=me,he=Z.child,Z.tag){case 0:case 11:case 14:case 15:ss(4,Z,Z.return);break;case 1:Ja(Z,Z.return);var pe=Z.stateNode;if(typeof pe.componentWillUnmount=="function"){d=Z,l=Z.return;try{a=d,pe.props=a.memoizedProps,pe.state=a.memoizedState,pe.componentWillUnmount()}catch(ge){ut(d,l,ge)}}break;case 5:Ja(Z,Z.return);break;case 22:if(Z.memoizedState!==null){Af(ne);continue}}he!==null?(he.return=Z,me=he):Af(ne)}ee=ee.sibling}e:for(ee=null,ne=r;;){if(ne.tag===5){if(ee===null){ee=ne;try{g=ne.stateNode,B?(x=g.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none"):(z=ne.stateNode,I=ne.memoizedProps.style,w=I!=null&&I.hasOwnProperty("display")?I.display:null,z.style.display=Xr("display",w))}catch(ge){ut(r,r.return,ge)}}}else if(ne.tag===6){if(ee===null)try{ne.stateNode.nodeValue=B?"":ne.memoizedProps}catch(ge){ut(r,r.return,ge)}}else if((ne.tag!==22&&ne.tag!==23||ne.memoizedState===null||ne===r)&&ne.child!==null){ne.child.return=ne,ne=ne.child;continue}if(ne===r)break e;for(;ne.sibling===null;){if(ne.return===null||ne.return===r)break e;ee===ne&&(ee=null),ne=ne.return}ee===ne&&(ee=null),ne.sibling.return=ne.return,ne=ne.sibling}}break;case 19:Tn(a,r),Vn(r),d&4&&zf(r);break;case 21:break;default:Tn(a,r),Vn(r)}}function Vn(r){var a=r.flags;if(a&2){try{e:{for(var l=r.return;l!==null;){if(_f(l)){var d=l;break e}l=l.return}throw Error(t(160))}switch(d.tag){case 5:var g=d.stateNode;d.flags&32&&(In(g,""),d.flags&=-33);var x=Cf(r);uu(r,x,g);break;case 3:case 4:var w=d.stateNode.containerInfo,z=Cf(r);cu(r,z,w);break;default:throw Error(t(161))}}catch(I){ut(r,r.return,I)}r.flags&=-3}a&4096&&(r.flags&=-4097)}function A2(r,a,l){me=r,Ef(r)}function Ef(r,a,l){for(var d=(r.mode&1)!==0;me!==null;){var g=me,x=g.child;if(g.tag===22&&d){var w=g.memoizedState!==null||Wo;if(!w){var z=g.alternate,I=z!==null&&z.memoizedState!==null||At;z=Wo;var B=At;if(Wo=w,(At=I)&&!B)for(me=g;me!==null;)w=me,I=w.child,w.tag===22&&w.memoizedState!==null?If(g):I!==null?(I.return=w,me=I):If(g);for(;x!==null;)me=x,Ef(x),x=x.sibling;me=g,Wo=z,At=B}Mf(r)}else(g.subtreeFlags&8772)!==0&&x!==null?(x.return=g,me=x):Mf(r)}}function Mf(r){for(;me!==null;){var a=me;if((a.flags&8772)!==0){var l=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:At||Ho(5,a);break;case 1:var d=a.stateNode;if(a.flags&4&&!At)if(l===null)d.componentDidMount();else{var g=a.elementType===a.type?l.memoizedProps:_n(a.type,l.memoizedProps);d.componentDidUpdate(g,l.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var x=a.updateQueue;x!==null&&Mh(a,x,d);break;case 3:var w=a.updateQueue;if(w!==null){if(l=null,a.child!==null)switch(a.child.tag){case 5:l=a.child.stateNode;break;case 1:l=a.child.stateNode}Mh(a,w,l)}break;case 5:var z=a.stateNode;if(l===null&&a.flags&4){l=z;var I=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":I.autoFocus&&l.focus();break;case"img":I.src&&(l.src=I.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var B=a.alternate;if(B!==null){var ee=B.memoizedState;if(ee!==null){var ne=ee.dehydrated;ne!==null&&Oi(ne)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}At||a.flags&512&&lu(a)}catch(Z){ut(a,a.return,Z)}}if(a===r){me=null;break}if(l=a.sibling,l!==null){l.return=a.return,me=l;break}me=a.return}}function Af(r){for(;me!==null;){var a=me;if(a===r){me=null;break}var l=a.sibling;if(l!==null){l.return=a.return,me=l;break}me=a.return}}function If(r){for(;me!==null;){var a=me;try{switch(a.tag){case 0:case 11:case 15:var l=a.return;try{Ho(4,a)}catch(I){ut(a,l,I)}break;case 1:var d=a.stateNode;if(typeof d.componentDidMount=="function"){var g=a.return;try{d.componentDidMount()}catch(I){ut(a,g,I)}}var x=a.return;try{lu(a)}catch(I){ut(a,x,I)}break;case 5:var w=a.return;try{lu(a)}catch(I){ut(a,w,I)}}}catch(I){ut(a,a.return,I)}if(a===r){me=null;break}var z=a.sibling;if(z!==null){z.return=a.return,me=z;break}me=a.return}}var I2=Math.ceil,Uo=T.ReactCurrentDispatcher,du=T.ReactCurrentOwner,mn=T.ReactCurrentBatchConfig,Be=0,Nt=null,xt=null,Ct=0,rn=0,ei=Cr(0),vt=0,os=null,fa=0,Yo=0,hu=0,ls=null,Yt=null,fu=0,ti=1/0,ir=null,Ko=!1,mu=null,Ar=null,Go=!1,Ir=null,Xo=0,cs=0,pu=null,Zo=-1,Qo=0;function $t(){return(Be&6)!==0?nt():Zo!==-1?Zo:Zo=nt()}function Rr(r){return(r.mode&1)===0?1:(Be&2)!==0&&Ct!==0?Ct&-Ct:x2.transition!==null?(Qo===0&&(Qo=ve()),Qo):(r=Ke,r!==0||(r=window.event,r=r===void 0?16:R0(r.type)),r)}function zn(r,a,l,d){if(50<cs)throw cs=0,pu=null,Error(t(185));Lt(r,l,d),((Be&2)===0||r!==Nt)&&(r===Nt&&((Be&2)===0&&(Yo|=l),vt===4&&Dr(r,Ct)),Kt(r,d),l===1&&Be===0&&(a.mode&1)===0&&(ti=nt()+500,_o&&zr()))}function Kt(r,a){var l=r.callbackNode;ke(r,a);var d=aa(r,r===Nt?Ct:0);if(d===0)l!==null&&Ei(l),r.callbackNode=null,r.callbackPriority=0;else if(a=d&-d,r.callbackPriority!==a){if(l!=null&&Ei(l),a===1)r.tag===0?g2(Df.bind(null,r)):vh(Df.bind(null,r)),h2(function(){(Be&6)===0&&zr()}),l=null;else{switch(C0(d)){case 1:l=Ia;break;case 4:l=Mi;break;case 16:l=ea;break;case 536870912:l=Ai;break;default:l=ea}l=Wf(l,Rf.bind(null,r))}r.callbackPriority=a,r.callbackNode=l}}function Rf(r,a){if(Zo=-1,Qo=0,(Be&6)!==0)throw Error(t(327));var l=r.callbackNode;if(ni()&&r.callbackNode!==l)return null;var d=aa(r,r===Nt?Ct:0);if(d===0)return null;if((d&30)!==0||(d&r.expiredLanes)!==0||a)a=Jo(r,d);else{a=d;var g=Be;Be|=2;var x=Of();(Nt!==r||Ct!==a)&&(ir=null,ti=nt()+500,pa(r,a));do try{L2();break}catch(z){Lf(r,z)}while(!0);Ac(),Uo.current=x,Be=g,xt!==null?a=0:(Nt=null,Ct=0,a=vt)}if(a!==0){if(a===2&&(g=ce(r),g!==0&&(d=g,a=gu(r,g))),a===1)throw l=os,pa(r,0),Dr(r,d),Kt(r,nt()),l;if(a===6)Dr(r,d);else{if(g=r.current.alternate,(d&30)===0&&!R2(g)&&(a=Jo(r,d),a===2&&(x=ce(r),x!==0&&(d=x,a=gu(r,x))),a===1))throw l=os,pa(r,0),Dr(r,d),Kt(r,nt()),l;switch(r.finishedWork=g,r.finishedLanes=d,a){case 0:case 1:throw Error(t(345));case 2:ga(r,Yt,ir);break;case 3:if(Dr(r,d),(d&130023424)===d&&(a=fu+500-nt(),10<a)){if(aa(r,0)!==0)break;if(g=r.suspendedLanes,(g&d)!==d){$t(),r.pingedLanes|=r.suspendedLanes&g;break}r.timeoutHandle=jc(ga.bind(null,r,Yt,ir),a);break}ga(r,Yt,ir);break;case 4:if(Dr(r,d),(d&4194240)===d)break;for(a=r.eventTimes,g=-1;0<d;){var w=31-qt(d);x=1<<w,w=a[w],w>g&&(g=w),d&=~x}if(d=g,d=nt()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*I2(d/1960))-d,10<d){r.timeoutHandle=jc(ga.bind(null,r,Yt,ir),d);break}ga(r,Yt,ir);break;case 5:ga(r,Yt,ir);break;default:throw Error(t(329))}}}return Kt(r,nt()),r.callbackNode===l?Rf.bind(null,r):null}function gu(r,a){var l=ls;return r.current.memoizedState.isDehydrated&&(pa(r,a).flags|=256),r=Jo(r,a),r!==2&&(a=Yt,Yt=l,a!==null&&xu(a)),r}function xu(r){Yt===null?Yt=r:Yt.push.apply(Yt,r)}function R2(r){for(var a=r;;){if(a.flags&16384){var l=a.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var d=0;d<l.length;d++){var g=l[d],x=g.getSnapshot;g=g.value;try{if(!Sn(x(),g))return!1}catch{return!1}}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Dr(r,a){for(a&=~hu,a&=~Yo,r.suspendedLanes|=a,r.pingedLanes&=~a,r=r.expirationTimes;0<a;){var l=31-qt(a),d=1<<l;r[l]=-1,a&=~d}}function Df(r){if((Be&6)!==0)throw Error(t(327));ni();var a=aa(r,0);if((a&1)===0)return Kt(r,nt()),null;var l=Jo(r,a);if(r.tag!==0&&l===2){var d=ce(r);d!==0&&(a=d,l=gu(r,d))}if(l===1)throw l=os,pa(r,0),Dr(r,a),Kt(r,nt()),l;if(l===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=a,ga(r,Yt,ir),Kt(r,nt()),null}function yu(r,a){var l=Be;Be|=1;try{return r(a)}finally{Be=l,Be===0&&(ti=nt()+500,_o&&zr())}}function ma(r){Ir!==null&&Ir.tag===0&&(Be&6)===0&&ni();var a=Be;Be|=1;var l=mn.transition,d=Ke;try{if(mn.transition=null,Ke=1,r)return r()}finally{Ke=d,mn.transition=l,Be=a,(Be&6)===0&&zr()}}function bu(){rn=ei.current,et(ei)}function pa(r,a){r.finishedWork=null,r.finishedLanes=0;var l=r.timeoutHandle;if(l!==-1&&(r.timeoutHandle=-1,d2(l)),xt!==null)for(l=xt.return;l!==null;){var d=l;switch(Tc(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&So();break;case 3:Za(),et(Wt),et(Pt),Vc();break;case 5:$c(d);break;case 4:Za();break;case 13:et(it);break;case 19:et(it);break;case 10:Ic(d.type._context);break;case 22:case 23:bu()}l=l.return}if(Nt=r,xt=r=Lr(r.current,null),Ct=rn=a,vt=0,os=null,hu=Yo=fa=0,Yt=ls=null,ua!==null){for(a=0;a<ua.length;a++)if(l=ua[a],d=l.interleaved,d!==null){l.interleaved=null;var g=d.next,x=l.pending;if(x!==null){var w=x.next;x.next=g,d.next=w}l.pending=d}ua=null}return r}function Lf(r,a){do{var l=xt;try{if(Ac(),Do.current=Fo,Lo){for(var d=st.memoizedState;d!==null;){var g=d.queue;g!==null&&(g.pending=null),d=d.next}Lo=!1}if(ha=0,jt=bt=st=null,ts=!1,ns=0,du.current=null,l===null||l.return===null){vt=1,os=a,xt=null;break}e:{var x=r,w=l.return,z=l,I=a;if(a=Ct,z.flags|=32768,I!==null&&typeof I=="object"&&typeof I.then=="function"){var B=I,ee=z,ne=ee.tag;if((ee.mode&1)===0&&(ne===0||ne===11||ne===15)){var Z=ee.alternate;Z?(ee.updateQueue=Z.updateQueue,ee.memoizedState=Z.memoizedState,ee.lanes=Z.lanes):(ee.updateQueue=null,ee.memoizedState=null)}var he=lf(w);if(he!==null){he.flags&=-257,cf(he,w,z,x,a),he.mode&1&&of(x,B,a),a=he,I=B;var pe=a.updateQueue;if(pe===null){var ge=new Set;ge.add(I),a.updateQueue=ge}else pe.add(I);break e}else{if((a&1)===0){of(x,B,a),vu();break e}I=Error(t(426))}}else if(rt&&z.mode&1){var ft=lf(w);if(ft!==null){(ft.flags&65536)===0&&(ft.flags|=256),cf(ft,w,z,x,a),Ec(Qa(I,z));break e}}x=I=Qa(I,z),vt!==4&&(vt=2),ls===null?ls=[x]:ls.push(x),x=w;do{switch(x.tag){case 3:x.flags|=65536,a&=-a,x.lanes|=a;var $=af(x,I,a);Eh(x,$);break e;case 1:z=I;var D=x.type,F=x.stateNode;if((x.flags&128)===0&&(typeof D.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&(Ar===null||!Ar.has(F)))){x.flags|=65536,a&=-a,x.lanes|=a;var re=sf(x,z,a);Eh(x,re);break e}}x=x.return}while(x!==null)}Ff(l)}catch(ye){a=ye,xt===l&&l!==null&&(xt=l=l.return);continue}break}while(!0)}function Of(){var r=Uo.current;return Uo.current=Fo,r===null?Fo:r}function vu(){(vt===0||vt===3||vt===2)&&(vt=4),Nt===null||(fa&268435455)===0&&(Yo&268435455)===0||Dr(Nt,Ct)}function Jo(r,a){var l=Be;Be|=2;var d=Of();(Nt!==r||Ct!==a)&&(ir=null,pa(r,a));do try{D2();break}catch(g){Lf(r,g)}while(!0);if(Ac(),Be=l,Uo.current=d,xt!==null)throw Error(t(261));return Nt=null,Ct=0,vt}function D2(){for(;xt!==null;)$f(xt)}function L2(){for(;xt!==null&&!Js();)$f(xt)}function $f(r){var a=qf(r.alternate,r,rn);r.memoizedProps=r.pendingProps,a===null?Ff(r):xt=a,du.current=null}function Ff(r){var a=r;do{var l=a.alternate;if(r=a.return,(a.flags&32768)===0){if(l=z2(l,a,rn),l!==null){xt=l;return}}else{if(l=P2(l,a),l!==null){l.flags&=32767,xt=l;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{vt=6,xt=null;return}}if(a=a.sibling,a!==null){xt=a;return}xt=a=r}while(a!==null);vt===0&&(vt=5)}function ga(r,a,l){var d=Ke,g=mn.transition;try{mn.transition=null,Ke=1,O2(r,a,l,d)}finally{mn.transition=g,Ke=d}return null}function O2(r,a,l,d){do ni();while(Ir!==null);if((Be&6)!==0)throw Error(t(327));l=r.finishedWork;var g=r.finishedLanes;if(l===null)return null;if(r.finishedWork=null,r.finishedLanes=0,l===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var x=l.lanes|l.childLanes;if(Ln(r,x),r===Nt&&(xt=Nt=null,Ct=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||Go||(Go=!0,Wf(ea,function(){return ni(),null})),x=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||x){x=mn.transition,mn.transition=null;var w=Ke;Ke=1;var z=Be;Be|=4,du.current=null,M2(r,l),Pf(l,r),a2(vc),co=!!bc,vc=bc=null,r.current=l,A2(l),eo(),Be=z,Ke=w,mn.transition=x}else r.current=l;if(Go&&(Go=!1,Ir=r,Xo=g),x=r.pendingLanes,x===0&&(Ar=null),ro(l.stateNode),Kt(r,nt()),a!==null)for(d=r.onRecoverableError,l=0;l<a.length;l++)g=a[l],d(g.value,{componentStack:g.stack,digest:g.digest});if(Ko)throw Ko=!1,r=mu,mu=null,r;return(Xo&1)!==0&&r.tag!==0&&ni(),x=r.pendingLanes,(x&1)!==0?r===pu?cs++:(cs=0,pu=r):cs=0,zr(),null}function ni(){if(Ir!==null){var r=C0(Xo),a=mn.transition,l=Ke;try{if(mn.transition=null,Ke=16>r?16:r,Ir===null)var d=!1;else{if(r=Ir,Ir=null,Xo=0,(Be&6)!==0)throw Error(t(331));var g=Be;for(Be|=4,me=r.current;me!==null;){var x=me,w=x.child;if((me.flags&16)!==0){var z=x.deletions;if(z!==null){for(var I=0;I<z.length;I++){var B=z[I];for(me=B;me!==null;){var ee=me;switch(ee.tag){case 0:case 11:case 15:ss(8,ee,x)}var ne=ee.child;if(ne!==null)ne.return=ee,me=ne;else for(;me!==null;){ee=me;var Z=ee.sibling,he=ee.return;if(kf(ee),ee===B){me=null;break}if(Z!==null){Z.return=he,me=Z;break}me=he}}}var pe=x.alternate;if(pe!==null){var ge=pe.child;if(ge!==null){pe.child=null;do{var ft=ge.sibling;ge.sibling=null,ge=ft}while(ge!==null)}}me=x}}if((x.subtreeFlags&2064)!==0&&w!==null)w.return=x,me=w;else e:for(;me!==null;){if(x=me,(x.flags&2048)!==0)switch(x.tag){case 0:case 11:case 15:ss(9,x,x.return)}var $=x.sibling;if($!==null){$.return=x.return,me=$;break e}me=x.return}}var D=r.current;for(me=D;me!==null;){w=me;var F=w.child;if((w.subtreeFlags&2064)!==0&&F!==null)F.return=w,me=F;else e:for(w=D;me!==null;){if(z=me,(z.flags&2048)!==0)try{switch(z.tag){case 0:case 11:case 15:Ho(9,z)}}catch(ye){ut(z,z.return,ye)}if(z===w){me=null;break e}var re=z.sibling;if(re!==null){re.return=z.return,me=re;break e}me=z.return}}if(Be=g,zr(),Jt&&typeof Jt.onPostCommitFiberRoot=="function")try{Jt.onPostCommitFiberRoot(ta,r)}catch{}d=!0}return d}finally{Ke=l,mn.transition=a}}return!1}function Vf(r,a,l){a=Qa(l,a),a=af(r,a,1),r=Er(r,a,1),a=$t(),r!==null&&(Lt(r,1,a),Kt(r,a))}function ut(r,a,l){if(r.tag===3)Vf(r,r,l);else for(;a!==null;){if(a.tag===3){Vf(a,r,l);break}else if(a.tag===1){var d=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Ar===null||!Ar.has(d))){r=Qa(l,r),r=sf(a,r,1),a=Er(a,r,1),r=$t(),a!==null&&(Lt(a,1,r),Kt(a,r));break}}a=a.return}}function $2(r,a,l){var d=r.pingCache;d!==null&&d.delete(a),a=$t(),r.pingedLanes|=r.suspendedLanes&l,Nt===r&&(Ct&l)===l&&(vt===4||vt===3&&(Ct&130023424)===Ct&&500>nt()-fu?pa(r,0):hu|=l),Kt(r,a)}function Bf(r,a){a===0&&((r.mode&1)===0?a=1:(a=ra,ra<<=1,(ra&130023424)===0&&(ra=4194304)));var l=$t();r=nr(r,a),r!==null&&(Lt(r,a,l),Kt(r,l))}function F2(r){var a=r.memoizedState,l=0;a!==null&&(l=a.retryLane),Bf(r,l)}function V2(r,a){var l=0;switch(r.tag){case 13:var d=r.stateNode,g=r.memoizedState;g!==null&&(l=g.retryLane);break;case 19:d=r.stateNode;break;default:throw Error(t(314))}d!==null&&d.delete(a),Bf(r,l)}var qf;qf=function(r,a,l){if(r!==null)if(r.memoizedProps!==a.pendingProps||Wt.current)Ut=!0;else{if((r.lanes&l)===0&&(a.flags&128)===0)return Ut=!1,T2(r,a,l);Ut=(r.flags&131072)!==0}else Ut=!1,rt&&(a.flags&1048576)!==0&&wh(a,To,a.index);switch(a.lanes=0,a.tag){case 2:var d=a.type;qo(r,a),r=a.pendingProps;var g=Wa(a,Pt.current);Xa(a,l),g=Wc(null,a,d,r,g,l);var x=Hc();return a.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Ht(d)?(x=!0,ko(a)):x=!1,a.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,Lc(a),g.updater=Vo,a.stateNode=g,g._reactInternals=a,Zc(a,d,r,l),a=tu(null,a,d,!0,x,l)):(a.tag=0,rt&&x&&Cc(a),Ot(null,a,g,l),a=a.child),a;case 16:d=a.elementType;e:{switch(qo(r,a),r=a.pendingProps,g=d._init,d=g(d._payload),a.type=d,g=a.tag=q2(d),r=_n(d,r),g){case 0:a=eu(null,a,d,r,l);break e;case 1:a=pf(null,a,d,r,l);break e;case 11:a=uf(null,a,d,r,l);break e;case 14:a=df(null,a,d,_n(d.type,r),l);break e}throw Error(t(306,d,""))}return a;case 0:return d=a.type,g=a.pendingProps,g=a.elementType===d?g:_n(d,g),eu(r,a,d,g,l);case 1:return d=a.type,g=a.pendingProps,g=a.elementType===d?g:_n(d,g),pf(r,a,d,g,l);case 3:e:{if(gf(a),r===null)throw Error(t(387));d=a.pendingProps,x=a.memoizedState,g=x.element,Ph(r,a),Io(a,d,null,l);var w=a.memoizedState;if(d=w.element,x.isDehydrated)if(x={element:d,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},a.updateQueue.baseState=x,a.memoizedState=x,a.flags&256){g=Qa(Error(t(423)),a),a=xf(r,a,d,l,g);break e}else if(d!==g){g=Qa(Error(t(424)),a),a=xf(r,a,d,l,g);break e}else for(nn=_r(a.stateNode.containerInfo.firstChild),tn=a,rt=!0,kn=null,l=Th(a,null,d,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Ya(),d===g){a=ar(r,a,l);break e}Ot(r,a,d,l)}a=a.child}return a;case 5:return Ah(a),r===null&&Pc(a),d=a.type,g=a.pendingProps,x=r!==null?r.memoizedProps:null,w=g.children,wc(d,g)?w=null:x!==null&&wc(d,x)&&(a.flags|=32),mf(r,a),Ot(r,a,w,l),a.child;case 6:return r===null&&Pc(a),null;case 13:return yf(r,a,l);case 4:return Oc(a,a.stateNode.containerInfo),d=a.pendingProps,r===null?a.child=Ka(a,null,d,l):Ot(r,a,d,l),a.child;case 11:return d=a.type,g=a.pendingProps,g=a.elementType===d?g:_n(d,g),uf(r,a,d,g,l);case 7:return Ot(r,a,a.pendingProps,l),a.child;case 8:return Ot(r,a,a.pendingProps.children,l),a.child;case 12:return Ot(r,a,a.pendingProps.children,l),a.child;case 10:e:{if(d=a.type._context,g=a.pendingProps,x=a.memoizedProps,w=g.value,Qe(Eo,d._currentValue),d._currentValue=w,x!==null)if(Sn(x.value,w)){if(x.children===g.children&&!Wt.current){a=ar(r,a,l);break e}}else for(x=a.child,x!==null&&(x.return=a);x!==null;){var z=x.dependencies;if(z!==null){w=x.child;for(var I=z.firstContext;I!==null;){if(I.context===d){if(x.tag===1){I=rr(-1,l&-l),I.tag=2;var B=x.updateQueue;if(B!==null){B=B.shared;var ee=B.pending;ee===null?I.next=I:(I.next=ee.next,ee.next=I),B.pending=I}}x.lanes|=l,I=x.alternate,I!==null&&(I.lanes|=l),Rc(x.return,l,a),z.lanes|=l;break}I=I.next}}else if(x.tag===10)w=x.type===a.type?null:x.child;else if(x.tag===18){if(w=x.return,w===null)throw Error(t(341));w.lanes|=l,z=w.alternate,z!==null&&(z.lanes|=l),Rc(w,l,a),w=x.sibling}else w=x.child;if(w!==null)w.return=x;else for(w=x;w!==null;){if(w===a){w=null;break}if(x=w.sibling,x!==null){x.return=w.return,w=x;break}w=w.return}x=w}Ot(r,a,g.children,l),a=a.child}return a;case 9:return g=a.type,d=a.pendingProps.children,Xa(a,l),g=hn(g),d=d(g),a.flags|=1,Ot(r,a,d,l),a.child;case 14:return d=a.type,g=_n(d,a.pendingProps),g=_n(d.type,g),df(r,a,d,g,l);case 15:return hf(r,a,a.type,a.pendingProps,l);case 17:return d=a.type,g=a.pendingProps,g=a.elementType===d?g:_n(d,g),qo(r,a),a.tag=1,Ht(d)?(r=!0,ko(a)):r=!1,Xa(a,l),nf(a,d,g),Zc(a,d,g,l),tu(null,a,d,!0,r,l);case 19:return vf(r,a,l);case 22:return ff(r,a,l)}throw Error(t(156,a.tag))};function Wf(r,a){return Pi(r,a)}function B2(r,a,l,d){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(r,a,l,d){return new B2(r,a,l,d)}function wu(r){return r=r.prototype,!(!r||!r.isReactComponent)}function q2(r){if(typeof r=="function")return wu(r)?1:0;if(r!=null){if(r=r.$$typeof,r===je)return 11;if(r===$e)return 14}return 2}function Lr(r,a){var l=r.alternate;return l===null?(l=pn(r.tag,a,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=a,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&14680064,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,a=r.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l}function el(r,a,l,d,g,x){var w=2;if(d=r,typeof r=="function")wu(r)&&(w=1);else if(typeof r=="string")w=5;else e:switch(r){case O:return xa(l.children,g,x,a);case U:w=8,g|=8;break;case ae:return r=pn(12,l,a,g|2),r.elementType=ae,r.lanes=x,r;case Ae:return r=pn(13,l,a,g),r.elementType=Ae,r.lanes=x,r;case Te:return r=pn(19,l,a,g),r.elementType=Te,r.lanes=x,r;case xe:return tl(l,g,x,a);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case H:w=10;break e;case le:w=9;break e;case je:w=11;break e;case $e:w=14;break e;case De:w=16,d=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return a=pn(w,l,a,g),a.elementType=r,a.type=d,a.lanes=x,a}function xa(r,a,l,d){return r=pn(7,r,d,a),r.lanes=l,r}function tl(r,a,l,d){return r=pn(22,r,d,a),r.elementType=xe,r.lanes=l,r.stateNode={isHidden:!1},r}function ju(r,a,l){return r=pn(6,r,null,a),r.lanes=l,r}function Nu(r,a,l){return a=pn(4,r.children!==null?r.children:[],r.key,a),a.lanes=l,a.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},a}function W2(r,a,l,d,g){this.tag=a,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=He(0),this.expirationTimes=He(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=He(0),this.identifierPrefix=d,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function Su(r,a,l,d,g,x,w,z,I){return r=new W2(r,a,l,z,I),a===1?(a=1,x===!0&&(a|=8)):a=0,x=pn(3,null,null,a),r.current=x,x.stateNode=r,x.memoizedState={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Lc(x),r}function H2(r,a,l){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:A,key:d==null?null:""+d,children:r,containerInfo:a,implementation:l}}function Hf(r){if(!r)return Tr;r=r._reactInternals;e:{if(Dn(r)!==r||r.tag!==1)throw Error(t(170));var a=r;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Ht(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(t(171))}if(r.tag===1){var l=r.type;if(Ht(l))return yh(r,l,a)}return a}function Uf(r,a,l,d,g,x,w,z,I){return r=Su(l,d,!0,r,g,x,w,z,I),r.context=Hf(null),l=r.current,d=$t(),g=Rr(l),x=rr(d,g),x.callback=a??null,Er(l,x,g),r.current.lanes=g,Lt(r,g,d),Kt(r,d),r}function nl(r,a,l,d){var g=a.current,x=$t(),w=Rr(g);return l=Hf(l),a.context===null?a.context=l:a.pendingContext=l,a=rr(x,w),a.payload={element:r},d=d===void 0?null:d,d!==null&&(a.callback=d),r=Er(g,a,w),r!==null&&(zn(r,g,w,x),Ao(r,g,w)),w}function rl(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Yf(r,a){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<a?l:a}}function ku(r,a){Yf(r,a),(r=r.alternate)&&Yf(r,a)}function U2(){return null}var Kf=typeof reportError=="function"?reportError:function(r){console.error(r)};function _u(r){this._internalRoot=r}al.prototype.render=_u.prototype.render=function(r){var a=this._internalRoot;if(a===null)throw Error(t(409));nl(r,a,null,null)},al.prototype.unmount=_u.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var a=r.containerInfo;ma(function(){nl(null,r,null,null)}),a[Qn]=null}};function al(r){this._internalRoot=r}al.prototype.unstable_scheduleHydration=function(r){if(r){var a=P0();r={blockedOn:null,target:r,priority:a};for(var l=0;l<Nr.length&&a!==0&&a<Nr[l].priority;l++);Nr.splice(l,0,r),l===0&&A0(r)}};function Cu(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function il(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Gf(){}function Y2(r,a,l,d,g){if(g){if(typeof d=="function"){var x=d;d=function(){var B=rl(w);x.call(B)}}var w=Uf(a,d,r,0,null,!1,!1,"",Gf);return r._reactRootContainer=w,r[Qn]=w.current,Yi(r.nodeType===8?r.parentNode:r),ma(),w}for(;g=r.lastChild;)r.removeChild(g);if(typeof d=="function"){var z=d;d=function(){var B=rl(I);z.call(B)}}var I=Su(r,0,!1,null,null,!1,!1,"",Gf);return r._reactRootContainer=I,r[Qn]=I.current,Yi(r.nodeType===8?r.parentNode:r),ma(function(){nl(a,I,l,d)}),I}function sl(r,a,l,d,g){var x=l._reactRootContainer;if(x){var w=x;if(typeof g=="function"){var z=g;g=function(){var I=rl(w);z.call(I)}}nl(a,w,r,g)}else w=Y2(l,a,r,g,d);return rl(w)}T0=function(r){switch(r.tag){case 3:var a=r.stateNode;if(a.current.memoizedState.isDehydrated){var l=br(a.pendingLanes);l!==0&&(ia(a,l|1),Kt(a,nt()),(Be&6)===0&&(ti=nt()+500,zr()))}break;case 13:ma(function(){var d=nr(r,1);if(d!==null){var g=$t();zn(d,r,1,g)}}),ku(r,1)}},Ql=function(r){if(r.tag===13){var a=nr(r,134217728);if(a!==null){var l=$t();zn(a,r,134217728,l)}ku(r,134217728)}},z0=function(r){if(r.tag===13){var a=Rr(r),l=nr(r,a);if(l!==null){var d=$t();zn(l,r,a,d)}ku(r,a)}},P0=function(){return Ke},E0=function(r,a){var l=Ke;try{return Ke=r,a()}finally{Ke=l}},te=function(r,a,l){switch(a){case"input":if(_e(r,l),a=l.name,l.type==="radio"&&a!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<l.length;a++){var d=l[a];if(d!==r&&d.form===r.form){var g=No(d);if(!g)throw Error(t(90));Qt(d),_e(d,g)}}}break;case"textarea":Pa(r,l);break;case"select":a=l.value,a!=null&&Ve(r,!!l.multiple,a,!1)}},Xe=yu,on=ma;var K2={usingClientEntryPoint:!1,Events:[Xi,Ba,No,oe,be,yu]},us={findFiberByHostInstance:sa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},G2={bundleType:us.bundleType,version:us.version,rendererPackageName:us.rendererPackageName,rendererConfig:us.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:T.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Ti(r),r===null?null:r.stateNode},findFiberByHostInstance:us.findFiberByHostInstance||U2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ol=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ol.isDisabled&&ol.supportsFiber)try{ta=ol.inject(G2),Jt=ol}catch{}}return Gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=K2,Gt.createPortal=function(r,a){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Cu(a))throw Error(t(200));return H2(r,a,null,l)},Gt.createRoot=function(r,a){if(!Cu(r))throw Error(t(299));var l=!1,d="",g=Kf;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onRecoverableError!==void 0&&(g=a.onRecoverableError)),a=Su(r,1,!1,null,null,l,!1,d,g),r[Qn]=a.current,Yi(r.nodeType===8?r.parentNode:r),new _u(a)},Gt.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var a=r._reactInternals;if(a===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=Ti(a),r=r===null?null:r.stateNode,r},Gt.flushSync=function(r){return ma(r)},Gt.hydrate=function(r,a,l){if(!il(a))throw Error(t(200));return sl(null,r,a,!0,l)},Gt.hydrateRoot=function(r,a,l){if(!Cu(r))throw Error(t(405));var d=l!=null&&l.hydratedSources||null,g=!1,x="",w=Kf;if(l!=null&&(l.unstable_strictMode===!0&&(g=!0),l.identifierPrefix!==void 0&&(x=l.identifierPrefix),l.onRecoverableError!==void 0&&(w=l.onRecoverableError)),a=Uf(a,null,r,1,l??null,g,!1,x,w),r[Qn]=a.current,Yi(r),d)for(r=0;r<d.length;r++)l=d[r],g=l._getVersion,g=g(l._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[l,g]:a.mutableSourceEagerHydrationData.push(l,g);return new al(a)},Gt.render=function(r,a,l){if(!il(a))throw Error(t(200));return sl(null,r,a,!1,l)},Gt.unmountComponentAtNode=function(r){if(!il(r))throw Error(t(40));return r._reactRootContainer?(ma(function(){sl(null,null,r,!1,function(){r._reactRootContainer=null,r[Qn]=null})}),!0):!1},Gt.unstable_batchedUpdates=yu,Gt.unstable_renderSubtreeIntoContainer=function(r,a,l,d){if(!il(l))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return sl(r,a,l,!1,d)},Gt.version="18.3.1-next-f1338f8080-20240426",Gt}var rm;function Xp(){if(rm)return Pu.exports;rm=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}return e(),Pu.exports=ab(),Pu.exports}var am;function ib(){if(am)return ll;am=1;var e=Xp();return ll.createRoot=e.createRoot,ll.hydrateRoot=e.hydrateRoot,ll}var sb=ib();const ob=Gp(sb);/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var im="popstate";function lb(e={}){function n(s,o){let{pathname:c,search:u,hash:f}=s.location;return ed("",{pathname:c,search:u,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){return typeof o=="string"?o:Cs(o)}return ub(n,t,null,e)}function ct(e,n){if(e===!1||e===null||typeof e>"u")throw new Error(n)}function Mn(e,n){if(!e){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function cb(){return Math.random().toString(36).substring(2,10)}function sm(e,n){return{usr:e.state,key:e.key,idx:n}}function ed(e,n,t=null,s){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof n=="string"?bi(n):n,state:t,key:n&&n.key||s||cb()}}function Cs({pathname:e="/",search:n="",hash:t=""}){return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),t&&t!=="#"&&(e+=t.charAt(0)==="#"?t:"#"+t),e}function bi(e){let n={};if(e){let t=e.indexOf("#");t>=0&&(n.hash=e.substring(t),e=e.substring(0,t));let s=e.indexOf("?");s>=0&&(n.search=e.substring(s),e=e.substring(0,s)),e&&(n.pathname=e)}return n}function ub(e,n,t,s={}){let{window:o=document.defaultView,v5Compat:c=!1}=s,u=o.history,f="POP",h=null,m=p();m==null&&(m=0,u.replaceState({...u.state,idx:m},""));function p(){return(u.state||{idx:null}).idx}function y(){f="POP";let N=p(),C=N==null?null:N-m;m=N,h&&h({action:f,location:S.location,delta:C})}function b(N,C){f="PUSH";let M=ed(S.location,N,C);m=p()+1;let _=sm(M,m),T=S.createHref(M);try{u.pushState(_,"",T)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;o.location.assign(T)}c&&h&&h({action:f,location:S.location,delta:1})}function v(N,C){f="REPLACE";let M=ed(S.location,N,C);m=p();let _=sm(M,m),T=S.createHref(M);u.replaceState(_,"",T),c&&h&&h({action:f,location:S.location,delta:0})}function k(N){return db(N)}let S={get action(){return f},get location(){return e(o,u)},listen(N){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(im,y),h=N,()=>{o.removeEventListener(im,y),h=null}},createHref(N){return n(o,N)},createURL:k,encodeLocation(N){let C=k(N);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:b,replace:v,go(N){return u.go(N)}};return S}function db(e,n=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),ct(t,"No window.location.(origin|href) available to create URL");let s=typeof e=="string"?e:Cs(e);return s=s.replace(/ $/,"%20"),!n&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function Zp(e,n,t="/"){return hb(e,n,t,!1)}function hb(e,n,t,s){let o=typeof n=="string"?bi(n):n,c=lr(o.pathname||"/",t);if(c==null)return null;let u=Qp(e);fb(u);let f=null;for(let h=0;f==null&&h<u.length;++h){let m=Sb(c);f=jb(u[h],m,s)}return f}function Qp(e,n=[],t=[],s="",o=!1){let c=(u,f,h=o,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(s)&&h)return;ct(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length)}let y=or([s,p.relativePath]),b=t.concat(p);u.children&&u.children.length>0&&(ct(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),Qp(u.children,n,b,y,h)),!(u.path==null&&!u.index)&&n.push({path:y,score:vb(y,u.index),routesMeta:b})};return e.forEach((u,f)=>{var h;if(u.path===""||!((h=u.path)!=null&&h.includes("?")))c(u,f);else for(let m of Jp(u.path))c(u,f,!0,m)}),n}function Jp(e){let n=e.split("/");if(n.length===0)return[];let[t,...s]=n,o=t.endsWith("?"),c=t.replace(/\?$/,"");if(s.length===0)return o?[c,""]:[c];let u=Jp(s.join("/")),f=[];return f.push(...u.map(h=>h===""?c:[c,h].join("/"))),o&&f.push(...u),f.map(h=>e.startsWith("/")&&h===""?"/":h)}function fb(e){e.sort((n,t)=>n.score!==t.score?t.score-n.score:wb(n.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var mb=/^:[\w-]+$/,pb=3,gb=2,xb=1,yb=10,bb=-2,om=e=>e==="*";function vb(e,n){let t=e.split("/"),s=t.length;return t.some(om)&&(s+=bb),n&&(s+=gb),t.filter(o=>!om(o)).reduce((o,c)=>o+(mb.test(c)?pb:c===""?xb:yb),s)}function wb(e,n){return e.length===n.length&&e.slice(0,-1).every((s,o)=>s===n[o])?e[e.length-1]-n[n.length-1]:0}function jb(e,n,t=!1){let{routesMeta:s}=e,o={},c="/",u=[];for(let f=0;f<s.length;++f){let h=s[f],m=f===s.length-1,p=c==="/"?n:n.slice(c.length)||"/",y=Tl({path:h.relativePath,caseSensitive:h.caseSensitive,end:m},p),b=h.route;if(!y&&m&&t&&!s[s.length-1].route.index&&(y=Tl({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},p)),!y)return null;Object.assign(o,y.params),u.push({params:o,pathname:or([c,y.pathname]),pathnameBase:Tb(or([c,y.pathnameBase])),route:b}),y.pathnameBase!=="/"&&(c=or([c,y.pathnameBase]))}return u}function Tl(e,n){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[t,s]=Nb(e.path,e.caseSensitive,e.end),o=n.match(t);if(!o)return null;let c=o[0],u=c.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:s.reduce((m,{paramName:p,isOptional:y},b)=>{if(p==="*"){let k=f[b]||"";u=c.slice(0,c.length-k.length).replace(/(.)\/+$/,"$1")}const v=f[b];return y&&!v?m[p]=void 0:m[p]=(v||"").replace(/%2F/g,"/"),m},{}),pathname:c,pathnameBase:u,pattern:e}}function Nb(e,n=!1,t=!0){Mn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let s=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,h)=>(s.push({paramName:f,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(s.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,n?void 0:"i"),s]}function Sb(e){try{return e.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return Mn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${n}).`),e}}function lr(e,n){if(n==="/")return e;if(!e.toLowerCase().startsWith(n.toLowerCase()))return null;let t=n.endsWith("/")?n.length-1:n.length,s=e.charAt(t);return s&&s!=="/"?null:e.slice(t)||"/"}function kb(e,n="/"){let{pathname:t,search:s="",hash:o=""}=typeof e=="string"?bi(e):e;return{pathname:t?t.startsWith("/")?t:_b(t,n):n,search:zb(s),hash:Pb(o)}}function _b(e,n){let t=n.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Au(e,n,t,s){return`Cannot include a '${e}' character in a manually specified \`to.${n}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Cb(e){return e.filter((n,t)=>t===0||n.route.path&&n.route.path.length>0)}function eg(e){let n=Cb(e);return n.map((t,s)=>s===n.length-1?t.pathname:t.pathnameBase)}function tg(e,n,t,s=!1){let o;typeof e=="string"?o=bi(e):(o={...e},ct(!o.pathname||!o.pathname.includes("?"),Au("?","pathname","search",o)),ct(!o.pathname||!o.pathname.includes("#"),Au("#","pathname","hash",o)),ct(!o.search||!o.search.includes("#"),Au("#","search","hash",o)));let c=e===""||o.pathname==="",u=c?"/":o.pathname,f;if(u==null)f=t;else{let y=n.length-1;if(!s&&u.startsWith("..")){let b=u.split("/");for(;b[0]==="..";)b.shift(),y-=1;o.pathname=b.join("/")}f=y>=0?n[y]:"/"}let h=kb(o,f),m=u&&u!=="/"&&u.endsWith("/"),p=(c||u===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(m||p)&&(h.pathname+="/"),h}var or=e=>e.join("/").replace(/\/\/+/g,"/"),Tb=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),zb=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Pb=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Eb(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var ng=["POST","PUT","PATCH","DELETE"];new Set(ng);var Mb=["GET",...ng];new Set(Mb);var vi=j.createContext(null);vi.displayName="DataRouter";var Bl=j.createContext(null);Bl.displayName="DataRouterState";j.createContext(!1);var rg=j.createContext({isTransitioning:!1});rg.displayName="ViewTransition";var Ab=j.createContext(new Map);Ab.displayName="Fetchers";var Ib=j.createContext(null);Ib.displayName="Await";var Un=j.createContext(null);Un.displayName="Navigation";var Fs=j.createContext(null);Fs.displayName="Location";var Yn=j.createContext({outlet:null,matches:[],isDataRoute:!1});Yn.displayName="Route";var Id=j.createContext(null);Id.displayName="RouteError";function Rb(e,{relative:n}={}){ct(Vs(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=j.useContext(Un),{hash:o,pathname:c,search:u}=Bs(e,{relative:n}),f=c;return t!=="/"&&(f=c==="/"?t:or([t,c])),s.createHref({pathname:f,search:u,hash:o})}function Vs(){return j.useContext(Fs)!=null}function fr(){return ct(Vs(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(Fs).location}var ag="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ig(e){j.useContext(Un).static||j.useLayoutEffect(e)}function Kn(){let{isDataRoute:e}=j.useContext(Yn);return e?Gb():Db()}function Db(){ct(Vs(),"useNavigate() may be used only in the context of a <Router> component.");let e=j.useContext(vi),{basename:n,navigator:t}=j.useContext(Un),{matches:s}=j.useContext(Yn),{pathname:o}=fr(),c=JSON.stringify(eg(s)),u=j.useRef(!1);return ig(()=>{u.current=!0}),j.useCallback((h,m={})=>{if(Mn(u.current,ag),!u.current)return;if(typeof h=="number"){t.go(h);return}let p=tg(h,JSON.parse(c),o,m.relative==="path");e==null&&n!=="/"&&(p.pathname=p.pathname==="/"?n:or([n,p.pathname])),(m.replace?t.replace:t.push)(p,m.state,m)},[n,t,c,o,e])}j.createContext(null);function Lb(){let{matches:e}=j.useContext(Yn),n=e[e.length-1];return n?n.params:{}}function Bs(e,{relative:n}={}){let{matches:t}=j.useContext(Yn),{pathname:s}=fr(),o=JSON.stringify(eg(t));return j.useMemo(()=>tg(e,JSON.parse(o),s,n==="path"),[e,o,s,n])}function Ob(e,n){return sg(e,n)}function sg(e,n,t,s,o){var M;ct(Vs(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=j.useContext(Un),{matches:u}=j.useContext(Yn),f=u[u.length-1],h=f?f.params:{},m=f?f.pathname:"/",p=f?f.pathnameBase:"/",y=f&&f.route;{let _=y&&y.path||"";og(m,!y||_.endsWith("*")||_.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${_}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${_}"> to <Route path="${_==="/"?"*":`${_}/*`}">.`)}let b=fr(),v;if(n){let _=typeof n=="string"?bi(n):n;ct(p==="/"||((M=_.pathname)==null?void 0:M.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${_.pathname}" was given in the \`location\` prop.`),v=_}else v=b;let k=v.pathname||"/",S=k;if(p!=="/"){let _=p.replace(/^\//,"").split("/");S="/"+k.replace(/^\//,"").split("/").slice(_.length).join("/")}let N=Zp(e,{pathname:S});Mn(y||N!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Mn(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=qb(N&&N.map(_=>Object.assign({},_,{params:Object.assign({},h,_.params),pathname:or([p,c.encodeLocation?c.encodeLocation(_.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?p:or([p,c.encodeLocation?c.encodeLocation(_.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:_.pathnameBase])})),u,t,s,o);return n&&C?j.createElement(Fs.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},C):C}function $b(){let e=Kb(),n=Eb(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),t=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},u=null;return console.error("Error handled by React Router default ErrorBoundary:",e),u=j.createElement(j.Fragment,null,j.createElement("p",null,"💿 Hey developer 👋"),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:c},"ErrorBoundary")," or"," ",j.createElement("code",{style:c},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},n),t?j.createElement("pre",{style:o},t):null,u)}var Fb=j.createElement($b,null),Vb=class extends j.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){this.props.unstable_onError?this.props.unstable_onError(e,n):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?j.createElement(Yn.Provider,{value:this.props.routeContext},j.createElement(Id.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Bb({routeContext:e,match:n,children:t}){let s=j.useContext(vi);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),j.createElement(Yn.Provider,{value:e},t)}function qb(e,n=[],t=null,s=null,o=null){if(e==null){if(!t)return null;if(t.errors)e=t.matches;else if(n.length===0&&!t.initialized&&t.matches.length>0)e=t.matches;else return null}let c=e,u=t==null?void 0:t.errors;if(u!=null){let m=c.findIndex(p=>p.route.id&&(u==null?void 0:u[p.route.id])!==void 0);ct(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),c=c.slice(0,Math.min(c.length,m+1))}let f=!1,h=-1;if(t)for(let m=0;m<c.length;m++){let p=c[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=m),p.route.id){let{loaderData:y,errors:b}=t,v=p.route.loader&&!y.hasOwnProperty(p.route.id)&&(!b||b[p.route.id]===void 0);if(p.route.lazy||v){f=!0,h>=0?c=c.slice(0,h+1):c=[c[0]];break}}}return c.reduceRight((m,p,y)=>{let b,v=!1,k=null,S=null;t&&(b=u&&p.route.id?u[p.route.id]:void 0,k=p.route.errorElement||Fb,f&&(h<0&&y===0?(og("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,S=null):h===y&&(v=!0,S=p.route.hydrateFallbackElement||null)));let N=n.concat(c.slice(0,y+1)),C=()=>{let M;return b?M=k:v?M=S:p.route.Component?M=j.createElement(p.route.Component,null):p.route.element?M=p.route.element:M=m,j.createElement(Bb,{match:p,routeContext:{outlet:m,matches:N,isDataRoute:t!=null},children:M})};return t&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?j.createElement(Vb,{location:t.location,revalidation:t.revalidation,component:k,error:b,children:C(),routeContext:{outlet:null,matches:N,isDataRoute:!0},unstable_onError:s}):C()},null)}function Rd(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Wb(e){let n=j.useContext(vi);return ct(n,Rd(e)),n}function Hb(e){let n=j.useContext(Bl);return ct(n,Rd(e)),n}function Ub(e){let n=j.useContext(Yn);return ct(n,Rd(e)),n}function Dd(e){let n=Ub(e),t=n.matches[n.matches.length-1];return ct(t.route.id,`${e} can only be used on routes that contain a unique "id"`),t.route.id}function Yb(){return Dd("useRouteId")}function Kb(){var s;let e=j.useContext(Id),n=Hb("useRouteError"),t=Dd("useRouteError");return e!==void 0?e:(s=n.errors)==null?void 0:s[t]}function Gb(){let{router:e}=Wb("useNavigate"),n=Dd("useNavigate"),t=j.useRef(!1);return ig(()=>{t.current=!0}),j.useCallback(async(o,c={})=>{Mn(t.current,ag),t.current&&(typeof o=="number"?e.navigate(o):await e.navigate(o,{fromRouteId:n,...c}))},[e,n])}var lm={};function og(e,n,t){!n&&!lm[e]&&(lm[e]=!0,Mn(!1,t))}j.memo(Xb);function Xb({routes:e,future:n,state:t,unstable_onError:s}){return sg(e,void 0,t,s,n)}function Bn(e){ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Zb({basename:e="/",children:n=null,location:t,navigationType:s="POP",navigator:o,static:c=!1}){ct(!Vs(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=e.replace(/^\/*/,"/"),f=j.useMemo(()=>({basename:u,navigator:o,static:c,future:{}}),[u,o,c]);typeof t=="string"&&(t=bi(t));let{pathname:h="/",search:m="",hash:p="",state:y=null,key:b="default"}=t,v=j.useMemo(()=>{let k=lr(h,u);return k==null?null:{location:{pathname:k,search:m,hash:p,state:y,key:b},navigationType:s}},[u,h,m,p,y,b,s]);return Mn(v!=null,`<Router basename="${u}"> is not able to match the URL "${h}${m}${p}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:j.createElement(Un.Provider,{value:f},j.createElement(Fs.Provider,{children:n,value:v}))}function Qb({children:e,location:n}){return Ob(td(e),n)}function td(e,n=[]){let t=[];return j.Children.forEach(e,(s,o)=>{if(!j.isValidElement(s))return;let c=[...n,o];if(s.type===j.Fragment){t.push.apply(t,td(s.props.children,c));return}ct(s.type===Bn,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ct(!s.props.index||!s.props.children,"An index route cannot have child routes.");let u={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(u.children=td(s.props.children,c)),t.push(u)}),t}var yl="get",bl="application/x-www-form-urlencoded";function ql(e){return e!=null&&typeof e.tagName=="string"}function Jb(e){return ql(e)&&e.tagName.toLowerCase()==="button"}function ev(e){return ql(e)&&e.tagName.toLowerCase()==="form"}function tv(e){return ql(e)&&e.tagName.toLowerCase()==="input"}function nv(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function rv(e,n){return e.button===0&&(!n||n==="_self")&&!nv(e)}function nd(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((n,t)=>{let s=e[t];return n.concat(Array.isArray(s)?s.map(o=>[t,o]):[[t,s]])},[]))}function av(e,n){let t=nd(e);return n&&n.forEach((s,o)=>{t.has(o)||n.getAll(o).forEach(c=>{t.append(o,c)})}),t}var cl=null;function iv(){if(cl===null)try{new FormData(document.createElement("form"),0),cl=!1}catch{cl=!0}return cl}var sv=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Iu(e){return e!=null&&!sv.has(e)?(Mn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${bl}"`),null):e}function ov(e,n){let t,s,o,c,u;if(ev(e)){let f=e.getAttribute("action");s=f?lr(f,n):null,t=e.getAttribute("method")||yl,o=Iu(e.getAttribute("enctype"))||bl,c=new FormData(e)}else if(Jb(e)||tv(e)&&(e.type==="submit"||e.type==="image")){let f=e.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=e.getAttribute("formaction")||f.getAttribute("action");if(s=h?lr(h,n):null,t=e.getAttribute("formmethod")||f.getAttribute("method")||yl,o=Iu(e.getAttribute("formenctype"))||Iu(f.getAttribute("enctype"))||bl,c=new FormData(f,e),!iv()){let{name:m,type:p,value:y}=e;if(p==="image"){let b=m?`${m}.`:"";c.append(`${b}x`,"0"),c.append(`${b}y`,"0")}else m&&c.append(m,y)}}else{if(ql(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=yl,s=null,o=bl,u=e}return c&&o==="text/plain"&&(u=c,c=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:c,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ld(e,n){if(e===!1||e===null||typeof e>"u")throw new Error(n)}function lv(e,n,t){let s=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return s.pathname==="/"?s.pathname=`_root.${t}`:n&&lr(s.pathname,n)==="/"?s.pathname=`${n.replace(/\/$/,"")}/_root.${t}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${t}`,s}async function cv(e,n){if(e.id in n)return n[e.id];try{let t=await import(e.module);return n[e.id]=t,t}catch(t){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function uv(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function dv(e,n,t){let s=await Promise.all(e.map(async o=>{let c=n.routes[o.route.id];if(c){let u=await cv(c,t);return u.links?u.links():[]}return[]}));return pv(s.flat(1).filter(uv).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function cm(e,n,t,s,o,c){let u=(h,m)=>t[m]?h.route.id!==t[m].route.id:!0,f=(h,m)=>{var p;return t[m].pathname!==h.pathname||((p=t[m].route.path)==null?void 0:p.endsWith("*"))&&t[m].params["*"]!==h.params["*"]};return c==="assets"?n.filter((h,m)=>u(h,m)||f(h,m)):c==="data"?n.filter((h,m)=>{var y;let p=s.routes[h.route.id];if(!p||!p.hasLoader)return!1;if(u(h,m)||f(h,m))return!0;if(h.route.shouldRevalidate){let b=h.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((y=t[0])==null?void 0:y.params)||{},nextUrl:new URL(e,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function hv(e,n,{includeHydrateFallback:t}={}){return fv(e.map(s=>{let o=n.routes[s.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function fv(e){return[...new Set(e)]}function mv(e){let n={},t=Object.keys(e).sort();for(let s of t)n[s]=e[s];return n}function pv(e,n){let t=new Set;return new Set(n),e.reduce((s,o)=>{let c=JSON.stringify(mv(o));return t.has(c)||(t.add(c),s.push({key:c,link:o})),s},[])}function lg(){let e=j.useContext(vi);return Ld(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function gv(){let e=j.useContext(Bl);return Ld(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Od=j.createContext(void 0);Od.displayName="FrameworkContext";function cg(){let e=j.useContext(Od);return Ld(e,"You must render this element inside a <HydratedRouter> element"),e}function xv(e,n){let t=j.useContext(Od),[s,o]=j.useState(!1),[c,u]=j.useState(!1),{onFocus:f,onBlur:h,onMouseEnter:m,onMouseLeave:p,onTouchStart:y}=n,b=j.useRef(null);j.useEffect(()=>{if(e==="render"&&u(!0),e==="viewport"){let S=C=>{C.forEach(M=>{u(M.isIntersecting)})},N=new IntersectionObserver(S,{threshold:.5});return b.current&&N.observe(b.current),()=>{N.disconnect()}}},[e]),j.useEffect(()=>{if(s){let S=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(S)}}},[s]);let v=()=>{o(!0)},k=()=>{o(!1),u(!1)};return t?e!=="intent"?[c,b,{}]:[c,b,{onFocus:hs(f,v),onBlur:hs(h,k),onMouseEnter:hs(m,v),onMouseLeave:hs(p,k),onTouchStart:hs(y,v)}]:[!1,b,{}]}function hs(e,n){return t=>{e&&e(t),t.defaultPrevented||n(t)}}function yv({page:e,...n}){let{router:t}=lg(),s=j.useMemo(()=>Zp(t.routes,e,t.basename),[t.routes,e,t.basename]);return s?j.createElement(vv,{page:e,matches:s,...n}):null}function bv(e){let{manifest:n,routeModules:t}=cg(),[s,o]=j.useState([]);return j.useEffect(()=>{let c=!1;return dv(e,n,t).then(u=>{c||o(u)}),()=>{c=!0}},[e,n,t]),s}function vv({page:e,matches:n,...t}){let s=fr(),{manifest:o,routeModules:c}=cg(),{basename:u}=lg(),{loaderData:f,matches:h}=gv(),m=j.useMemo(()=>cm(e,n,h,o,s,"data"),[e,n,h,o,s]),p=j.useMemo(()=>cm(e,n,h,o,s,"assets"),[e,n,h,o,s]),y=j.useMemo(()=>{if(e===s.pathname+s.search+s.hash)return[];let k=new Set,S=!1;if(n.forEach(C=>{var _;let M=o.routes[C.route.id];!M||!M.hasLoader||(!m.some(T=>T.route.id===C.route.id)&&C.route.id in f&&((_=c[C.route.id])!=null&&_.shouldRevalidate)||M.hasClientLoader?S=!0:k.add(C.route.id))}),k.size===0)return[];let N=lv(e,u,"data");return S&&k.size>0&&N.searchParams.set("_routes",n.filter(C=>k.has(C.route.id)).map(C=>C.route.id).join(",")),[N.pathname+N.search]},[u,f,s,o,m,n,e,c]),b=j.useMemo(()=>hv(p,o),[p,o]),v=bv(p);return j.createElement(j.Fragment,null,y.map(k=>j.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...t})),b.map(k=>j.createElement("link",{key:k,rel:"modulepreload",href:k,...t})),v.map(({key:k,link:S})=>j.createElement("link",{key:k,nonce:t.nonce,...S})))}function wv(...e){return n=>{e.forEach(t=>{typeof t=="function"?t(n):t!=null&&(t.current=n)})}}var ug=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ug&&(window.__reactRouterVersion="7.9.4")}catch{}function jv({basename:e,children:n,window:t}){let s=j.useRef();s.current==null&&(s.current=lb({window:t,v5Compat:!0}));let o=s.current,[c,u]=j.useState({action:o.action,location:o.location}),f=j.useCallback(h=>{j.startTransition(()=>u(h))},[u]);return j.useLayoutEffect(()=>o.listen(f),[o,f]),j.createElement(Zb,{basename:e,children:n,location:c.location,navigationType:c.action,navigator:o})}var dg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ts=j.forwardRef(function({onClick:n,discover:t="render",prefetch:s="none",relative:o,reloadDocument:c,replace:u,state:f,target:h,to:m,preventScrollReset:p,viewTransition:y,...b},v){let{basename:k}=j.useContext(Un),S=typeof m=="string"&&dg.test(m),N,C=!1;if(typeof m=="string"&&S&&(N=m,ug))try{let ae=new URL(window.location.href),H=m.startsWith("//")?new URL(ae.protocol+m):new URL(m),le=lr(H.pathname,k);H.origin===ae.origin&&le!=null?m=le+H.search+H.hash:C=!0}catch{Mn(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let M=Rb(m,{relative:o}),[_,T,R]=xv(s,b),A=_v(m,{replace:u,state:f,target:h,preventScrollReset:p,relative:o,viewTransition:y});function O(ae){n&&n(ae),ae.defaultPrevented||A(ae)}let U=j.createElement("a",{...b,...R,href:N||M,onClick:C||c?n:O,ref:wv(v,T),target:h,"data-discover":!S&&t==="render"?"true":void 0});return _&&!S?j.createElement(j.Fragment,null,U,j.createElement(yv,{page:M})):U});Ts.displayName="Link";var Nv=j.forwardRef(function({"aria-current":n="page",caseSensitive:t=!1,className:s="",end:o=!1,style:c,to:u,viewTransition:f,children:h,...m},p){let y=Bs(u,{relative:m.relative}),b=fr(),v=j.useContext(Bl),{navigator:k,basename:S}=j.useContext(Un),N=v!=null&&Ev(y)&&f===!0,C=k.encodeLocation?k.encodeLocation(y).pathname:y.pathname,M=b.pathname,_=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;t||(M=M.toLowerCase(),_=_?_.toLowerCase():null,C=C.toLowerCase()),_&&S&&(_=lr(_,S)||_);const T=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let R=M===C||!o&&M.startsWith(C)&&M.charAt(T)==="/",A=_!=null&&(_===C||!o&&_.startsWith(C)&&_.charAt(C.length)==="/"),O={isActive:R,isPending:A,isTransitioning:N},U=R?n:void 0,ae;typeof s=="function"?ae=s(O):ae=[s,R?"active":null,A?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let H=typeof c=="function"?c(O):c;return j.createElement(Ts,{...m,"aria-current":U,className:ae,ref:p,style:H,to:u,viewTransition:f},typeof h=="function"?h(O):h)});Nv.displayName="NavLink";var Sv=j.forwardRef(({discover:e="render",fetcherKey:n,navigate:t,reloadDocument:s,replace:o,state:c,method:u=yl,action:f,onSubmit:h,relative:m,preventScrollReset:p,viewTransition:y,...b},v)=>{let k=zv(),S=Pv(f,{relative:m}),N=u.toLowerCase()==="get"?"get":"post",C=typeof f=="string"&&dg.test(f),M=_=>{if(h&&h(_),_.defaultPrevented)return;_.preventDefault();let T=_.nativeEvent.submitter,R=(T==null?void 0:T.getAttribute("formmethod"))||u;k(T||_.currentTarget,{fetcherKey:n,method:R,navigate:t,replace:o,state:c,relative:m,preventScrollReset:p,viewTransition:y})};return j.createElement("form",{ref:v,method:N,action:S,onSubmit:s?h:M,...b,"data-discover":!C&&e==="render"?"true":void 0})});Sv.displayName="Form";function kv(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hg(e){let n=j.useContext(vi);return ct(n,kv(e)),n}function _v(e,{target:n,replace:t,state:s,preventScrollReset:o,relative:c,viewTransition:u}={}){let f=Kn(),h=fr(),m=Bs(e,{relative:c});return j.useCallback(p=>{if(rv(p,n)){p.preventDefault();let y=t!==void 0?t:Cs(h)===Cs(m);f(e,{replace:y,state:s,preventScrollReset:o,relative:c,viewTransition:u})}},[h,f,m,t,s,n,e,o,c,u])}function fg(e){Mn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let n=j.useRef(nd(e)),t=j.useRef(!1),s=fr(),o=j.useMemo(()=>av(s.search,t.current?null:n.current),[s.search]),c=Kn(),u=j.useCallback((f,h)=>{const m=nd(typeof f=="function"?f(new URLSearchParams(o)):f);t.current=!0,c("?"+m,h)},[c,o]);return[o,u]}var Cv=0,Tv=()=>`__${String(++Cv)}__`;function zv(){let{router:e}=hg("useSubmit"),{basename:n}=j.useContext(Un),t=Yb();return j.useCallback(async(s,o={})=>{let{action:c,method:u,encType:f,formData:h,body:m}=ov(s,n);if(o.navigate===!1){let p=o.fetcherKey||Tv();await e.fetch(p,t,o.action||c,{preventScrollReset:o.preventScrollReset,formData:h,body:m,formMethod:o.method||u,formEncType:o.encType||f,flushSync:o.flushSync})}else await e.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:h,body:m,formMethod:o.method||u,formEncType:o.encType||f,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[e,n,t])}function Pv(e,{relative:n}={}){let{basename:t}=j.useContext(Un),s=j.useContext(Yn);ct(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),c={...Bs(e||".",{relative:n})},u=fr();if(e==null){c.search=u.search;let f=new URLSearchParams(c.search),h=f.getAll("index");if(h.some(p=>p==="")){f.delete("index"),h.filter(y=>y).forEach(y=>f.append("index",y));let p=f.toString();c.search=p?`?${p}`:""}}return(!e||e===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(c.pathname=c.pathname==="/"?t:or([t,c.pathname])),Cs(c)}function Ev(e,{relative:n}={}){let t=j.useContext(rg);ct(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=hg("useViewTransitionState"),o=Bs(e,{relative:n});if(!t.isTransitioning)return!1;let c=lr(t.currentLocation.pathname,s)||t.currentLocation.pathname,u=lr(t.nextLocation.pathname,s)||t.nextLocation.pathname;return Tl(o.pathname,u)!=null||Tl(o.pathname,c)!=null}Xp();const $d=j.createContext({});function Fd(e){const n=j.useRef(null);return n.current===null&&(n.current=e()),n.current}const Vd=typeof window<"u",mg=Vd?j.useLayoutEffect:j.useEffect,Wl=j.createContext(null);function Bd(e,n){e.indexOf(n)===-1&&e.push(n)}function qd(e,n){const t=e.indexOf(n);t>-1&&e.splice(t,1)}const cr=(e,n,t)=>t>n?n:t<e?e:t;let Wd=()=>{};const ur={},pg=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function gg(e){return typeof e=="object"&&e!==null}const xg=e=>/^0[^.\s]+$/u.test(e);function Hd(e){let n;return()=>(n===void 0&&(n=e()),n)}const vn=e=>e,Mv=(e,n)=>t=>n(e(t)),qs=(...e)=>e.reduce(Mv),zs=(e,n,t)=>{const s=n-e;return s===0?1:(t-e)/s};class Ud{constructor(){this.subscriptions=[]}add(n){return Bd(this.subscriptions,n),()=>qd(this.subscriptions,n)}notify(n,t,s){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](n,t,s);else for(let c=0;c<o;c++){const u=this.subscriptions[c];u&&u(n,t,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const qn=e=>e*1e3,bn=e=>e/1e3;function yg(e,n){return n?e*(1e3/n):0}const bg=(e,n,t)=>(((1-3*t+3*n)*e+(3*t-6*n))*e+3*n)*e,Av=1e-7,Iv=12;function Rv(e,n,t,s,o){let c,u,f=0;do u=n+(t-n)/2,c=bg(u,s,o)-e,c>0?t=u:n=u;while(Math.abs(c)>Av&&++f<Iv);return u}function Ws(e,n,t,s){if(e===n&&t===s)return vn;const o=c=>Rv(c,0,1,e,t);return c=>c===0||c===1?c:bg(o(c),n,s)}const vg=e=>n=>n<=.5?e(2*n)/2:(2-e(2*(1-n)))/2,wg=e=>n=>1-e(1-n),jg=Ws(.33,1.53,.69,.99),Yd=wg(jg),Ng=vg(Yd),Sg=e=>(e*=2)<1?.5*Yd(e):.5*(2-Math.pow(2,-10*(e-1))),Kd=e=>1-Math.sin(Math.acos(e)),kg=wg(Kd),_g=vg(Kd),Dv=Ws(.42,0,1,1),Lv=Ws(0,0,.58,1),Cg=Ws(.42,0,.58,1),Ov=e=>Array.isArray(e)&&typeof e[0]!="number",Tg=e=>Array.isArray(e)&&typeof e[0]=="number",$v={linear:vn,easeIn:Dv,easeInOut:Cg,easeOut:Lv,circIn:Kd,circInOut:_g,circOut:kg,backIn:Yd,backInOut:Ng,backOut:jg,anticipate:Sg},Fv=e=>typeof e=="string",um=e=>{if(Tg(e)){Wd(e.length===4);const[n,t,s,o]=e;return Ws(n,t,s,o)}else if(Fv(e))return $v[e];return e},ul=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Vv(e,n){let t=new Set,s=new Set,o=!1,c=!1;const u=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1};function h(p){u.has(p)&&(m.schedule(p),e()),p(f)}const m={schedule:(p,y=!1,b=!1)=>{const k=b&&o?t:s;return y&&u.add(p),k.has(p)||k.add(p),p},cancel:p=>{s.delete(p),u.delete(p)},process:p=>{if(f=p,o){c=!0;return}o=!0,[t,s]=[s,t],t.forEach(h),t.clear(),o=!1,c&&(c=!1,m.process(p))}};return m}const Bv=40;function zg(e,n){let t=!1,s=!0;const o={delta:0,timestamp:0,isProcessing:!1},c=()=>t=!0,u=ul.reduce((_,T)=>(_[T]=Vv(c),_),{}),{setup:f,read:h,resolveKeyframes:m,preUpdate:p,update:y,preRender:b,render:v,postRender:k}=u,S=()=>{const _=ur.useManualTiming?o.timestamp:performance.now();t=!1,ur.useManualTiming||(o.delta=s?1e3/60:Math.max(Math.min(_-o.timestamp,Bv),1)),o.timestamp=_,o.isProcessing=!0,f.process(o),h.process(o),m.process(o),p.process(o),y.process(o),b.process(o),v.process(o),k.process(o),o.isProcessing=!1,t&&n&&(s=!1,e(S))},N=()=>{t=!0,s=!0,o.isProcessing||e(S)};return{schedule:ul.reduce((_,T)=>{const R=u[T];return _[T]=(A,O=!1,U=!1)=>(t||N(),R.schedule(A,O,U)),_},{}),cancel:_=>{for(let T=0;T<ul.length;T++)u[ul[T]].cancel(_)},state:o,steps:u}}const{schedule:at,cancel:Hr,state:Tt,steps:Ru}=zg(typeof requestAnimationFrame<"u"?requestAnimationFrame:vn,!0);let vl;function qv(){vl=void 0}const Xt={now:()=>(vl===void 0&&Xt.set(Tt.isProcessing||ur.useManualTiming?Tt.timestamp:performance.now()),vl),set:e=>{vl=e,queueMicrotask(qv)}},Pg=e=>n=>typeof n=="string"&&n.startsWith(e),Gd=Pg("--"),Wv=Pg("var(--"),Xd=e=>Wv(e)?Hv.test(e.split("/*")[0].trim()):!1,Hv=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,wi={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Ps={...wi,transform:e=>cr(0,1,e)},dl={...wi,default:1},vs=e=>Math.round(e*1e5)/1e5,Zd=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Uv(e){return e==null}const Yv=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Qd=(e,n)=>t=>!!(typeof t=="string"&&Yv.test(t)&&t.startsWith(e)||n&&!Uv(t)&&Object.prototype.hasOwnProperty.call(t,n)),Eg=(e,n,t)=>s=>{if(typeof s!="string")return s;const[o,c,u,f]=s.match(Zd);return{[e]:parseFloat(o),[n]:parseFloat(c),[t]:parseFloat(u),alpha:f!==void 0?parseFloat(f):1}},Kv=e=>cr(0,255,e),Du={...wi,transform:e=>Math.round(Kv(e))},wa={test:Qd("rgb","red"),parse:Eg("red","green","blue"),transform:({red:e,green:n,blue:t,alpha:s=1})=>"rgba("+Du.transform(e)+", "+Du.transform(n)+", "+Du.transform(t)+", "+vs(Ps.transform(s))+")"};function Gv(e){let n="",t="",s="",o="";return e.length>5?(n=e.substring(1,3),t=e.substring(3,5),s=e.substring(5,7),o=e.substring(7,9)):(n=e.substring(1,2),t=e.substring(2,3),s=e.substring(3,4),o=e.substring(4,5),n+=n,t+=t,s+=s,o+=o),{red:parseInt(n,16),green:parseInt(t,16),blue:parseInt(s,16),alpha:o?parseInt(o,16)/255:1}}const rd={test:Qd("#"),parse:Gv,transform:wa.transform},Hs=e=>({test:n=>typeof n=="string"&&n.endsWith(e)&&n.split(" ").length===1,parse:parseFloat,transform:n=>`${n}${e}`}),$r=Hs("deg"),Wn=Hs("%"),Ce=Hs("px"),Xv=Hs("vh"),Zv=Hs("vw"),dm={...Wn,parse:e=>Wn.parse(e)/100,transform:e=>Wn.transform(e*100)},ii={test:Qd("hsl","hue"),parse:Eg("hue","saturation","lightness"),transform:({hue:e,saturation:n,lightness:t,alpha:s=1})=>"hsla("+Math.round(e)+", "+Wn.transform(vs(n))+", "+Wn.transform(vs(t))+", "+vs(Ps.transform(s))+")"},yt={test:e=>wa.test(e)||rd.test(e)||ii.test(e),parse:e=>wa.test(e)?wa.parse(e):ii.test(e)?ii.parse(e):rd.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?wa.transform(e):ii.transform(e),getAnimatableNone:e=>{const n=yt.parse(e);return n.alpha=0,yt.transform(n)}},Qv=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Jv(e){var n,t;return isNaN(e)&&typeof e=="string"&&(((n=e.match(Zd))==null?void 0:n.length)||0)+(((t=e.match(Qv))==null?void 0:t.length)||0)>0}const Mg="number",Ag="color",e1="var",t1="var(",hm="${}",n1=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Es(e){const n=e.toString(),t=[],s={color:[],number:[],var:[]},o=[];let c=0;const f=n.replace(n1,h=>(yt.test(h)?(s.color.push(c),o.push(Ag),t.push(yt.parse(h))):h.startsWith(t1)?(s.var.push(c),o.push(e1),t.push(h)):(s.number.push(c),o.push(Mg),t.push(parseFloat(h))),++c,hm)).split(hm);return{values:t,split:f,indexes:s,types:o}}function Ig(e){return Es(e).values}function Rg(e){const{split:n,types:t}=Es(e),s=n.length;return o=>{let c="";for(let u=0;u<s;u++)if(c+=n[u],o[u]!==void 0){const f=t[u];f===Mg?c+=vs(o[u]):f===Ag?c+=yt.transform(o[u]):c+=o[u]}return c}}const r1=e=>typeof e=="number"?0:yt.test(e)?yt.getAnimatableNone(e):e;function a1(e){const n=Ig(e);return Rg(e)(n.map(r1))}const Ur={test:Jv,parse:Ig,createTransformer:Rg,getAnimatableNone:a1};function Lu(e,n,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?e+(n-e)*6*t:t<1/2?n:t<2/3?e+(n-e)*(2/3-t)*6:e}function i1({hue:e,saturation:n,lightness:t,alpha:s}){e/=360,n/=100,t/=100;let o=0,c=0,u=0;if(!n)o=c=u=t;else{const f=t<.5?t*(1+n):t+n-t*n,h=2*t-f;o=Lu(h,f,e+1/3),c=Lu(h,f,e),u=Lu(h,f,e-1/3)}return{red:Math.round(o*255),green:Math.round(c*255),blue:Math.round(u*255),alpha:s}}function zl(e,n){return t=>t>0?n:e}const lt=(e,n,t)=>e+(n-e)*t,Ou=(e,n,t)=>{const s=e*e,o=t*(n*n-s)+s;return o<0?0:Math.sqrt(o)},s1=[rd,wa,ii],o1=e=>s1.find(n=>n.test(e));function fm(e){const n=o1(e);if(!n)return!1;let t=n.parse(e);return n===ii&&(t=i1(t)),t}const mm=(e,n)=>{const t=fm(e),s=fm(n);if(!t||!s)return zl(e,n);const o={...t};return c=>(o.red=Ou(t.red,s.red,c),o.green=Ou(t.green,s.green,c),o.blue=Ou(t.blue,s.blue,c),o.alpha=lt(t.alpha,s.alpha,c),wa.transform(o))},ad=new Set(["none","hidden"]);function l1(e,n){return ad.has(e)?t=>t<=0?e:n:t=>t>=1?n:e}function c1(e,n){return t=>lt(e,n,t)}function Jd(e){return typeof e=="number"?c1:typeof e=="string"?Xd(e)?zl:yt.test(e)?mm:h1:Array.isArray(e)?Dg:typeof e=="object"?yt.test(e)?mm:u1:zl}function Dg(e,n){const t=[...e],s=t.length,o=e.map((c,u)=>Jd(c)(c,n[u]));return c=>{for(let u=0;u<s;u++)t[u]=o[u](c);return t}}function u1(e,n){const t={...e,...n},s={};for(const o in t)e[o]!==void 0&&n[o]!==void 0&&(s[o]=Jd(e[o])(e[o],n[o]));return o=>{for(const c in s)t[c]=s[c](o);return t}}function d1(e,n){const t=[],s={color:0,var:0,number:0};for(let o=0;o<n.values.length;o++){const c=n.types[o],u=e.indexes[c][s[c]],f=e.values[u]??0;t[o]=f,s[c]++}return t}const h1=(e,n)=>{const t=Ur.createTransformer(n),s=Es(e),o=Es(n);return s.indexes.var.length===o.indexes.var.length&&s.indexes.color.length===o.indexes.color.length&&s.indexes.number.length>=o.indexes.number.length?ad.has(e)&&!o.values.length||ad.has(n)&&!s.values.length?l1(e,n):qs(Dg(d1(s,o),o.values),t):zl(e,n)};function Lg(e,n,t){return typeof e=="number"&&typeof n=="number"&&typeof t=="number"?lt(e,n,t):Jd(e)(e,n)}const f1=e=>{const n=({timestamp:t})=>e(t);return{start:(t=!0)=>at.update(n,t),stop:()=>Hr(n),now:()=>Tt.isProcessing?Tt.timestamp:Xt.now()}},Og=(e,n,t=10)=>{let s="";const o=Math.max(Math.round(n/t),2);for(let c=0;c<o;c++)s+=Math.round(e(c/(o-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Pl=2e4;function e0(e){let n=0;const t=50;let s=e.next(n);for(;!s.done&&n<Pl;)n+=t,s=e.next(n);return n>=Pl?1/0:n}function m1(e,n=100,t){const s=t({...e,keyframes:[0,n]}),o=Math.min(e0(s),Pl);return{type:"keyframes",ease:c=>s.next(o*c).value/n,duration:bn(o)}}const p1=5;function $g(e,n,t){const s=Math.max(n-p1,0);return yg(t-e(s),n-s)}const dt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},$u=.001;function g1({duration:e=dt.duration,bounce:n=dt.bounce,velocity:t=dt.velocity,mass:s=dt.mass}){let o,c,u=1-n;u=cr(dt.minDamping,dt.maxDamping,u),e=cr(dt.minDuration,dt.maxDuration,bn(e)),u<1?(o=m=>{const p=m*u,y=p*e,b=p-t,v=id(m,u),k=Math.exp(-y);return $u-b/v*k},c=m=>{const y=m*u*e,b=y*t+t,v=Math.pow(u,2)*Math.pow(m,2)*e,k=Math.exp(-y),S=id(Math.pow(m,2),u);return(-o(m)+$u>0?-1:1)*((b-v)*k)/S}):(o=m=>{const p=Math.exp(-m*e),y=(m-t)*e+1;return-$u+p*y},c=m=>{const p=Math.exp(-m*e),y=(t-m)*(e*e);return p*y});const f=5/e,h=y1(o,c,f);if(e=qn(e),isNaN(h))return{stiffness:dt.stiffness,damping:dt.damping,duration:e};{const m=Math.pow(h,2)*s;return{stiffness:m,damping:u*2*Math.sqrt(s*m),duration:e}}}const x1=12;function y1(e,n,t){let s=t;for(let o=1;o<x1;o++)s=s-e(s)/n(s);return s}function id(e,n){return e*Math.sqrt(1-n*n)}const b1=["duration","bounce"],v1=["stiffness","damping","mass"];function pm(e,n){return n.some(t=>e[t]!==void 0)}function w1(e){let n={velocity:dt.velocity,stiffness:dt.stiffness,damping:dt.damping,mass:dt.mass,isResolvedFromDuration:!1,...e};if(!pm(e,v1)&&pm(e,b1))if(e.visualDuration){const t=e.visualDuration,s=2*Math.PI/(t*1.2),o=s*s,c=2*cr(.05,1,1-(e.bounce||0))*Math.sqrt(o);n={...n,mass:dt.mass,stiffness:o,damping:c}}else{const t=g1(e);n={...n,...t,mass:dt.mass},n.isResolvedFromDuration=!0}return n}function El(e=dt.visualDuration,n=dt.bounce){const t=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:n}:e;let{restSpeed:s,restDelta:o}=t;const c=t.keyframes[0],u=t.keyframes[t.keyframes.length-1],f={done:!1,value:c},{stiffness:h,damping:m,mass:p,duration:y,velocity:b,isResolvedFromDuration:v}=w1({...t,velocity:-bn(t.velocity||0)}),k=b||0,S=m/(2*Math.sqrt(h*p)),N=u-c,C=bn(Math.sqrt(h/p)),M=Math.abs(N)<5;s||(s=M?dt.restSpeed.granular:dt.restSpeed.default),o||(o=M?dt.restDelta.granular:dt.restDelta.default);let _;if(S<1){const R=id(C,S);_=A=>{const O=Math.exp(-S*C*A);return u-O*((k+S*C*N)/R*Math.sin(R*A)+N*Math.cos(R*A))}}else if(S===1)_=R=>u-Math.exp(-C*R)*(N+(k+C*N)*R);else{const R=C*Math.sqrt(S*S-1);_=A=>{const O=Math.exp(-S*C*A),U=Math.min(R*A,300);return u-O*((k+S*C*N)*Math.sinh(U)+R*N*Math.cosh(U))/R}}const T={calculatedDuration:v&&y||null,next:R=>{const A=_(R);if(v)f.done=R>=y;else{let O=R===0?k:0;S<1&&(O=R===0?qn(k):$g(_,R,A));const U=Math.abs(O)<=s,ae=Math.abs(u-A)<=o;f.done=U&&ae}return f.value=f.done?u:A,f},toString:()=>{const R=Math.min(e0(T),Pl),A=Og(O=>T.next(R*O).value,R,30);return R+"ms "+A},toTransition:()=>{}};return T}El.applyToOptions=e=>{const n=m1(e,100,El);return e.ease=n.ease,e.duration=qn(n.duration),e.type="keyframes",e};function sd({keyframes:e,velocity:n=0,power:t=.8,timeConstant:s=325,bounceDamping:o=10,bounceStiffness:c=500,modifyTarget:u,min:f,max:h,restDelta:m=.5,restSpeed:p}){const y=e[0],b={done:!1,value:y},v=U=>f!==void 0&&U<f||h!==void 0&&U>h,k=U=>f===void 0?h:h===void 0||Math.abs(f-U)<Math.abs(h-U)?f:h;let S=t*n;const N=y+S,C=u===void 0?N:u(N);C!==N&&(S=C-y);const M=U=>-S*Math.exp(-U/s),_=U=>C+M(U),T=U=>{const ae=M(U),H=_(U);b.done=Math.abs(ae)<=m,b.value=b.done?C:H};let R,A;const O=U=>{v(b.value)&&(R=U,A=El({keyframes:[b.value,k(b.value)],velocity:$g(_,U,b.value),damping:o,stiffness:c,restDelta:m,restSpeed:p}))};return O(0),{calculatedDuration:null,next:U=>{let ae=!1;return!A&&R===void 0&&(ae=!0,T(U),O(U)),R!==void 0&&U>=R?A.next(U-R):(!ae&&T(U),b)}}}function j1(e,n,t){const s=[],o=t||ur.mix||Lg,c=e.length-1;for(let u=0;u<c;u++){let f=o(e[u],e[u+1]);if(n){const h=Array.isArray(n)?n[u]||vn:n;f=qs(h,f)}s.push(f)}return s}function N1(e,n,{clamp:t=!0,ease:s,mixer:o}={}){const c=e.length;if(Wd(c===n.length),c===1)return()=>n[0];if(c===2&&n[0]===n[1])return()=>n[1];const u=e[0]===e[1];e[0]>e[c-1]&&(e=[...e].reverse(),n=[...n].reverse());const f=j1(n,s,o),h=f.length,m=p=>{if(u&&p<e[0])return n[0];let y=0;if(h>1)for(;y<e.length-2&&!(p<e[y+1]);y++);const b=zs(e[y],e[y+1],p);return f[y](b)};return t?p=>m(cr(e[0],e[c-1],p)):m}function S1(e,n){const t=e[e.length-1];for(let s=1;s<=n;s++){const o=zs(0,n,s);e.push(lt(t,1,o))}}function k1(e){const n=[0];return S1(n,e.length-1),n}function _1(e,n){return e.map(t=>t*n)}function C1(e,n){return e.map(()=>n||Cg).splice(0,e.length-1)}function ws({duration:e=300,keyframes:n,times:t,ease:s="easeInOut"}){const o=Ov(s)?s.map(um):um(s),c={done:!1,value:n[0]},u=_1(t&&t.length===n.length?t:k1(n),e),f=N1(u,n,{ease:Array.isArray(o)?o:C1(n,o)});return{calculatedDuration:e,next:h=>(c.value=f(h),c.done=h>=e,c)}}const T1=e=>e!==null;function t0(e,{repeat:n,repeatType:t="loop"},s,o=1){const c=e.filter(T1),f=o<0||n&&t!=="loop"&&n%2===1?0:c.length-1;return!f||s===void 0?c[f]:s}const z1={decay:sd,inertia:sd,tween:ws,keyframes:ws,spring:El};function Fg(e){typeof e.type=="string"&&(e.type=z1[e.type])}class n0{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(n=>{this.resolve=n})}notifyFinished(){this.resolve()}then(n,t){return this.finished.then(n,t)}}const P1=e=>e/100;class r0 extends n0{constructor(n){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var s,o;const{motionValue:t}=this.options;t&&t.updatedAt!==Xt.now()&&this.tick(Xt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(o=(s=this.options).onStop)==null||o.call(s))},this.options=n,this.initAnimation(),this.play(),n.autoplay===!1&&this.pause()}initAnimation(){const{options:n}=this;Fg(n);const{type:t=ws,repeat:s=0,repeatDelay:o=0,repeatType:c,velocity:u=0}=n;let{keyframes:f}=n;const h=t||ws;h!==ws&&typeof f[0]!="number"&&(this.mixKeyframes=qs(P1,Lg(f[0],f[1])),f=[0,100]);const m=h({...n,keyframes:f});c==="mirror"&&(this.mirroredGenerator=h({...n,keyframes:[...f].reverse(),velocity:-u})),m.calculatedDuration===null&&(m.calculatedDuration=e0(m));const{calculatedDuration:p}=m;this.calculatedDuration=p,this.resolvedDuration=p+o,this.totalDuration=this.resolvedDuration*(s+1)-o,this.generator=m}updateTime(n){const t=Math.round(n-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(n,t=!1){const{generator:s,totalDuration:o,mixKeyframes:c,mirroredGenerator:u,resolvedDuration:f,calculatedDuration:h}=this;if(this.startTime===null)return s.next(0);const{delay:m=0,keyframes:p,repeat:y,repeatType:b,repeatDelay:v,type:k,onUpdate:S,finalKeyframe:N}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,n):this.speed<0&&(this.startTime=Math.min(n-o/this.speed,this.startTime)),t?this.currentTime=n:this.updateTime(n);const C=this.currentTime-m*(this.playbackSpeed>=0?1:-1),M=this.playbackSpeed>=0?C<0:C>o;this.currentTime=Math.max(C,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let _=this.currentTime,T=s;if(y){const U=Math.min(this.currentTime,o)/f;let ae=Math.floor(U),H=U%1;!H&&U>=1&&(H=1),H===1&&ae--,ae=Math.min(ae,y+1),!!(ae%2)&&(b==="reverse"?(H=1-H,v&&(H-=v/f)):b==="mirror"&&(T=u)),_=cr(0,1,H)*f}const R=M?{done:!1,value:p[0]}:T.next(_);c&&(R.value=c(R.value));let{done:A}=R;!M&&h!==null&&(A=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const O=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&A);return O&&k!==sd&&(R.value=t0(p,this.options,N,this.speed)),S&&S(R.value),O&&this.finish(),R}then(n,t){return this.finished.then(n,t)}get duration(){return bn(this.calculatedDuration)}get iterationDuration(){const{delay:n=0}=this.options||{};return this.duration+bn(n)}get time(){return bn(this.currentTime)}set time(n){var t;n=qn(n),this.currentTime=n,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=n:this.driver&&(this.startTime=this.driver.now()-n/this.playbackSpeed),(t=this.driver)==null||t.start(!1)}get speed(){return this.playbackSpeed}set speed(n){this.updateTime(Xt.now());const t=this.playbackSpeed!==n;this.playbackSpeed=n,t&&(this.time=bn(this.currentTime))}play(){var o,c;if(this.isStopped)return;const{driver:n=f1,startTime:t}=this.options;this.driver||(this.driver=n(u=>this.tick(u))),(c=(o=this.options).onPlay)==null||c.call(o);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=t??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Xt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var n,t;this.notifyFinished(),this.teardown(),this.state="finished",(t=(n=this.options).onComplete)==null||t.call(n)}cancel(){var n,t;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(t=(n=this.options).onCancel)==null||t.call(n)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(n){return this.startTime=0,this.tick(n,!0)}attachTimeline(n){var t;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(t=this.driver)==null||t.stop(),n.observe(this)}}function E1(e){for(let n=1;n<e.length;n++)e[n]??(e[n]=e[n-1])}const ja=e=>e*180/Math.PI,od=e=>{const n=ja(Math.atan2(e[1],e[0]));return ld(n)},M1={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:od,rotateZ:od,skewX:e=>ja(Math.atan(e[1])),skewY:e=>ja(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},ld=e=>(e=e%360,e<0&&(e+=360),e),gm=od,xm=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),ym=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),A1={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:xm,scaleY:ym,scale:e=>(xm(e)+ym(e))/2,rotateX:e=>ld(ja(Math.atan2(e[6],e[5]))),rotateY:e=>ld(ja(Math.atan2(-e[2],e[0]))),rotateZ:gm,rotate:gm,skewX:e=>ja(Math.atan(e[4])),skewY:e=>ja(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function cd(e){return e.includes("scale")?1:0}function ud(e,n){if(!e||e==="none")return cd(n);const t=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,o;if(t)s=A1,o=t;else{const f=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=M1,o=f}if(!o)return cd(n);const c=s[n],u=o[1].split(",").map(R1);return typeof c=="function"?c(u):u[c]}const I1=(e,n)=>{const{transform:t="none"}=getComputedStyle(e);return ud(t,n)};function R1(e){return parseFloat(e.trim())}const ji=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ni=new Set(ji),bm=e=>e===wi||e===Ce,D1=new Set(["x","y","z"]),L1=ji.filter(e=>!D1.has(e));function O1(e){const n=[];return L1.forEach(t=>{const s=e.getValue(t);s!==void 0&&(n.push([t,s.get()]),s.set(t.startsWith("scale")?1:0))}),n}const Sa={width:({x:e},{paddingLeft:n="0",paddingRight:t="0"})=>e.max-e.min-parseFloat(n)-parseFloat(t),height:({y:e},{paddingTop:n="0",paddingBottom:t="0"})=>e.max-e.min-parseFloat(n)-parseFloat(t),top:(e,{top:n})=>parseFloat(n),left:(e,{left:n})=>parseFloat(n),bottom:({y:e},{top:n})=>parseFloat(n)+(e.max-e.min),right:({x:e},{left:n})=>parseFloat(n)+(e.max-e.min),x:(e,{transform:n})=>ud(n,"x"),y:(e,{transform:n})=>ud(n,"y")};Sa.translateX=Sa.x;Sa.translateY=Sa.y;const ka=new Set;let dd=!1,hd=!1,fd=!1;function Vg(){if(hd){const e=Array.from(ka).filter(s=>s.needsMeasurement),n=new Set(e.map(s=>s.element)),t=new Map;n.forEach(s=>{const o=O1(s);o.length&&(t.set(s,o),s.render())}),e.forEach(s=>s.measureInitialState()),n.forEach(s=>{s.render();const o=t.get(s);o&&o.forEach(([c,u])=>{var f;(f=s.getValue(c))==null||f.set(u)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}hd=!1,dd=!1,ka.forEach(e=>e.complete(fd)),ka.clear()}function Bg(){ka.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(hd=!0)})}function $1(){fd=!0,Bg(),Vg(),fd=!1}class a0{constructor(n,t,s,o,c,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...n],this.onComplete=t,this.name=s,this.motionValue=o,this.element=c,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(ka.add(this),dd||(dd=!0,at.read(Bg),at.resolveKeyframes(Vg))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:n,name:t,element:s,motionValue:o}=this;if(n[0]===null){const c=o==null?void 0:o.get(),u=n[n.length-1];if(c!==void 0)n[0]=c;else if(s&&t){const f=s.readValue(t,u);f!=null&&(n[0]=f)}n[0]===void 0&&(n[0]=u),o&&c===void 0&&o.set(n[0])}E1(n)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(n=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,n),ka.delete(this)}cancel(){this.state==="scheduled"&&(ka.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const F1=e=>e.startsWith("--");function V1(e,n,t){F1(n)?e.style.setProperty(n,t):e.style[n]=t}const B1=Hd(()=>window.ScrollTimeline!==void 0),q1={};function W1(e,n){const t=Hd(e);return()=>q1[n]??t()}const qg=W1(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),gs=([e,n,t,s])=>`cubic-bezier(${e}, ${n}, ${t}, ${s})`,vm={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:gs([0,.65,.55,1]),circOut:gs([.55,0,1,.45]),backIn:gs([.31,.01,.66,-.59]),backOut:gs([.33,1.53,.69,.99])};function Wg(e,n){if(e)return typeof e=="function"?qg()?Og(e,n):"ease-out":Tg(e)?gs(e):Array.isArray(e)?e.map(t=>Wg(t,n)||vm.easeOut):vm[e]}function H1(e,n,t,{delay:s=0,duration:o=300,repeat:c=0,repeatType:u="loop",ease:f="easeOut",times:h}={},m=void 0){const p={[n]:t};h&&(p.offset=h);const y=Wg(f,o);Array.isArray(y)&&(p.easing=y);const b={delay:s,duration:o,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:c+1,direction:u==="reverse"?"alternate":"normal"};return m&&(b.pseudoElement=m),e.animate(p,b)}function Hg(e){return typeof e=="function"&&"applyToOptions"in e}function U1({type:e,...n}){return Hg(e)&&qg()?e.applyToOptions(n):(n.duration??(n.duration=300),n.ease??(n.ease="easeOut"),n)}class Y1 extends n0{constructor(n){if(super(),this.finishedTime=null,this.isStopped=!1,!n)return;const{element:t,name:s,keyframes:o,pseudoElement:c,allowFlatten:u=!1,finalKeyframe:f,onComplete:h}=n;this.isPseudoElement=!!c,this.allowFlatten=u,this.options=n,Wd(typeof n.type!="string");const m=U1(n);this.animation=H1(t,s,o,m,c),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!c){const p=t0(o,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(p):V1(t,s,p),this.animation.cancel()}h==null||h(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var n,t;(t=(n=this.animation).finish)==null||t.call(n)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:n}=this;n==="idle"||n==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var n,t;this.isPseudoElement||(t=(n=this.animation).commitStyles)==null||t.call(n)}get duration(){var t,s;const n=((s=(t=this.animation.effect)==null?void 0:t.getComputedTiming)==null?void 0:s.call(t).duration)||0;return bn(Number(n))}get iterationDuration(){const{delay:n=0}=this.options||{};return this.duration+bn(n)}get time(){return bn(Number(this.animation.currentTime)||0)}set time(n){this.finishedTime=null,this.animation.currentTime=qn(n)}get speed(){return this.animation.playbackRate}set speed(n){n<0&&(this.finishedTime=null),this.animation.playbackRate=n}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(n){this.animation.startTime=n}attachTimeline({timeline:n,observe:t}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,n&&B1()?(this.animation.timeline=n,vn):t(this)}}const Ug={anticipate:Sg,backInOut:Ng,circInOut:_g};function K1(e){return e in Ug}function G1(e){typeof e.ease=="string"&&K1(e.ease)&&(e.ease=Ug[e.ease])}const wm=10;class X1 extends Y1{constructor(n){G1(n),Fg(n),super(n),n.startTime&&(this.startTime=n.startTime),this.options=n}updateMotionValue(n){const{motionValue:t,onUpdate:s,onComplete:o,element:c,...u}=this.options;if(!t)return;if(n!==void 0){t.set(n);return}const f=new r0({...u,autoplay:!1}),h=qn(this.finishedTime??this.time);t.setWithVelocity(f.sample(h-wm).value,f.sample(h).value,wm),f.stop()}}const jm=(e,n)=>n==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ur.test(e)||e==="0")&&!e.startsWith("url("));function Z1(e){const n=e[0];if(e.length===1)return!0;for(let t=0;t<e.length;t++)if(e[t]!==n)return!0}function Q1(e,n,t,s){const o=e[0];if(o===null)return!1;if(n==="display"||n==="visibility")return!0;const c=e[e.length-1],u=jm(o,n),f=jm(c,n);return!u||!f?!1:Z1(e)||(t==="spring"||Hg(t))&&s}function md(e){e.duration=0,e.type="keyframes"}const J1=new Set(["opacity","clipPath","filter","transform"]),ew=Hd(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function tw(e){var p;const{motionValue:n,name:t,repeatDelay:s,repeatType:o,damping:c,type:u}=e;if(!(((p=n==null?void 0:n.owner)==null?void 0:p.current)instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:m}=n.owner.getProps();return ew()&&t&&J1.has(t)&&(t!=="transform"||!m)&&!h&&!s&&o!=="mirror"&&c!==0&&u!=="inertia"}const nw=40;class rw extends n0{constructor({autoplay:n=!0,delay:t=0,type:s="keyframes",repeat:o=0,repeatDelay:c=0,repeatType:u="loop",keyframes:f,name:h,motionValue:m,element:p,...y}){var k;super(),this.stop=()=>{var S,N;this._animation&&(this._animation.stop(),(S=this.stopTimeline)==null||S.call(this)),(N=this.keyframeResolver)==null||N.cancel()},this.createdAt=Xt.now();const b={autoplay:n,delay:t,type:s,repeat:o,repeatDelay:c,repeatType:u,name:h,motionValue:m,element:p,...y},v=(p==null?void 0:p.KeyframeResolver)||a0;this.keyframeResolver=new v(f,(S,N,C)=>this.onKeyframesResolved(S,N,b,!C),h,m,p),(k=this.keyframeResolver)==null||k.scheduleResolve()}onKeyframesResolved(n,t,s,o){this.keyframeResolver=void 0;const{name:c,type:u,velocity:f,delay:h,isHandoff:m,onUpdate:p}=s;this.resolvedAt=Xt.now(),Q1(n,c,u,f)||((ur.instantAnimations||!h)&&(p==null||p(t0(n,s,t))),n[0]=n[n.length-1],md(s),s.repeat=0);const b={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>nw?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...s,keyframes:n},v=!m&&tw(b)?new X1({...b,element:b.motionValue.owner.current}):new r0(b);v.finished.then(()=>this.notifyFinished()).catch(vn),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(n,t){return this.finished.finally(n).then(()=>{})}get animation(){var n;return this._animation||((n=this.keyframeResolver)==null||n.resume(),$1()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(n){this.animation.time=n}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(n){this.animation.speed=n}get startTime(){return this.animation.startTime}attachTimeline(n){return this._animation?this.stopTimeline=this.animation.attachTimeline(n):this.pendingTimeline=n,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var n;this._animation&&this.animation.cancel(),(n=this.keyframeResolver)==null||n.cancel()}}const aw=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function iw(e){const n=aw.exec(e);if(!n)return[,];const[,t,s,o]=n;return[`--${t??s}`,o]}function Yg(e,n,t=1){const[s,o]=iw(e);if(!s)return;const c=window.getComputedStyle(n).getPropertyValue(s);if(c){const u=c.trim();return pg(u)?parseFloat(u):u}return Xd(o)?Yg(o,n,t+1):o}function i0(e,n){return(e==null?void 0:e[n])??(e==null?void 0:e.default)??e}const Kg=new Set(["width","height","top","left","right","bottom",...ji]),sw={test:e=>e==="auto",parse:e=>e},Gg=e=>n=>n.test(e),Xg=[wi,Ce,Wn,$r,Zv,Xv,sw],Nm=e=>Xg.find(Gg(e));function ow(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||xg(e):!0}const lw=new Set(["brightness","contrast","saturate","opacity"]);function cw(e){const[n,t]=e.slice(0,-1).split("(");if(n==="drop-shadow")return e;const[s]=t.match(Zd)||[];if(!s)return e;const o=t.replace(s,"");let c=lw.has(n)?1:0;return s!==t&&(c*=100),n+"("+c+o+")"}const uw=/\b([a-z-]*)\(.*?\)/gu,pd={...Ur,getAnimatableNone:e=>{const n=e.match(uw);return n?n.map(cw).join(" "):e}},Sm={...wi,transform:Math.round},dw={rotate:$r,rotateX:$r,rotateY:$r,rotateZ:$r,scale:dl,scaleX:dl,scaleY:dl,scaleZ:dl,skew:$r,skewX:$r,skewY:$r,distance:Ce,translateX:Ce,translateY:Ce,translateZ:Ce,x:Ce,y:Ce,z:Ce,perspective:Ce,transformPerspective:Ce,opacity:Ps,originX:dm,originY:dm,originZ:Ce},s0={borderWidth:Ce,borderTopWidth:Ce,borderRightWidth:Ce,borderBottomWidth:Ce,borderLeftWidth:Ce,borderRadius:Ce,radius:Ce,borderTopLeftRadius:Ce,borderTopRightRadius:Ce,borderBottomRightRadius:Ce,borderBottomLeftRadius:Ce,width:Ce,maxWidth:Ce,height:Ce,maxHeight:Ce,top:Ce,right:Ce,bottom:Ce,left:Ce,padding:Ce,paddingTop:Ce,paddingRight:Ce,paddingBottom:Ce,paddingLeft:Ce,margin:Ce,marginTop:Ce,marginRight:Ce,marginBottom:Ce,marginLeft:Ce,backgroundPositionX:Ce,backgroundPositionY:Ce,...dw,zIndex:Sm,fillOpacity:Ps,strokeOpacity:Ps,numOctaves:Sm},hw={...s0,color:yt,backgroundColor:yt,outlineColor:yt,fill:yt,stroke:yt,borderColor:yt,borderTopColor:yt,borderRightColor:yt,borderBottomColor:yt,borderLeftColor:yt,filter:pd,WebkitFilter:pd},Zg=e=>hw[e];function Qg(e,n){let t=Zg(e);return t!==pd&&(t=Ur),t.getAnimatableNone?t.getAnimatableNone(n):void 0}const fw=new Set(["auto","none","0"]);function mw(e,n,t){let s=0,o;for(;s<e.length&&!o;){const c=e[s];typeof c=="string"&&!fw.has(c)&&Es(c).values.length&&(o=e[s]),s++}if(o&&t)for(const c of n)e[c]=Qg(t,o)}class pw extends a0{constructor(n,t,s,o,c){super(n,t,s,o,c,!0)}readKeyframes(){const{unresolvedKeyframes:n,element:t,name:s}=this;if(!t||!t.current)return;super.readKeyframes();for(let h=0;h<n.length;h++){let m=n[h];if(typeof m=="string"&&(m=m.trim(),Xd(m))){const p=Yg(m,t.current);p!==void 0&&(n[h]=p),h===n.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!Kg.has(s)||n.length!==2)return;const[o,c]=n,u=Nm(o),f=Nm(c);if(u!==f)if(bm(u)&&bm(f))for(let h=0;h<n.length;h++){const m=n[h];typeof m=="string"&&(n[h]=parseFloat(m))}else Sa[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:n,name:t}=this,s=[];for(let o=0;o<n.length;o++)(n[o]===null||ow(n[o]))&&s.push(o);s.length&&mw(n,s,t)}measureInitialState(){const{element:n,unresolvedKeyframes:t,name:s}=this;if(!n||!n.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Sa[s](n.measureViewportBox(),window.getComputedStyle(n.current)),t[0]=this.measuredOrigin;const o=t[t.length-1];o!==void 0&&n.getValue(s,o).jump(o,!1)}measureEndState(){var f;const{element:n,name:t,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const o=n.getValue(t);o&&o.jump(this.measuredOrigin,!1);const c=s.length-1,u=s[c];s[c]=Sa[t](n.measureViewportBox(),window.getComputedStyle(n.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),(f=this.removedTransforms)!=null&&f.length&&this.removedTransforms.forEach(([h,m])=>{n.getValue(h).set(m)}),this.resolveNoneKeyframes()}}function gw(e,n,t){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let s=document;const o=(t==null?void 0:t[e])??s.querySelectorAll(e);return o?Array.from(o):[]}return Array.from(e)}const Jg=(e,n)=>n&&typeof e=="number"?n.transform(e):e;function ex(e){return gg(e)&&"offsetHeight"in e}const km=30,xw=e=>!isNaN(parseFloat(e));class yw{constructor(n,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{var c;const o=Xt.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((c=this.events.change)==null||c.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(n),this.owner=t.owner}setCurrent(n){this.current=n,this.updatedAt=Xt.now(),this.canTrackVelocity===null&&n!==void 0&&(this.canTrackVelocity=xw(this.current))}setPrevFrameValue(n=this.current){this.prevFrameValue=n,this.prevUpdatedAt=this.updatedAt}onChange(n){return this.on("change",n)}on(n,t){this.events[n]||(this.events[n]=new Ud);const s=this.events[n].add(t);return n==="change"?()=>{s(),at.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const n in this.events)this.events[n].clear()}attach(n,t){this.passiveEffect=n,this.stopPassiveEffect=t}set(n){this.passiveEffect?this.passiveEffect(n,this.updateAndNotify):this.updateAndNotify(n)}setWithVelocity(n,t,s){this.set(t),this.prev=void 0,this.prevFrameValue=n,this.prevUpdatedAt=this.updatedAt-s}jump(n,t=!0){this.updateAndNotify(n),this.prev=n,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var n;(n=this.events.change)==null||n.notify(this.current)}addDependent(n){this.dependents||(this.dependents=new Set),this.dependents.add(n)}removeDependent(n){this.dependents&&this.dependents.delete(n)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const n=Xt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||n-this.updatedAt>km)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,km);return yg(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(n){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=n(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var n,t;(n=this.dependents)==null||n.clear(),(t=this.events.destroy)==null||t.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function pi(e,n){return new yw(e,n)}const{schedule:o0}=zg(queueMicrotask,!1),Pn={x:!1,y:!1};function tx(){return Pn.x||Pn.y}function bw(e){return e==="x"||e==="y"?Pn[e]?null:(Pn[e]=!0,()=>{Pn[e]=!1}):Pn.x||Pn.y?null:(Pn.x=Pn.y=!0,()=>{Pn.x=Pn.y=!1})}function nx(e,n){const t=gw(e),s=new AbortController,o={passive:!0,...n,signal:s.signal};return[t,o,()=>s.abort()]}function _m(e){return!(e.pointerType==="touch"||tx())}function vw(e,n,t={}){const[s,o,c]=nx(e,t),u=f=>{if(!_m(f))return;const{target:h}=f,m=n(h,f);if(typeof m!="function"||!h)return;const p=y=>{_m(y)&&(m(y),h.removeEventListener("pointerleave",p))};h.addEventListener("pointerleave",p,o)};return s.forEach(f=>{f.addEventListener("pointerenter",u,o)}),c}const rx=(e,n)=>n?e===n?!0:rx(e,n.parentElement):!1,l0=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,ww=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function jw(e){return ww.has(e.tagName)||e.tabIndex!==-1}const wl=new WeakSet;function Cm(e){return n=>{n.key==="Enter"&&e(n)}}function Fu(e,n){e.dispatchEvent(new PointerEvent("pointer"+n,{isPrimary:!0,bubbles:!0}))}const Nw=(e,n)=>{const t=e.currentTarget;if(!t)return;const s=Cm(()=>{if(wl.has(t))return;Fu(t,"down");const o=Cm(()=>{Fu(t,"up")}),c=()=>Fu(t,"cancel");t.addEventListener("keyup",o,n),t.addEventListener("blur",c,n)});t.addEventListener("keydown",s,n),t.addEventListener("blur",()=>t.removeEventListener("keydown",s),n)};function Tm(e){return l0(e)&&!tx()}function Sw(e,n,t={}){const[s,o,c]=nx(e,t),u=f=>{const h=f.currentTarget;if(!Tm(f))return;wl.add(h);const m=n(h,f),p=(v,k)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",b),wl.has(h)&&wl.delete(h),Tm(v)&&typeof m=="function"&&m(v,{success:k})},y=v=>{p(v,h===window||h===document||t.useGlobalTarget||rx(h,v.target))},b=v=>{p(v,!1)};window.addEventListener("pointerup",y,o),window.addEventListener("pointercancel",b,o)};return s.forEach(f=>{(t.useGlobalTarget?window:f).addEventListener("pointerdown",u,o),ex(f)&&(f.addEventListener("focus",m=>Nw(m,o)),!jw(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),c}function ax(e){return gg(e)&&"ownerSVGElement"in e}function kw(e){return ax(e)&&e.tagName==="svg"}const Dt=e=>!!(e&&e.getVelocity),_w=[...Xg,yt,Ur],Cw=e=>_w.find(Gg(e)),c0=j.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function zm(e,n){if(typeof e=="function")return e(n);e!=null&&(e.current=n)}function Tw(...e){return n=>{let t=!1;const s=e.map(o=>{const c=zm(o,n);return!t&&typeof c=="function"&&(t=!0),c});if(t)return()=>{for(let o=0;o<s.length;o++){const c=s[o];typeof c=="function"?c():zm(e[o],null)}}}}function zw(...e){return j.useCallback(Tw(...e),e)}class Pw extends j.Component{getSnapshotBeforeUpdate(n){const t=this.props.childRef.current;if(t&&n.isPresent&&!this.props.isPresent){const s=t.offsetParent,o=ex(s)&&s.offsetWidth||0,c=this.props.sizeRef.current;c.height=t.offsetHeight||0,c.width=t.offsetWidth||0,c.top=t.offsetTop,c.left=t.offsetLeft,c.right=o-c.width-c.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Ew({children:e,isPresent:n,anchorX:t,root:s}){const o=j.useId(),c=j.useRef(null),u=j.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:f}=j.useContext(c0),h=zw(c,e==null?void 0:e.ref);return j.useInsertionEffect(()=>{const{width:m,height:p,top:y,left:b,right:v}=u.current;if(n||!c.current||!m||!p)return;const k=t==="left"?`left: ${b}`:`right: ${v}`;c.current.dataset.motionPopId=o;const S=document.createElement("style");f&&(S.nonce=f);const N=s??document.head;return N.appendChild(S),S.sheet&&S.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${m}px !important;
            height: ${p}px !important;
            ${k}px !important;
            top: ${y}px !important;
          }
        `),()=>{N.contains(S)&&N.removeChild(S)}},[n]),i.jsx(Pw,{isPresent:n,childRef:c,sizeRef:u,children:j.cloneElement(e,{ref:h})})}const Mw=({children:e,initial:n,isPresent:t,onExitComplete:s,custom:o,presenceAffectsLayout:c,mode:u,anchorX:f,root:h})=>{const m=Fd(Aw),p=j.useId();let y=!0,b=j.useMemo(()=>(y=!1,{id:p,initial:n,isPresent:t,custom:o,onExitComplete:v=>{m.set(v,!0);for(const k of m.values())if(!k)return;s&&s()},register:v=>(m.set(v,!1),()=>m.delete(v))}),[t,m,s]);return c&&y&&(b={...b}),j.useMemo(()=>{m.forEach((v,k)=>m.set(k,!1))},[t]),j.useEffect(()=>{!t&&!m.size&&s&&s()},[t]),u==="popLayout"&&(e=i.jsx(Ew,{isPresent:t,anchorX:f,root:h,children:e})),i.jsx(Wl.Provider,{value:b,children:e})};function Aw(){return new Map}function ix(e=!0){const n=j.useContext(Wl);if(n===null)return[!0,null];const{isPresent:t,onExitComplete:s,register:o}=n,c=j.useId();j.useEffect(()=>{if(e)return o(c)},[e]);const u=j.useCallback(()=>e&&s&&s(c),[c,s,e]);return!t&&s?[!1,u]:[!0]}const hl=e=>e.key||"";function Pm(e){const n=[];return j.Children.forEach(e,t=>{j.isValidElement(t)&&n.push(t)}),n}const dr=({children:e,custom:n,initial:t=!0,onExitComplete:s,presenceAffectsLayout:o=!0,mode:c="sync",propagate:u=!1,anchorX:f="left",root:h})=>{const[m,p]=ix(u),y=j.useMemo(()=>Pm(e),[e]),b=u&&!m?[]:y.map(hl),v=j.useRef(!0),k=j.useRef(y),S=Fd(()=>new Map),[N,C]=j.useState(y),[M,_]=j.useState(y);mg(()=>{v.current=!1,k.current=y;for(let A=0;A<M.length;A++){const O=hl(M[A]);b.includes(O)?S.delete(O):S.get(O)!==!0&&S.set(O,!1)}},[M,b.length,b.join("-")]);const T=[];if(y!==N){let A=[...y];for(let O=0;O<M.length;O++){const U=M[O],ae=hl(U);b.includes(ae)||(A.splice(O,0,U),T.push(U))}return c==="wait"&&T.length&&(A=T),_(Pm(A)),C(y),null}const{forceRender:R}=j.useContext($d);return i.jsx(i.Fragment,{children:M.map(A=>{const O=hl(A),U=u&&!m?!1:y===M||b.includes(O),ae=()=>{if(S.has(O))S.set(O,!0);else return;let H=!0;S.forEach(le=>{le||(H=!1)}),H&&(R==null||R(),_(k.current),u&&(p==null||p()),s&&s())};return i.jsx(Mw,{isPresent:U,initial:!v.current||t?void 0:!1,custom:n,presenceAffectsLayout:o,mode:c,root:h,onExitComplete:U?void 0:ae,anchorX:f,children:A},O)})})},sx=j.createContext({strict:!1}),Em={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},gi={};for(const e in Em)gi[e]={isEnabled:n=>Em[e].some(t=>!!n[t])};function Iw(e){for(const n in e)gi[n]={...gi[n],...e[n]}}const Rw=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ml(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Rw.has(e)}let ox=e=>!Ml(e);function Dw(e){typeof e=="function"&&(ox=n=>n.startsWith("on")?!Ml(n):e(n))}try{Dw(require("@emotion/is-prop-valid").default)}catch{}function Lw(e,n,t){const s={};for(const o in e)o==="values"&&typeof e.values=="object"||(ox(o)||t===!0&&Ml(o)||!n&&!Ml(o)||e.draggable&&o.startsWith("onDrag"))&&(s[o]=e[o]);return s}const Hl=j.createContext({});function Ul(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Ms(e){return typeof e=="string"||Array.isArray(e)}const u0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],d0=["initial",...u0];function Yl(e){return Ul(e.animate)||d0.some(n=>Ms(e[n]))}function lx(e){return!!(Yl(e)||e.variants)}function Ow(e,n){if(Yl(e)){const{initial:t,animate:s}=e;return{initial:t===!1||Ms(t)?t:void 0,animate:Ms(s)?s:void 0}}return e.inherit!==!1?n:{}}function $w(e){const{initial:n,animate:t}=Ow(e,j.useContext(Hl));return j.useMemo(()=>({initial:n,animate:t}),[Mm(n),Mm(t)])}function Mm(e){return Array.isArray(e)?e.join(" "):e}const As={};function Fw(e){for(const n in e)As[n]=e[n],Gd(n)&&(As[n].isCSSVariable=!0)}function cx(e,{layout:n,layoutId:t}){return Ni.has(e)||e.startsWith("origin")||(n||t!==void 0)&&(!!As[e]||e==="opacity")}const Vw={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Bw=ji.length;function qw(e,n,t){let s="",o=!0;for(let c=0;c<Bw;c++){const u=ji[c],f=e[u];if(f===void 0)continue;let h=!0;if(typeof f=="number"?h=f===(u.startsWith("scale")?1:0):h=parseFloat(f)===0,!h||t){const m=Jg(f,s0[u]);if(!h){o=!1;const p=Vw[u]||u;s+=`${p}(${m}) `}t&&(n[u]=m)}}return s=s.trim(),t?s=t(n,o?"":s):o&&(s="none"),s}function h0(e,n,t){const{style:s,vars:o,transformOrigin:c}=e;let u=!1,f=!1;for(const h in n){const m=n[h];if(Ni.has(h)){u=!0;continue}else if(Gd(h)){o[h]=m;continue}else{const p=Jg(m,s0[h]);h.startsWith("origin")?(f=!0,c[h]=p):s[h]=p}}if(n.transform||(u||t?s.transform=qw(n,e.transform,t):s.transform&&(s.transform="none")),f){const{originX:h="50%",originY:m="50%",originZ:p=0}=c;s.transformOrigin=`${h} ${m} ${p}`}}const f0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function ux(e,n,t){for(const s in n)!Dt(n[s])&&!cx(s,t)&&(e[s]=n[s])}function Ww({transformTemplate:e},n){return j.useMemo(()=>{const t=f0();return h0(t,n,e),Object.assign({},t.vars,t.style)},[n])}function Hw(e,n){const t=e.style||{},s={};return ux(s,t,e),Object.assign(s,Ww(e,n)),s}function Uw(e,n){const t={},s=Hw(e,n);return e.drag&&e.dragListener!==!1&&(t.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(t.tabIndex=0),t.style=s,t}const Yw={offset:"stroke-dashoffset",array:"stroke-dasharray"},Kw={offset:"strokeDashoffset",array:"strokeDasharray"};function Gw(e,n,t=1,s=0,o=!0){e.pathLength=1;const c=o?Yw:Kw;e[c.offset]=Ce.transform(-s);const u=Ce.transform(n),f=Ce.transform(t);e[c.array]=`${u} ${f}`}function dx(e,{attrX:n,attrY:t,attrScale:s,pathLength:o,pathSpacing:c=1,pathOffset:u=0,...f},h,m,p){if(h0(e,f,m),h){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:y,style:b}=e;y.transform&&(b.transform=y.transform,delete y.transform),(b.transform||y.transformOrigin)&&(b.transformOrigin=y.transformOrigin??"50% 50%",delete y.transformOrigin),b.transform&&(b.transformBox=(p==null?void 0:p.transformBox)??"fill-box",delete y.transformBox),n!==void 0&&(y.x=n),t!==void 0&&(y.y=t),s!==void 0&&(y.scale=s),o!==void 0&&Gw(y,o,c,u,!1)}const hx=()=>({...f0(),attrs:{}}),fx=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Xw(e,n,t,s){const o=j.useMemo(()=>{const c=hx();return dx(c,n,fx(s),e.transformTemplate,e.style),{...c.attrs,style:{...c.style}}},[n]);if(e.style){const c={};ux(c,e.style,e),o.style={...c,...o.style}}return o}const Zw=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function m0(e){return typeof e!="string"||e.includes("-")?!1:!!(Zw.indexOf(e)>-1||/[A-Z]/u.test(e))}function Qw(e,n,t,{latestValues:s},o,c=!1){const f=(m0(e)?Xw:Uw)(n,s,o,e),h=Lw(n,typeof e=="string",c),m=e!==j.Fragment?{...h,...f,ref:t}:{},{children:p}=n,y=j.useMemo(()=>Dt(p)?p.get():p,[p]);return j.createElement(e,{...m,children:y})}function Am(e){const n=[{},{}];return e==null||e.values.forEach((t,s)=>{n[0][s]=t.get(),n[1][s]=t.getVelocity()}),n}function p0(e,n,t,s){if(typeof n=="function"){const[o,c]=Am(s);n=n(t!==void 0?t:e.custom,o,c)}if(typeof n=="string"&&(n=e.variants&&e.variants[n]),typeof n=="function"){const[o,c]=Am(s);n=n(t!==void 0?t:e.custom,o,c)}return n}function jl(e){return Dt(e)?e.get():e}function Jw({scrapeMotionValuesFromProps:e,createRenderState:n},t,s,o){return{latestValues:ej(t,s,o,e),renderState:n()}}function ej(e,n,t,s){const o={},c=s(e,{});for(const b in c)o[b]=jl(c[b]);let{initial:u,animate:f}=e;const h=Yl(e),m=lx(e);n&&m&&!h&&e.inherit!==!1&&(u===void 0&&(u=n.initial),f===void 0&&(f=n.animate));let p=t?t.initial===!1:!1;p=p||u===!1;const y=p?f:u;if(y&&typeof y!="boolean"&&!Ul(y)){const b=Array.isArray(y)?y:[y];for(let v=0;v<b.length;v++){const k=p0(e,b[v]);if(k){const{transitionEnd:S,transition:N,...C}=k;for(const M in C){let _=C[M];if(Array.isArray(_)){const T=p?_.length-1:0;_=_[T]}_!==null&&(o[M]=_)}for(const M in S)o[M]=S[M]}}}return o}const mx=e=>(n,t)=>{const s=j.useContext(Hl),o=j.useContext(Wl),c=()=>Jw(e,n,s,o);return t?c():Fd(c)};function g0(e,n,t){var c;const{style:s}=e,o={};for(const u in s)(Dt(s[u])||n.style&&Dt(n.style[u])||cx(u,e)||((c=t==null?void 0:t.getValue(u))==null?void 0:c.liveStyle)!==void 0)&&(o[u]=s[u]);return o}const tj=mx({scrapeMotionValuesFromProps:g0,createRenderState:f0});function px(e,n,t){const s=g0(e,n,t);for(const o in e)if(Dt(e[o])||Dt(n[o])){const c=ji.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;s[c]=e[o]}return s}const nj=mx({scrapeMotionValuesFromProps:px,createRenderState:hx}),rj=Symbol.for("motionComponentSymbol");function si(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function aj(e,n,t){return j.useCallback(s=>{s&&e.onMount&&e.onMount(s),n&&(s?n.mount(s):n.unmount()),t&&(typeof t=="function"?t(s):si(t)&&(t.current=s))},[n])}const x0=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),ij="framerAppearId",gx="data-"+x0(ij),xx=j.createContext({});function sj(e,n,t,s,o){var S,N;const{visualElement:c}=j.useContext(Hl),u=j.useContext(sx),f=j.useContext(Wl),h=j.useContext(c0).reducedMotion,m=j.useRef(null);s=s||u.renderer,!m.current&&s&&(m.current=s(e,{visualState:n,parent:c,props:t,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:h}));const p=m.current,y=j.useContext(xx);p&&!p.projection&&o&&(p.type==="html"||p.type==="svg")&&oj(m.current,t,o,y);const b=j.useRef(!1);j.useInsertionEffect(()=>{p&&b.current&&p.update(t,f)});const v=t[gx],k=j.useRef(!!v&&!((S=window.MotionHandoffIsComplete)!=null&&S.call(window,v))&&((N=window.MotionHasOptimisedAnimation)==null?void 0:N.call(window,v)));return mg(()=>{p&&(b.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),p.scheduleRenderMicrotask(),k.current&&p.animationState&&p.animationState.animateChanges())}),j.useEffect(()=>{p&&(!k.current&&p.animationState&&p.animationState.animateChanges(),k.current&&(queueMicrotask(()=>{var C;(C=window.MotionHandoffMarkAsComplete)==null||C.call(window,v)}),k.current=!1),p.enteringChildren=void 0)}),p}function oj(e,n,t,s){const{layoutId:o,layout:c,drag:u,dragConstraints:f,layoutScroll:h,layoutRoot:m,layoutCrossfade:p}=n;e.projection=new t(e.latestValues,n["data-framer-portal-id"]?void 0:yx(e.parent)),e.projection.setOptions({layoutId:o,layout:c,alwaysMeasureLayout:!!u||f&&si(f),visualElement:e,animationType:typeof c=="string"?c:"both",initialPromotionConfig:s,crossfade:p,layoutScroll:h,layoutRoot:m})}function yx(e){if(e)return e.options.allowProjection!==!1?e.projection:yx(e.parent)}function Vu(e,{forwardMotionProps:n=!1}={},t,s){t&&Iw(t);const o=m0(e)?nj:tj;function c(f,h){let m;const p={...j.useContext(c0),...f,layoutId:lj(f)},{isStatic:y}=p,b=$w(f),v=o(f,y);if(!y&&Vd){cj();const k=uj(p);m=k.MeasureLayout,b.visualElement=sj(e,v,p,s,k.ProjectionNode)}return i.jsxs(Hl.Provider,{value:b,children:[m&&b.visualElement?i.jsx(m,{visualElement:b.visualElement,...p}):null,Qw(e,f,aj(v,b.visualElement,h),v,y,n)]})}c.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const u=j.forwardRef(c);return u[rj]=e,u}function lj({layoutId:e}){const n=j.useContext($d).id;return n&&e!==void 0?n+"-"+e:e}function cj(e,n){j.useContext(sx).strict}function uj(e){const{drag:n,layout:t}=gi;if(!n&&!t)return{};const s={...n,...t};return{MeasureLayout:n!=null&&n.isEnabled(e)||t!=null&&t.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function dj(e,n){if(typeof Proxy>"u")return Vu;const t=new Map,s=(c,u)=>Vu(c,u,e,n),o=(c,u)=>s(c,u);return new Proxy(o,{get:(c,u)=>u==="create"?s:(t.has(u)||t.set(u,Vu(u,void 0,e,n)),t.get(u))})}function bx({top:e,left:n,right:t,bottom:s}){return{x:{min:n,max:t},y:{min:e,max:s}}}function hj({x:e,y:n}){return{top:n.min,right:e.max,bottom:n.max,left:e.min}}function fj(e,n){if(!n)return e;const t=n({x:e.left,y:e.top}),s=n({x:e.right,y:e.bottom});return{top:t.y,left:t.x,bottom:s.y,right:s.x}}function Bu(e){return e===void 0||e===1}function gd({scale:e,scaleX:n,scaleY:t}){return!Bu(e)||!Bu(n)||!Bu(t)}function va(e){return gd(e)||vx(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function vx(e){return Im(e.x)||Im(e.y)}function Im(e){return e&&e!=="0%"}function Al(e,n,t){const s=e-t,o=n*s;return t+o}function Rm(e,n,t,s,o){return o!==void 0&&(e=Al(e,o,s)),Al(e,t,s)+n}function xd(e,n=0,t=1,s,o){e.min=Rm(e.min,n,t,s,o),e.max=Rm(e.max,n,t,s,o)}function wx(e,{x:n,y:t}){xd(e.x,n.translate,n.scale,n.originPoint),xd(e.y,t.translate,t.scale,t.originPoint)}const Dm=.999999999999,Lm=1.0000000000001;function mj(e,n,t,s=!1){const o=t.length;if(!o)return;n.x=n.y=1;let c,u;for(let f=0;f<o;f++){c=t[f],u=c.projectionDelta;const{visualElement:h}=c.options;h&&h.props.style&&h.props.style.display==="contents"||(s&&c.options.layoutScroll&&c.scroll&&c!==c.root&&li(e,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),u&&(n.x*=u.x.scale,n.y*=u.y.scale,wx(e,u)),s&&va(c.latestValues)&&li(e,c.latestValues))}n.x<Lm&&n.x>Dm&&(n.x=1),n.y<Lm&&n.y>Dm&&(n.y=1)}function oi(e,n){e.min=e.min+n,e.max=e.max+n}function Om(e,n,t,s,o=.5){const c=lt(e.min,e.max,o);xd(e,n,t,c,s)}function li(e,n){Om(e.x,n.x,n.scaleX,n.scale,n.originX),Om(e.y,n.y,n.scaleY,n.scale,n.originY)}function jx(e,n){return bx(fj(e.getBoundingClientRect(),n))}function pj(e,n,t){const s=jx(e,t),{scroll:o}=n;return o&&(oi(s.x,o.offset.x),oi(s.y,o.offset.y)),s}const $m=()=>({translate:0,scale:1,origin:0,originPoint:0}),ci=()=>({x:$m(),y:$m()}),Fm=()=>({min:0,max:0}),gt=()=>({x:Fm(),y:Fm()}),yd={current:null},Nx={current:!1};function gj(){if(Nx.current=!0,!!Vd)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),n=()=>yd.current=e.matches;e.addEventListener("change",n),n()}else yd.current=!1}const xj=new WeakMap;function yj(e,n,t){for(const s in n){const o=n[s],c=t[s];if(Dt(o))e.addValue(s,o);else if(Dt(c))e.addValue(s,pi(o,{owner:e}));else if(c!==o)if(e.hasValue(s)){const u=e.getValue(s);u.liveStyle===!0?u.jump(o):u.hasAnimated||u.set(o)}else{const u=e.getStaticValue(s);e.addValue(s,pi(u!==void 0?u:o,{owner:e}))}}for(const s in t)n[s]===void 0&&e.removeValue(s);return n}const Vm=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class bj{scrapeMotionValuesFromProps(n,t,s){return{}}constructor({parent:n,props:t,presenceContext:s,reducedMotionConfig:o,blockInitialAnimation:c,visualState:u},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=a0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=Xt.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,at.render(this.render,!1,!0))};const{latestValues:h,renderState:m}=u;this.latestValues=h,this.baseTarget={...h},this.initialValues=t.initial?{...h}:{},this.renderState=m,this.parent=n,this.props=t,this.presenceContext=s,this.depth=n?n.depth+1:0,this.reducedMotionConfig=o,this.options=f,this.blockInitialAnimation=!!c,this.isControllingVariants=Yl(t),this.isVariantNode=lx(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(n&&n.current);const{willChange:p,...y}=this.scrapeMotionValuesFromProps(t,{},this);for(const b in y){const v=y[b];h[b]!==void 0&&Dt(v)&&v.set(h[b])}}mount(n){var t;this.current=n,xj.set(n,this),this.projection&&!this.projection.instance&&this.projection.mount(n),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,o)=>this.bindToMotionValue(o,s)),Nx.current||gj(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:yd.current,(t=this.parent)==null||t.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var n;this.projection&&this.projection.unmount(),Hr(this.notifyUpdate),Hr(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(n=this.parent)==null||n.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const s=this.features[t];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(n){this.children.add(n),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(n)}removeChild(n){this.children.delete(n),this.enteringChildren&&this.enteringChildren.delete(n)}bindToMotionValue(n,t){this.valueSubscriptions.has(n)&&this.valueSubscriptions.get(n)();const s=Ni.has(n);s&&this.onBindTransform&&this.onBindTransform();const o=t.on("change",u=>{this.latestValues[n]=u,this.props.onUpdate&&at.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,n,t)),this.valueSubscriptions.set(n,()=>{o(),c&&c(),t.owner&&t.stop()})}sortNodePosition(n){return!this.current||!this.sortInstanceNodePosition||this.type!==n.type?0:this.sortInstanceNodePosition(this.current,n.current)}updateFeatures(){let n="animation";for(n in gi){const t=gi[n];if(!t)continue;const{isEnabled:s,Feature:o}=t;if(!this.features[n]&&o&&s(this.props)&&(this.features[n]=new o(this)),this.features[n]){const c=this.features[n];c.isMounted?c.update():(c.mount(),c.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):gt()}getStaticValue(n){return this.latestValues[n]}setStaticValue(n,t){this.latestValues[n]=t}update(n,t){(n.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=n,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let s=0;s<Vm.length;s++){const o=Vm[s];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const c="on"+o,u=n[c];u&&(this.propEventSubscriptions[o]=this.on(o,u))}this.prevMotionValues=yj(this,this.scrapeMotionValuesFromProps(n,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(n){return this.props.variants?this.props.variants[n]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(n){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(n),()=>t.variantChildren.delete(n)}addValue(n,t){const s=this.values.get(n);t!==s&&(s&&this.removeValue(n),this.bindToMotionValue(n,t),this.values.set(n,t),this.latestValues[n]=t.get())}removeValue(n){this.values.delete(n);const t=this.valueSubscriptions.get(n);t&&(t(),this.valueSubscriptions.delete(n)),delete this.latestValues[n],this.removeValueFromRenderState(n,this.renderState)}hasValue(n){return this.values.has(n)}getValue(n,t){if(this.props.values&&this.props.values[n])return this.props.values[n];let s=this.values.get(n);return s===void 0&&t!==void 0&&(s=pi(t===null?void 0:t,{owner:this}),this.addValue(n,s)),s}readValue(n,t){let s=this.latestValues[n]!==void 0||!this.current?this.latestValues[n]:this.getBaseTargetFromProps(this.props,n)??this.readValueFromInstance(this.current,n,this.options);return s!=null&&(typeof s=="string"&&(pg(s)||xg(s))?s=parseFloat(s):!Cw(s)&&Ur.test(t)&&(s=Qg(n,t)),this.setBaseTarget(n,Dt(s)?s.get():s)),Dt(s)?s.get():s}setBaseTarget(n,t){this.baseTarget[n]=t}getBaseTarget(n){var c;const{initial:t}=this.props;let s;if(typeof t=="string"||typeof t=="object"){const u=p0(this.props,t,(c=this.presenceContext)==null?void 0:c.custom);u&&(s=u[n])}if(t&&s!==void 0)return s;const o=this.getBaseTargetFromProps(this.props,n);return o!==void 0&&!Dt(o)?o:this.initialValues[n]!==void 0&&s===void 0?void 0:this.baseTarget[n]}on(n,t){return this.events[n]||(this.events[n]=new Ud),this.events[n].add(t)}notify(n,...t){this.events[n]&&this.events[n].notify(...t)}scheduleRenderMicrotask(){o0.render(this.render)}}class Sx extends bj{constructor(){super(...arguments),this.KeyframeResolver=pw}sortInstanceNodePosition(n,t){return n.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(n,t){return n.style?n.style[t]:void 0}removeValueFromRenderState(n,{vars:t,style:s}){delete t[n],delete s[n]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:n}=this.props;Dt(n)&&(this.childSubscription=n.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function kx(e,{style:n,vars:t},s,o){const c=e.style;let u;for(u in n)c[u]=n[u];o==null||o.applyProjectionStyles(c,s);for(u in t)c.setProperty(u,t[u])}function vj(e){return window.getComputedStyle(e)}class wj extends Sx{constructor(){super(...arguments),this.type="html",this.renderInstance=kx}readValueFromInstance(n,t){var s;if(Ni.has(t))return(s=this.projection)!=null&&s.isProjecting?cd(t):I1(n,t);{const o=vj(n),c=(Gd(t)?o.getPropertyValue(t):o[t])||0;return typeof c=="string"?c.trim():c}}measureInstanceViewportBox(n,{transformPagePoint:t}){return jx(n,t)}build(n,t,s){h0(n,t,s.transformTemplate)}scrapeMotionValuesFromProps(n,t,s){return g0(n,t,s)}}const _x=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function jj(e,n,t,s){kx(e,n,void 0,s);for(const o in n.attrs)e.setAttribute(_x.has(o)?o:x0(o),n.attrs[o])}class Nj extends Sx{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=gt}getBaseTargetFromProps(n,t){return n[t]}readValueFromInstance(n,t){if(Ni.has(t)){const s=Zg(t);return s&&s.default||0}return t=_x.has(t)?t:x0(t),n.getAttribute(t)}scrapeMotionValuesFromProps(n,t,s){return px(n,t,s)}build(n,t,s){dx(n,t,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(n,t,s,o){jj(n,t,s,o)}mount(n){this.isSVGTag=fx(n.tagName),super.mount(n)}}const Sj=(e,n)=>m0(e)?new Nj(n):new wj(n,{allowProjection:e!==j.Fragment});function di(e,n,t){const s=e.getProps();return p0(s,n,t!==void 0?t:s.custom,e)}const bd=e=>Array.isArray(e);function kj(e,n,t){e.hasValue(n)?e.getValue(n).set(t):e.addValue(n,pi(t))}function _j(e){return bd(e)?e[e.length-1]||0:e}function Cj(e,n){const t=di(e,n);let{transitionEnd:s={},transition:o={},...c}=t||{};c={...c,...s};for(const u in c){const f=_j(c[u]);kj(e,u,f)}}function Tj(e){return!!(Dt(e)&&e.add)}function vd(e,n){const t=e.getValue("willChange");if(Tj(t))return t.add(n);if(!t&&ur.WillChange){const s=new ur.WillChange("auto");e.addValue("willChange",s),s.add(n)}}function Cx(e){return e.props[gx]}const zj=e=>e!==null;function Pj(e,{repeat:n,repeatType:t="loop"},s){const o=e.filter(zj),c=n&&t!=="loop"&&n%2===1?0:o.length-1;return o[c]}const Ej={type:"spring",stiffness:500,damping:25,restSpeed:10},Mj=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Aj={type:"keyframes",duration:.8},Ij={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Rj=(e,{keyframes:n})=>n.length>2?Aj:Ni.has(e)?e.startsWith("scale")?Mj(n[1]):Ej:Ij;function Dj({when:e,delay:n,delayChildren:t,staggerChildren:s,staggerDirection:o,repeat:c,repeatType:u,repeatDelay:f,from:h,elapsed:m,...p}){return!!Object.keys(p).length}const y0=(e,n,t,s={},o,c)=>u=>{const f=i0(s,e)||{},h=f.delay||s.delay||0;let{elapsed:m=0}=s;m=m-qn(h);const p={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:n.getVelocity(),...f,delay:-m,onUpdate:b=>{n.set(b),f.onUpdate&&f.onUpdate(b)},onComplete:()=>{u(),f.onComplete&&f.onComplete()},name:e,motionValue:n,element:c?void 0:o};Dj(f)||Object.assign(p,Rj(e,p)),p.duration&&(p.duration=qn(p.duration)),p.repeatDelay&&(p.repeatDelay=qn(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let y=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(md(p),p.delay===0&&(y=!0)),(ur.instantAnimations||ur.skipAnimations)&&(y=!0,md(p),p.delay=0),p.allowFlatten=!f.type&&!f.ease,y&&!c&&n.get()!==void 0){const b=Pj(p.keyframes,f);if(b!==void 0){at.update(()=>{p.onUpdate(b),p.onComplete()});return}}return f.isSync?new r0(p):new rw(p)};function Lj({protectedKeys:e,needsAnimating:n},t){const s=e.hasOwnProperty(t)&&n[t]!==!0;return n[t]=!1,s}function Tx(e,n,{delay:t=0,transitionOverride:s,type:o}={}){let{transition:c=e.getDefaultTransition(),transitionEnd:u,...f}=n;s&&(c=s);const h=[],m=o&&e.animationState&&e.animationState.getState()[o];for(const p in f){const y=e.getValue(p,e.latestValues[p]??null),b=f[p];if(b===void 0||m&&Lj(m,p))continue;const v={delay:t,...i0(c||{},p)},k=y.get();if(k!==void 0&&!y.isAnimating&&!Array.isArray(b)&&b===k&&!v.velocity)continue;let S=!1;if(window.MotionHandoffAnimation){const C=Cx(e);if(C){const M=window.MotionHandoffAnimation(C,p,at);M!==null&&(v.startTime=M,S=!0)}}vd(e,p),y.start(y0(p,y,b,e.shouldReduceMotion&&Kg.has(p)?{type:!1}:v,e,S));const N=y.animation;N&&h.push(N)}return u&&Promise.all(h).then(()=>{at.update(()=>{u&&Cj(e,u)})}),h}function zx(e,n,t,s=0,o=1){const c=Array.from(e).sort((m,p)=>m.sortNodePosition(p)).indexOf(n),u=e.size,f=(u-1)*s;return typeof t=="function"?t(c,u):o===1?c*s:f-c*s}function wd(e,n,t={}){var h;const s=di(e,n,t.type==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);let{transition:o=e.getDefaultTransition()||{}}=s||{};t.transitionOverride&&(o=t.transitionOverride);const c=s?()=>Promise.all(Tx(e,s,t)):()=>Promise.resolve(),u=e.variantChildren&&e.variantChildren.size?(m=0)=>{const{delayChildren:p=0,staggerChildren:y,staggerDirection:b}=o;return Oj(e,n,m,p,y,b,t)}:()=>Promise.resolve(),{when:f}=o;if(f){const[m,p]=f==="beforeChildren"?[c,u]:[u,c];return m().then(()=>p())}else return Promise.all([c(),u(t.delay)])}function Oj(e,n,t=0,s=0,o=0,c=1,u){const f=[];for(const h of e.variantChildren)h.notify("AnimationStart",n),f.push(wd(h,n,{...u,delay:t+(typeof s=="function"?0:s)+zx(e.variantChildren,h,s,o,c)}).then(()=>h.notify("AnimationComplete",n)));return Promise.all(f)}function $j(e,n,t={}){e.notify("AnimationStart",n);let s;if(Array.isArray(n)){const o=n.map(c=>wd(e,c,t));s=Promise.all(o)}else if(typeof n=="string")s=wd(e,n,t);else{const o=typeof n=="function"?di(e,n,t.custom):n;s=Promise.all(Tx(e,o,t))}return s.then(()=>{e.notify("AnimationComplete",n)})}function Px(e,n){if(!Array.isArray(n))return!1;const t=n.length;if(t!==e.length)return!1;for(let s=0;s<t;s++)if(n[s]!==e[s])return!1;return!0}const Fj=d0.length;function Ex(e){if(!e)return;if(!e.isControllingVariants){const t=e.parent?Ex(e.parent)||{}:{};return e.props.initial!==void 0&&(t.initial=e.props.initial),t}const n={};for(let t=0;t<Fj;t++){const s=d0[t],o=e.props[s];(Ms(o)||o===!1)&&(n[s]=o)}return n}const Vj=[...u0].reverse(),Bj=u0.length;function qj(e){return n=>Promise.all(n.map(({animation:t,options:s})=>$j(e,t,s)))}function Wj(e){let n=qj(e),t=Bm(),s=!0;const o=h=>(m,p)=>{var b;const y=di(e,p,h==="exit"?(b=e.presenceContext)==null?void 0:b.custom:void 0);if(y){const{transition:v,transitionEnd:k,...S}=y;m={...m,...S,...k}}return m};function c(h){n=h(e)}function u(h){const{props:m}=e,p=Ex(e.parent)||{},y=[],b=new Set;let v={},k=1/0;for(let N=0;N<Bj;N++){const C=Vj[N],M=t[C],_=m[C]!==void 0?m[C]:p[C],T=Ms(_),R=C===h?M.isActive:null;R===!1&&(k=N);let A=_===p[C]&&_!==m[C]&&T;if(A&&s&&e.manuallyAnimateOnMount&&(A=!1),M.protectedKeys={...v},!M.isActive&&R===null||!_&&!M.prevProp||Ul(_)||typeof _=="boolean")continue;const O=Hj(M.prevProp,_);let U=O||C===h&&M.isActive&&!A&&T||N>k&&T,ae=!1;const H=Array.isArray(_)?_:[_];let le=H.reduce(o(C),{});R===!1&&(le={});const{prevResolvedValues:je={}}=M,Ae={...je,...le},Te=xe=>{U=!0,b.has(xe)&&(ae=!0,b.delete(xe)),M.needsAnimating[xe]=!0;const Y=e.getValue(xe);Y&&(Y.liveStyle=!1)};for(const xe in Ae){const Y=le[xe],de=je[xe];if(v.hasOwnProperty(xe))continue;let ie=!1;bd(Y)&&bd(de)?ie=!Px(Y,de):ie=Y!==de,ie?Y!=null?Te(xe):b.add(xe):Y!==void 0&&b.has(xe)?Te(xe):M.protectedKeys[xe]=!0}M.prevProp=_,M.prevResolvedValues=le,M.isActive&&(v={...v,...le}),s&&e.blockInitialAnimation&&(U=!1);const $e=A&&O;U&&(!$e||ae)&&y.push(...H.map(xe=>{const Y={type:C};if(typeof xe=="string"&&s&&!$e&&e.manuallyAnimateOnMount&&e.parent){const{parent:de}=e,ie=di(de,xe);if(de.enteringChildren&&ie){const{delayChildren:L}=ie.transition||{};Y.delay=zx(de.enteringChildren,e,L)}}return{animation:xe,options:Y}}))}if(b.size){const N={};if(typeof m.initial!="boolean"){const C=di(e,Array.isArray(m.initial)?m.initial[0]:m.initial);C&&C.transition&&(N.transition=C.transition)}b.forEach(C=>{const M=e.getBaseTarget(C),_=e.getValue(C);_&&(_.liveStyle=!0),N[C]=M??null}),y.push({animation:N})}let S=!!y.length;return s&&(m.initial===!1||m.initial===m.animate)&&!e.manuallyAnimateOnMount&&(S=!1),s=!1,S?n(y):Promise.resolve()}function f(h,m){var y;if(t[h].isActive===m)return Promise.resolve();(y=e.variantChildren)==null||y.forEach(b=>{var v;return(v=b.animationState)==null?void 0:v.setActive(h,m)}),t[h].isActive=m;const p=u(h);for(const b in t)t[b].protectedKeys={};return p}return{animateChanges:u,setActive:f,setAnimateFunction:c,getState:()=>t,reset:()=>{t=Bm()}}}function Hj(e,n){return typeof n=="string"?n!==e:Array.isArray(n)?!Px(n,e):!1}function ya(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Bm(){return{animate:ya(!0),whileInView:ya(),whileHover:ya(),whileTap:ya(),whileDrag:ya(),whileFocus:ya(),exit:ya()}}class Yr{constructor(n){this.isMounted=!1,this.node=n}update(){}}class Uj extends Yr{constructor(n){super(n),n.animationState||(n.animationState=Wj(n))}updateAnimationControlsSubscription(){const{animate:n}=this.node.getProps();Ul(n)&&(this.unmountControls=n.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:n}=this.node.getProps(),{animate:t}=this.node.prevProps||{};n!==t&&this.updateAnimationControlsSubscription()}unmount(){var n;this.node.animationState.reset(),(n=this.unmountControls)==null||n.call(this)}}let Yj=0;class Kj extends Yr{constructor(){super(...arguments),this.id=Yj++}update(){if(!this.node.presenceContext)return;const{isPresent:n,onExitComplete:t}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||n===s)return;const o=this.node.animationState.setActive("exit",!n);t&&!n&&o.then(()=>{t(this.id)})}mount(){const{register:n,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),n&&(this.unmount=n(this.id))}unmount(){}}const Gj={animation:{Feature:Uj},exit:{Feature:Kj}};function Is(e,n,t,s={passive:!0}){return e.addEventListener(n,t,s),()=>e.removeEventListener(n,t)}function Us(e){return{point:{x:e.pageX,y:e.pageY}}}const Xj=e=>n=>l0(n)&&e(n,Us(n));function js(e,n,t,s){return Is(e,n,Xj(t),s)}const Mx=1e-4,Zj=1-Mx,Qj=1+Mx,Ax=.01,Jj=0-Ax,e5=0+Ax;function Vt(e){return e.max-e.min}function t5(e,n,t){return Math.abs(e-n)<=t}function qm(e,n,t,s=.5){e.origin=s,e.originPoint=lt(n.min,n.max,e.origin),e.scale=Vt(t)/Vt(n),e.translate=lt(t.min,t.max,e.origin)-e.originPoint,(e.scale>=Zj&&e.scale<=Qj||isNaN(e.scale))&&(e.scale=1),(e.translate>=Jj&&e.translate<=e5||isNaN(e.translate))&&(e.translate=0)}function Ns(e,n,t,s){qm(e.x,n.x,t.x,s?s.originX:void 0),qm(e.y,n.y,t.y,s?s.originY:void 0)}function Wm(e,n,t){e.min=t.min+n.min,e.max=e.min+Vt(n)}function n5(e,n,t){Wm(e.x,n.x,t.x),Wm(e.y,n.y,t.y)}function Hm(e,n,t){e.min=n.min-t.min,e.max=e.min+Vt(n)}function Ss(e,n,t){Hm(e.x,n.x,t.x),Hm(e.y,n.y,t.y)}function xn(e){return[e("x"),e("y")]}const Ix=({current:e})=>e?e.ownerDocument.defaultView:null,Um=(e,n)=>Math.abs(e-n);function r5(e,n){const t=Um(e.x,n.x),s=Um(e.y,n.y);return Math.sqrt(t**2+s**2)}class Rx{constructor(n,t,{transformPagePoint:s,contextWindow:o=window,dragSnapToOrigin:c=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Wu(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,k=r5(b.offset,{x:0,y:0})>=this.distanceThreshold;if(!v&&!k)return;const{point:S}=b,{timestamp:N}=Tt;this.history.push({...S,timestamp:N});const{onStart:C,onMove:M}=this.handlers;v||(C&&C(this.lastMoveEvent,b),this.startEvent=this.lastMoveEvent),M&&M(this.lastMoveEvent,b)},this.handlePointerMove=(b,v)=>{this.lastMoveEvent=b,this.lastMoveEventInfo=qu(v,this.transformPagePoint),at.update(this.updatePoint,!0)},this.handlePointerUp=(b,v)=>{this.end();const{onEnd:k,onSessionEnd:S,resumeAnimation:N}=this.handlers;if(this.dragSnapToOrigin&&N&&N(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=Wu(b.type==="pointercancel"?this.lastMoveEventInfo:qu(v,this.transformPagePoint),this.history);this.startEvent&&k&&k(b,C),S&&S(b,C)},!l0(n))return;this.dragSnapToOrigin=c,this.handlers=t,this.transformPagePoint=s,this.distanceThreshold=u,this.contextWindow=o||window;const f=Us(n),h=qu(f,this.transformPagePoint),{point:m}=h,{timestamp:p}=Tt;this.history=[{...m,timestamp:p}];const{onSessionStart:y}=t;y&&y(n,Wu(h,this.history)),this.removeListeners=qs(js(this.contextWindow,"pointermove",this.handlePointerMove),js(this.contextWindow,"pointerup",this.handlePointerUp),js(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(n){this.handlers=n}end(){this.removeListeners&&this.removeListeners(),Hr(this.updatePoint)}}function qu(e,n){return n?{point:n(e.point)}:e}function Ym(e,n){return{x:e.x-n.x,y:e.y-n.y}}function Wu({point:e},n){return{point:e,delta:Ym(e,Dx(n)),offset:Ym(e,a5(n)),velocity:i5(n,.1)}}function a5(e){return e[0]}function Dx(e){return e[e.length-1]}function i5(e,n){if(e.length<2)return{x:0,y:0};let t=e.length-1,s=null;const o=Dx(e);for(;t>=0&&(s=e[t],!(o.timestamp-s.timestamp>qn(n)));)t--;if(!s)return{x:0,y:0};const c=bn(o.timestamp-s.timestamp);if(c===0)return{x:0,y:0};const u={x:(o.x-s.x)/c,y:(o.y-s.y)/c};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function s5(e,{min:n,max:t},s){return n!==void 0&&e<n?e=s?lt(n,e,s.min):Math.max(e,n):t!==void 0&&e>t&&(e=s?lt(t,e,s.max):Math.min(e,t)),e}function Km(e,n,t){return{min:n!==void 0?e.min+n:void 0,max:t!==void 0?e.max+t-(e.max-e.min):void 0}}function o5(e,{top:n,left:t,bottom:s,right:o}){return{x:Km(e.x,t,o),y:Km(e.y,n,s)}}function Gm(e,n){let t=n.min-e.min,s=n.max-e.max;return n.max-n.min<e.max-e.min&&([t,s]=[s,t]),{min:t,max:s}}function l5(e,n){return{x:Gm(e.x,n.x),y:Gm(e.y,n.y)}}function c5(e,n){let t=.5;const s=Vt(e),o=Vt(n);return o>s?t=zs(n.min,n.max-s,e.min):s>o&&(t=zs(e.min,e.max-o,n.min)),cr(0,1,t)}function u5(e,n){const t={};return n.min!==void 0&&(t.min=n.min-e.min),n.max!==void 0&&(t.max=n.max-e.min),t}const jd=.35;function d5(e=jd){return e===!1?e=0:e===!0&&(e=jd),{x:Xm(e,"left","right"),y:Xm(e,"top","bottom")}}function Xm(e,n,t){return{min:Zm(e,n),max:Zm(e,t)}}function Zm(e,n){return typeof e=="number"?e:e[n]||0}const h5=new WeakMap;class f5{constructor(n){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=gt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=n}start(n,{snapToCursor:t=!1,distanceThreshold:s}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const c=y=>{const{dragSnapToOrigin:b}=this.getProps();b?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Us(y).point)},u=(y,b)=>{const{drag:v,dragPropagation:k,onDragStart:S}=this.getProps();if(v&&!k&&(this.openDragLock&&this.openDragLock(),this.openDragLock=bw(v),!this.openDragLock))return;this.latestPointerEvent=y,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),xn(C=>{let M=this.getAxisMotionValue(C).get()||0;if(Wn.test(M)){const{projection:_}=this.visualElement;if(_&&_.layout){const T=_.layout.layoutBox[C];T&&(M=Vt(T)*(parseFloat(M)/100))}}this.originPoint[C]=M}),S&&at.postRender(()=>S(y,b)),vd(this.visualElement,"transform");const{animationState:N}=this.visualElement;N&&N.setActive("whileDrag",!0)},f=(y,b)=>{this.latestPointerEvent=y,this.latestPanInfo=b;const{dragPropagation:v,dragDirectionLock:k,onDirectionLock:S,onDrag:N}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:C}=b;if(k&&this.currentDirection===null){this.currentDirection=m5(C),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",b.point,C),this.updateAxis("y",b.point,C),this.visualElement.render(),N&&N(y,b)},h=(y,b)=>{this.latestPointerEvent=y,this.latestPanInfo=b,this.stop(y,b),this.latestPointerEvent=null,this.latestPanInfo=null},m=()=>xn(y=>{var b;return this.getAnimationState(y)==="paused"&&((b=this.getAxisMotionValue(y).animation)==null?void 0:b.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new Rx(n,{onSessionStart:c,onStart:u,onMove:f,onSessionEnd:h,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,distanceThreshold:s,contextWindow:Ix(this.visualElement)})}stop(n,t){const s=n||this.latestPointerEvent,o=t||this.latestPanInfo,c=this.isDragging;if(this.cancel(),!c||!o||!s)return;const{velocity:u}=o;this.startAnimation(u);const{onDragEnd:f}=this.getProps();f&&at.postRender(()=>f(s,o))}cancel(){this.isDragging=!1;const{projection:n,animationState:t}=this.visualElement;n&&(n.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(n,t,s){const{drag:o}=this.getProps();if(!s||!fl(n,o,this.currentDirection))return;const c=this.getAxisMotionValue(n);let u=this.originPoint[n]+s[n];this.constraints&&this.constraints[n]&&(u=s5(u,this.constraints[n],this.elastic[n])),c.set(u)}resolveConstraints(){var c;const{dragConstraints:n,dragElastic:t}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(c=this.visualElement.projection)==null?void 0:c.layout,o=this.constraints;n&&si(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=o5(s.layoutBox,n):this.constraints=!1,this.elastic=d5(t),o!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&xn(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=u5(s.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:n,onMeasureDragConstraints:t}=this.getProps();if(!n||!si(n))return!1;const s=n.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const c=pj(s,o.root,this.visualElement.getTransformPagePoint());let u=l5(o.layout.layoutBox,c);if(t){const f=t(hj(u));this.hasMutatedConstraints=!!f,f&&(u=bx(f))}return u}startAnimation(n){const{drag:t,dragMomentum:s,dragElastic:o,dragTransition:c,dragSnapToOrigin:u,onDragTransitionEnd:f}=this.getProps(),h=this.constraints||{},m=xn(p=>{if(!fl(p,t,this.currentDirection))return;let y=h&&h[p]||{};u&&(y={min:0,max:0});const b=o?200:1e6,v=o?40:1e7,k={type:"inertia",velocity:s?n[p]:0,bounceStiffness:b,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...c,...y};return this.startAxisValueAnimation(p,k)});return Promise.all(m).then(f)}startAxisValueAnimation(n,t){const s=this.getAxisMotionValue(n);return vd(this.visualElement,n),s.start(y0(n,s,0,t,this.visualElement,!1))}stopAnimation(){xn(n=>this.getAxisMotionValue(n).stop())}pauseAnimation(){xn(n=>{var t;return(t=this.getAxisMotionValue(n).animation)==null?void 0:t.pause()})}getAnimationState(n){var t;return(t=this.getAxisMotionValue(n).animation)==null?void 0:t.state}getAxisMotionValue(n){const t=`_drag${n.toUpperCase()}`,s=this.visualElement.getProps(),o=s[t];return o||this.visualElement.getValue(n,(s.initial?s.initial[n]:void 0)||0)}snapToCursor(n){xn(t=>{const{drag:s}=this.getProps();if(!fl(t,s,this.currentDirection))return;const{projection:o}=this.visualElement,c=this.getAxisMotionValue(t);if(o&&o.layout){const{min:u,max:f}=o.layout.layoutBox[t];c.set(n[t]-lt(u,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:n,dragConstraints:t}=this.getProps(),{projection:s}=this.visualElement;if(!si(t)||!s||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};xn(u=>{const f=this.getAxisMotionValue(u);if(f&&this.constraints!==!1){const h=f.get();o[u]=c5({min:h,max:h},this.constraints[u])}});const{transformTemplate:c}=this.visualElement.getProps();this.visualElement.current.style.transform=c?c({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),xn(u=>{if(!fl(u,n,null))return;const f=this.getAxisMotionValue(u),{min:h,max:m}=this.constraints[u];f.set(lt(h,m,o[u]))})}addListeners(){if(!this.visualElement.current)return;h5.set(this.visualElement,this);const n=this.visualElement.current,t=js(n,"pointerdown",h=>{const{drag:m,dragListener:p=!0}=this.getProps();m&&p&&this.start(h)}),s=()=>{const{dragConstraints:h}=this.getProps();si(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,c=o.addEventListener("measure",s);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),at.read(s);const u=Is(window,"resize",()=>this.scalePositionWithinConstraints()),f=o.addEventListener("didUpdate",(({delta:h,hasLayoutChanged:m})=>{this.isDragging&&m&&(xn(p=>{const y=this.getAxisMotionValue(p);y&&(this.originPoint[p]+=h[p].translate,y.set(y.get()+h[p].translate))}),this.visualElement.render())}));return()=>{u(),t(),c(),f&&f()}}getProps(){const n=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:s=!1,dragPropagation:o=!1,dragConstraints:c=!1,dragElastic:u=jd,dragMomentum:f=!0}=n;return{...n,drag:t,dragDirectionLock:s,dragPropagation:o,dragConstraints:c,dragElastic:u,dragMomentum:f}}}function fl(e,n,t){return(n===!0||n===e)&&(t===null||t===e)}function m5(e,n=10){let t=null;return Math.abs(e.y)>n?t="y":Math.abs(e.x)>n&&(t="x"),t}class p5 extends Yr{constructor(n){super(n),this.removeGroupControls=vn,this.removeListeners=vn,this.controls=new f5(n)}mount(){const{dragControls:n}=this.node.getProps();n&&(this.removeGroupControls=n.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||vn}unmount(){this.removeGroupControls(),this.removeListeners()}}const Qm=e=>(n,t)=>{e&&at.postRender(()=>e(n,t))};class g5 extends Yr{constructor(){super(...arguments),this.removePointerDownListener=vn}onPointerDown(n){this.session=new Rx(n,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Ix(this.node)})}createPanHandlers(){const{onPanSessionStart:n,onPanStart:t,onPan:s,onPanEnd:o}=this.node.getProps();return{onSessionStart:Qm(n),onStart:Qm(t),onMove:s,onEnd:(c,u)=>{delete this.session,o&&at.postRender(()=>o(c,u))}}}mount(){this.removePointerDownListener=js(this.node.current,"pointerdown",n=>this.onPointerDown(n))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Nl={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Jm(e,n){return n.max===n.min?0:e/(n.max-n.min)*100}const fs={correct:(e,n)=>{if(!n.target)return e;if(typeof e=="string")if(Ce.test(e))e=parseFloat(e);else return e;const t=Jm(e,n.target.x),s=Jm(e,n.target.y);return`${t}% ${s}%`}},x5={correct:(e,{treeScale:n,projectionDelta:t})=>{const s=e,o=Ur.parse(e);if(o.length>5)return s;const c=Ur.createTransformer(e),u=typeof o[0]!="number"?1:0,f=t.x.scale*n.x,h=t.y.scale*n.y;o[0+u]/=f,o[1+u]/=h;const m=lt(f,h,.5);return typeof o[2+u]=="number"&&(o[2+u]/=m),typeof o[3+u]=="number"&&(o[3+u]/=m),c(o)}};let Hu=!1;class y5 extends j.Component{componentDidMount(){const{visualElement:n,layoutGroup:t,switchLayoutGroup:s,layoutId:o}=this.props,{projection:c}=n;Fw(b5),c&&(t.group&&t.group.add(c),s&&s.register&&o&&s.register(c),Hu&&c.root.didUpdate(),c.addEventListener("animationComplete",()=>{this.safeToRemove()}),c.setOptions({...c.options,onExitComplete:()=>this.safeToRemove()})),Nl.hasEverUpdated=!0}getSnapshotBeforeUpdate(n){const{layoutDependency:t,visualElement:s,drag:o,isPresent:c}=this.props,{projection:u}=s;return u&&(u.isPresent=c,Hu=!0,o||n.layoutDependency!==t||t===void 0||n.isPresent!==c?u.willUpdate():this.safeToRemove(),n.isPresent!==c&&(c?u.promote():u.relegate()||at.postRender(()=>{const f=u.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:n}=this.props.visualElement;n&&(n.root.didUpdate(),o0.postRender(()=>{!n.currentAnimation&&n.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:n,layoutGroup:t,switchLayoutGroup:s}=this.props,{projection:o}=n;Hu=!0,o&&(o.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(o),s&&s.deregister&&s.deregister(o))}safeToRemove(){const{safeToRemove:n}=this.props;n&&n()}render(){return null}}function Lx(e){const[n,t]=ix(),s=j.useContext($d);return i.jsx(y5,{...e,layoutGroup:s,switchLayoutGroup:j.useContext(xx),isPresent:n,safeToRemove:t})}const b5={borderRadius:{...fs,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:fs,borderTopRightRadius:fs,borderBottomLeftRadius:fs,borderBottomRightRadius:fs,boxShadow:x5};function v5(e,n,t){const s=Dt(e)?e:pi(e);return s.start(y0("",s,n,t)),s.animation}const w5=(e,n)=>e.depth-n.depth;class j5{constructor(){this.children=[],this.isDirty=!1}add(n){Bd(this.children,n),this.isDirty=!0}remove(n){qd(this.children,n),this.isDirty=!0}forEach(n){this.isDirty&&this.children.sort(w5),this.isDirty=!1,this.children.forEach(n)}}function N5(e,n){const t=Xt.now(),s=({timestamp:o})=>{const c=o-t;c>=n&&(Hr(s),e(c-n))};return at.setup(s,!0),()=>Hr(s)}const Ox=["TopLeft","TopRight","BottomLeft","BottomRight"],S5=Ox.length,ep=e=>typeof e=="string"?parseFloat(e):e,tp=e=>typeof e=="number"||Ce.test(e);function k5(e,n,t,s,o,c){o?(e.opacity=lt(0,t.opacity??1,_5(s)),e.opacityExit=lt(n.opacity??1,0,C5(s))):c&&(e.opacity=lt(n.opacity??1,t.opacity??1,s));for(let u=0;u<S5;u++){const f=`border${Ox[u]}Radius`;let h=np(n,f),m=np(t,f);if(h===void 0&&m===void 0)continue;h||(h=0),m||(m=0),h===0||m===0||tp(h)===tp(m)?(e[f]=Math.max(lt(ep(h),ep(m),s),0),(Wn.test(m)||Wn.test(h))&&(e[f]+="%")):e[f]=m}(n.rotate||t.rotate)&&(e.rotate=lt(n.rotate||0,t.rotate||0,s))}function np(e,n){return e[n]!==void 0?e[n]:e.borderRadius}const _5=$x(0,.5,kg),C5=$x(.5,.95,vn);function $x(e,n,t){return s=>s<e?0:s>n?1:t(zs(e,n,s))}function rp(e,n){e.min=n.min,e.max=n.max}function gn(e,n){rp(e.x,n.x),rp(e.y,n.y)}function ap(e,n){e.translate=n.translate,e.scale=n.scale,e.originPoint=n.originPoint,e.origin=n.origin}function ip(e,n,t,s,o){return e-=n,e=Al(e,1/t,s),o!==void 0&&(e=Al(e,1/o,s)),e}function T5(e,n=0,t=1,s=.5,o,c=e,u=e){if(Wn.test(n)&&(n=parseFloat(n),n=lt(u.min,u.max,n/100)-u.min),typeof n!="number")return;let f=lt(c.min,c.max,s);e===c&&(f-=n),e.min=ip(e.min,n,t,f,o),e.max=ip(e.max,n,t,f,o)}function sp(e,n,[t,s,o],c,u){T5(e,n[t],n[s],n[o],n.scale,c,u)}const z5=["x","scaleX","originX"],P5=["y","scaleY","originY"];function op(e,n,t,s){sp(e.x,n,z5,t?t.x:void 0,s?s.x:void 0),sp(e.y,n,P5,t?t.y:void 0,s?s.y:void 0)}function lp(e){return e.translate===0&&e.scale===1}function Fx(e){return lp(e.x)&&lp(e.y)}function cp(e,n){return e.min===n.min&&e.max===n.max}function E5(e,n){return cp(e.x,n.x)&&cp(e.y,n.y)}function up(e,n){return Math.round(e.min)===Math.round(n.min)&&Math.round(e.max)===Math.round(n.max)}function Vx(e,n){return up(e.x,n.x)&&up(e.y,n.y)}function dp(e){return Vt(e.x)/Vt(e.y)}function hp(e,n){return e.translate===n.translate&&e.scale===n.scale&&e.originPoint===n.originPoint}class M5{constructor(){this.members=[]}add(n){Bd(this.members,n),n.scheduleRender()}remove(n){if(qd(this.members,n),n===this.prevLead&&(this.prevLead=void 0),n===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(n){const t=this.members.findIndex(o=>n===o);if(t===0)return!1;let s;for(let o=t;o>=0;o--){const c=this.members[o];if(c.isPresent!==!1){s=c;break}}return s?(this.promote(s),!0):!1}promote(n,t){const s=this.lead;if(n!==s&&(this.prevLead=s,this.lead=n,n.show(),s)){s.instance&&s.scheduleRender(),n.scheduleRender(),n.resumeFrom=s,t&&(n.resumeFrom.preserveOpacity=!0),s.snapshot&&(n.snapshot=s.snapshot,n.snapshot.latestValues=s.animationValues||s.latestValues),n.root&&n.root.isUpdating&&(n.isLayoutDirty=!0);const{crossfade:o}=n.options;o===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(n=>{const{options:t,resumingFrom:s}=n;t.onExitComplete&&t.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(n=>{n.instance&&n.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function A5(e,n,t){let s="";const o=e.x.translate/n.x,c=e.y.translate/n.y,u=(t==null?void 0:t.z)||0;if((o||c||u)&&(s=`translate3d(${o}px, ${c}px, ${u}px) `),(n.x!==1||n.y!==1)&&(s+=`scale(${1/n.x}, ${1/n.y}) `),t){const{transformPerspective:m,rotate:p,rotateX:y,rotateY:b,skewX:v,skewY:k}=t;m&&(s=`perspective(${m}px) ${s}`),p&&(s+=`rotate(${p}deg) `),y&&(s+=`rotateX(${y}deg) `),b&&(s+=`rotateY(${b}deg) `),v&&(s+=`skewX(${v}deg) `),k&&(s+=`skewY(${k}deg) `)}const f=e.x.scale*n.x,h=e.y.scale*n.y;return(f!==1||h!==1)&&(s+=`scale(${f}, ${h})`),s||"none"}const Uu=["","X","Y","Z"],I5=1e3;let R5=0;function Yu(e,n,t,s){const{latestValues:o}=n;o[e]&&(t[e]=o[e],n.setStaticValue(e,0),s&&(s[e]=0))}function Bx(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:n}=e.options;if(!n)return;const t=Cx(n);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:o,layoutId:c}=e.options;window.MotionCancelOptimisedAnimation(t,"transform",at,!(o||c))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&Bx(s)}function qx({attachResizeListener:e,defaultParent:n,measureScroll:t,checkIsScrollRoot:s,resetTransform:o}){return class{constructor(u={},f=n==null?void 0:n()){this.id=R5++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(O5),this.nodes.forEach(B5),this.nodes.forEach(q5),this.nodes.forEach($5)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new j5)}addEventListener(u,f){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new Ud),this.eventHandlers.get(u).add(f)}notifyListeners(u,...f){const h=this.eventHandlers.get(u);h&&h.notify(...f)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=ax(u)&&!kw(u),this.instance=u;const{layoutId:f,layout:h,visualElement:m}=this.options;if(m&&!m.current&&m.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(h||f)&&(this.isLayoutDirty=!0),e){let p,y=0;const b=()=>this.root.updateBlockedByResize=!1;at.read(()=>{y=window.innerWidth}),e(u,()=>{const v=window.innerWidth;v!==y&&(y=v,this.root.updateBlockedByResize=!0,p&&p(),p=N5(b,250),Nl.hasAnimatedSinceResize&&(Nl.hasAnimatedSinceResize=!1,this.nodes.forEach(pp)))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&m&&(f||h)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:y,hasRelativeLayoutChanged:b,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const k=this.options.transition||m.getDefaultTransition()||K5,{onLayoutAnimationStart:S,onLayoutAnimationComplete:N}=m.getProps(),C=!this.targetLayout||!Vx(this.targetLayout,v),M=!y&&b;if(this.options.layoutRoot||this.resumeFrom||M||y&&(C||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const _={...i0(k,"layout"),onPlay:S,onComplete:N};(m.shouldReduceMotion||this.options.layoutRoot)&&(_.delay=0,_.type=!1),this.startAnimation(_),this.setAnimationOrigin(p,M)}else y||pp(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Hr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(W5),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Bx(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const y=this.path[p];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:f,layout:h}=this.options;if(f===void 0&&!h)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(fp);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(mp);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(V5),this.nodes.forEach(D5),this.nodes.forEach(L5)):this.nodes.forEach(mp),this.clearAllSnapshots();const f=Xt.now();Tt.delta=cr(0,1e3/60,f-Tt.timestamp),Tt.timestamp=f,Tt.isProcessing=!0,Ru.update.process(Tt),Ru.preRender.process(Tt),Ru.render.process(Tt),Tt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,o0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(F5),this.sharedNodes.forEach(H5)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,at.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){at.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Vt(this.snapshot.measuredBox.x)&&!Vt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=gt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(f=!1),f&&this.instance){const h=s(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:h,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!o)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!Fx(this.projectionDelta),h=this.getTransformTemplate(),m=h?h(this.latestValues,""):void 0,p=m!==this.prevTransformTemplateValue;u&&this.instance&&(f||va(this.latestValues)||p)&&(o(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const f=this.measurePageBox();let h=this.removeElementScroll(f);return u&&(h=this.removeTransform(h)),G5(h),{animationId:this.root.animationId,measuredBox:f,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var m;const{visualElement:u}=this.options;if(!u)return gt();const f=u.measureViewportBox();if(!(((m=this.scroll)==null?void 0:m.wasRoot)||this.path.some(X5))){const{scroll:p}=this.root;p&&(oi(f.x,p.offset.x),oi(f.y,p.offset.y))}return f}removeElementScroll(u){var h;const f=gt();if(gn(f,u),(h=this.scroll)!=null&&h.wasRoot)return f;for(let m=0;m<this.path.length;m++){const p=this.path[m],{scroll:y,options:b}=p;p!==this.root&&y&&b.layoutScroll&&(y.wasRoot&&gn(f,u),oi(f.x,y.offset.x),oi(f.y,y.offset.y))}return f}applyTransform(u,f=!1){const h=gt();gn(h,u);for(let m=0;m<this.path.length;m++){const p=this.path[m];!f&&p.options.layoutScroll&&p.scroll&&p!==p.root&&li(h,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),va(p.latestValues)&&li(h,p.latestValues)}return va(this.latestValues)&&li(h,this.latestValues),h}removeTransform(u){const f=gt();gn(f,u);for(let h=0;h<this.path.length;h++){const m=this.path[h];if(!m.instance||!va(m.latestValues))continue;gd(m.latestValues)&&m.updateSnapshot();const p=gt(),y=m.measurePageBox();gn(p,y),op(f,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,p)}return va(this.latestValues)&&op(f,this.latestValues),f}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Tt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var b;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==f;if(!(u||h&&this.isSharedProjectionDirty||this.isProjectionDirty||(b=this.parent)!=null&&b.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:y}=this.options;if(!(!this.layout||!(p||y))){if(this.resolvedRelativeTargetAt=Tt.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=gt(),this.relativeTargetOrigin=gt(),Ss(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),gn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=gt(),this.targetWithTransforms=gt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),n5(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):gn(this.target,this.layout.layoutBox),wx(this.target,this.targetDelta)):gn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=gt(),this.relativeTargetOrigin=gt(),Ss(this.relativeTargetOrigin,this.target,v.target),gn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||gd(this.parent.latestValues)||vx(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var k;const u=this.getLead(),f=!!this.resumingFrom||this!==u;let h=!0;if((this.isProjectionDirty||(k=this.parent)!=null&&k.isProjectionDirty)&&(h=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===Tt.timestamp&&(h=!1),h)return;const{layout:m,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||p))return;gn(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,b=this.treeScale.y;mj(this.layoutCorrected,this.treeScale,this.path,f),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=gt());const{target:v}=u;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(ap(this.prevProjectionDelta.x,this.projectionDelta.x),ap(this.prevProjectionDelta.y,this.projectionDelta.y)),Ns(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==b||!hp(this.projectionDelta.x,this.prevProjectionDelta.x)||!hp(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var f;if((f=this.options.visualElement)==null||f.scheduleRender(),u){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ci(),this.projectionDelta=ci(),this.projectionDeltaWithTransform=ci()}setAnimationOrigin(u,f=!1){const h=this.snapshot,m=h?h.latestValues:{},p={...this.latestValues},y=ci();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const b=gt(),v=h?h.source:void 0,k=this.layout?this.layout.source:void 0,S=v!==k,N=this.getStack(),C=!N||N.members.length<=1,M=!!(S&&!C&&this.options.crossfade===!0&&!this.path.some(Y5));this.animationProgress=0;let _;this.mixTargetDelta=T=>{const R=T/1e3;gp(y.x,u.x,R),gp(y.y,u.y,R),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ss(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),U5(this.relativeTarget,this.relativeTargetOrigin,b,R),_&&E5(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=gt()),gn(_,this.relativeTarget)),S&&(this.animationValues=p,k5(p,m,this.latestValues,R,M,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=R},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){var f,h,m;this.notifyListeners("animationStart"),(f=this.currentAnimation)==null||f.stop(),(m=(h=this.resumingFrom)==null?void 0:h.currentAnimation)==null||m.stop(),this.pendingAnimation&&(Hr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=at.update(()=>{Nl.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=pi(0)),this.currentAnimation=v5(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:p=>{this.mixTargetDelta(p),u.onUpdate&&u.onUpdate(p)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(I5),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:f,target:h,layout:m,latestValues:p}=u;if(!(!f||!h||!m)){if(this!==u&&this.layout&&m&&Wx(this.options.animationType,this.layout.layoutBox,m.layoutBox)){h=this.target||gt();const y=Vt(this.layout.layoutBox.x);h.x.min=u.target.x.min,h.x.max=h.x.min+y;const b=Vt(this.layout.layoutBox.y);h.y.min=u.target.y.min,h.y.max=h.y.min+b}gn(f,h),li(f,p),Ns(this.projectionDeltaWithTransform,this.layoutCorrected,f,p)}}registerSharedNode(u,f){this.sharedNodes.has(u)||this.sharedNodes.set(u,new M5),this.sharedNodes.get(u).add(f);const m=f.options.initialPromotionConfig;f.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(f):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var f;const{layoutId:u}=this.options;return u?((f=this.getStack())==null?void 0:f.lead)||this:this}getPrevLead(){var f;const{layoutId:u}=this.options;return u?(f=this.getStack())==null?void 0:f.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:f,preserveFollowOpacity:h}={}){const m=this.getStack();m&&m.promote(this,h),u&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let f=!1;const{latestValues:h}=u;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(f=!0),!f)return;const m={};h.z&&Yu("z",u,m,this.animationValues);for(let p=0;p<Uu.length;p++)Yu(`rotate${Uu[p]}`,u,m,this.animationValues),Yu(`skew${Uu[p]}`,u,m,this.animationValues);u.render();for(const p in m)u.setStaticValue(p,m[p]),this.animationValues&&(this.animationValues[p]=m[p]);u.scheduleRender()}applyProjectionStyles(u,f){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const h=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=jl(f==null?void 0:f.pointerEvents)||"",u.transform=h?h(this.latestValues,""):"none";return}const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=jl(f==null?void 0:f.pointerEvents)||""),this.hasProjected&&!va(this.latestValues)&&(u.transform=h?h({},""):"none",this.hasProjected=!1);return}u.visibility="";const p=m.animationValues||m.latestValues;this.applyTransformsToTarget();let y=A5(this.projectionDeltaWithTransform,this.treeScale,p);h&&(y=h(p,y)),u.transform=y;const{x:b,y:v}=this.projectionDelta;u.transformOrigin=`${b.origin*100}% ${v.origin*100}% 0`,m.animationValues?u.opacity=m===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:u.opacity=m===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const k in As){if(p[k]===void 0)continue;const{correct:S,applyTo:N,isCSSVariable:C}=As[k],M=y==="none"?p[k]:S(p[k],m);if(N){const _=N.length;for(let T=0;T<_;T++)u[N[T]]=M}else C?this.options.visualElement.renderState.vars[k]=M:u[k]=M}this.options.layoutId&&(u.pointerEvents=m===this?jl(f==null?void 0:f.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var f;return(f=u.currentAnimation)==null?void 0:f.stop()}),this.root.nodes.forEach(fp),this.root.sharedNodes.clear()}}}function D5(e){e.updateLayout()}function L5(e){var t;const n=((t=e.resumeFrom)==null?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:o}=e.layout,{animationType:c}=e.options,u=n.source!==e.layout.source;c==="size"?xn(y=>{const b=u?n.measuredBox[y]:n.layoutBox[y],v=Vt(b);b.min=s[y].min,b.max=b.min+v}):Wx(c,n.layoutBox,s)&&xn(y=>{const b=u?n.measuredBox[y]:n.layoutBox[y],v=Vt(s[y]);b.max=b.min+v,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[y].max=e.relativeTarget[y].min+v)});const f=ci();Ns(f,s,n.layoutBox);const h=ci();u?Ns(h,e.applyTransform(o,!0),n.measuredBox):Ns(h,s,n.layoutBox);const m=!Fx(f);let p=!1;if(!e.resumeFrom){const y=e.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:b,layout:v}=y;if(b&&v){const k=gt();Ss(k,n.layoutBox,b.layoutBox);const S=gt();Ss(S,s,v.layoutBox),Vx(k,S)||(p=!0),y.options.layoutRoot&&(e.relativeTarget=S,e.relativeTargetOrigin=k,e.relativeParent=y)}}}e.notifyListeners("didUpdate",{layout:s,snapshot:n,delta:h,layoutDelta:f,hasLayoutChanged:m,hasRelativeLayoutChanged:p})}else if(e.isLead()){const{onExitComplete:s}=e.options;s&&s()}e.options.transition=void 0}function O5(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function $5(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function F5(e){e.clearSnapshot()}function fp(e){e.clearMeasurements()}function mp(e){e.isLayoutDirty=!1}function V5(e){const{visualElement:n}=e.options;n&&n.getProps().onBeforeLayoutMeasure&&n.notify("BeforeLayoutMeasure"),e.resetTransform()}function pp(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function B5(e){e.resolveTargetDelta()}function q5(e){e.calcProjection()}function W5(e){e.resetSkewAndRotation()}function H5(e){e.removeLeadSnapshot()}function gp(e,n,t){e.translate=lt(n.translate,0,t),e.scale=lt(n.scale,1,t),e.origin=n.origin,e.originPoint=n.originPoint}function xp(e,n,t,s){e.min=lt(n.min,t.min,s),e.max=lt(n.max,t.max,s)}function U5(e,n,t,s){xp(e.x,n.x,t.x,s),xp(e.y,n.y,t.y,s)}function Y5(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const K5={duration:.45,ease:[.4,0,.1,1]},yp=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),bp=yp("applewebkit/")&&!yp("chrome/")?Math.round:vn;function vp(e){e.min=bp(e.min),e.max=bp(e.max)}function G5(e){vp(e.x),vp(e.y)}function Wx(e,n,t){return e==="position"||e==="preserve-aspect"&&!t5(dp(n),dp(t),.2)}function X5(e){var n;return e!==e.root&&((n=e.scroll)==null?void 0:n.wasRoot)}const Z5=qx({attachResizeListener:(e,n)=>Is(e,"resize",n),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ku={current:void 0},Hx=qx({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Ku.current){const e=new Z5({});e.mount(window),e.setOptions({layoutScroll:!0}),Ku.current=e}return Ku.current},resetTransform:(e,n)=>{e.style.transform=n!==void 0?n:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Q5={pan:{Feature:g5},drag:{Feature:p5,ProjectionNode:Hx,MeasureLayout:Lx}};function wp(e,n,t){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",t==="Start");const o="onHover"+t,c=s[o];c&&at.postRender(()=>c(n,Us(n)))}class J5 extends Yr{mount(){const{current:n}=this.node;n&&(this.unmount=vw(n,(t,s)=>(wp(this.node,s,"Start"),o=>wp(this.node,o,"End"))))}unmount(){}}class e3 extends Yr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let n=!1;try{n=this.node.current.matches(":focus-visible")}catch{n=!0}!n||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=qs(Is(this.node.current,"focus",()=>this.onFocus()),Is(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function jp(e,n,t){const{props:s}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",t==="Start");const o="onTap"+(t==="End"?"":t),c=s[o];c&&at.postRender(()=>c(n,Us(n)))}class t3 extends Yr{mount(){const{current:n}=this.node;n&&(this.unmount=Sw(n,(t,s)=>(jp(this.node,s,"Start"),(o,{success:c})=>jp(this.node,o,c?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Nd=new WeakMap,Gu=new WeakMap,n3=e=>{const n=Nd.get(e.target);n&&n(e)},r3=e=>{e.forEach(n3)};function a3({root:e,...n}){const t=e||document;Gu.has(t)||Gu.set(t,{});const s=Gu.get(t),o=JSON.stringify(n);return s[o]||(s[o]=new IntersectionObserver(r3,{root:e,...n})),s[o]}function i3(e,n,t){const s=a3(n);return Nd.set(e,t),s.observe(e),()=>{Nd.delete(e),s.unobserve(e)}}const s3={some:0,all:1};class o3 extends Yr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:n={}}=this.node.getProps(),{root:t,margin:s,amount:o="some",once:c}=n,u={root:t?t.current:void 0,rootMargin:s,threshold:typeof o=="number"?o:s3[o]},f=h=>{const{isIntersecting:m}=h;if(this.isInView===m||(this.isInView=m,c&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:p,onViewportLeave:y}=this.node.getProps(),b=m?p:y;b&&b(h)};return i3(this.node.current,u,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:n,prevProps:t}=this.node;["amount","margin","root"].some(l3(n,t))&&this.startObserver()}unmount(){}}function l3({viewport:e={}},{viewport:n={}}={}){return t=>e[t]!==n[t]}const c3={inView:{Feature:o3},tap:{Feature:t3},focus:{Feature:e3},hover:{Feature:J5}},u3={layout:{ProjectionNode:Hx,MeasureLayout:Lx}},d3={...Gj,...c3,...Q5,...u3},E=dj(d3,Sj),ot=[{id:"7",date:"2025-10-28",title:"游戏内容全面更新与角色立绘优化",description:"新增角色与优化现有角色，提升游戏体验与视觉效果",changes:[{type:"feature",title:"新增古神级僵尸角色：刑天真阳",description:"先天杀伐神魔，混沌青莲碎片与幽冥血海怨气凝结而成，拥有万劫冻结、斩因果等强大技能，带来全新的游戏体验。"},{type:"feature",title:"新增古神级僵尸角色：玄夜",description:"混沌熵魔，先天神魔，非神非魔，独立于巫妖人阐之外的混沌原生体，拥有混沌熵潮、无序狼·无序、时空褶跃等强大技能。"},{type:"visual",title:"角色立绘全面更新",description:"更新了清鸢、善•猫教主等多个角色的立绘，使其更加精美和符合角色设定。"},{type:"feature",title:"新增植物角色：灵璇",description:"先天星灵族•摇光星君，执掌北斗第七星，拥有星轨注道、璇玑定星盘等强大星象技能。"},{type:"balance",title:"游戏平衡性调整",description:"优化了部分角色的属性和技能效果，提升游戏的平衡性和可玩性。"},{type:"visual",title:"UI界面优化",description:"优化了图鉴页面的UI界面，提升用户体验和视觉效果。"}]},{id:"6",date:"2025-10-27",title:"洪荒古神系列角色登场",description:"新增两位强大的洪荒古神级植物角色，带来全新的游戏体验",changes:[{type:"feature",title:"新增植物角色：离火双生•长离",description:"先天火灵修成的人族形态，洪荒焚天剑冢守护者，执掌天地间第一缕离火，拥有双生形态——表体为持剑卫道的守护者，里体为蒙眼的离火本源之灵。"},{type:"feature",title:"新增植物角色：镜花水月·灵汐",description:"先天灵植·绿萼仙莲化形，洪荒三千镜像世界的守护者，拥有掌控镜像之力的神秘能力，能洞察万物本质。"},{type:"balance",title:"洪荒世界观扩展",description:"完善了洪荒世界观设定，为游戏增添更多深度和背景故事"},{type:"visual",title:"角色立绘更新",description:"更新了离火双生•长离和镜花水月·灵汐的角色立绘，使其更加符合角色设定"}]},{id:"5",date:"2025-10-21",title:"核心角色全面加强",description:"清鸢和宿槐作为游戏核心角色获得全面强化，能力大幅提升",changes:[{type:"feature",title:"新增植物角色：徐清岚（梦）",description:"命运之子徐清岚的未知形态，独立于传统属性之外，拥有能看清历史发展的神秘能力。她代表着善良和美好，是徐清岚内心的完美形态，不存在于现实，是来自未来的指引。"},{type:"balance",title:"清鸢能力全面强化",description:"生命值提升至300000，攻击力提升至2800，攻击速度提升至350；阳光生成速度加快至每0.3秒120阳光；神圣光波冷却时间缩短至6秒并新增治疗效果；神圣领域持续时间延长至12秒，攻击力提升效果增加至150%，并新增防御力提升和暴击效果；新增光明壁垒和太阳祝福被动技能；神圣净化技能伤害提升至5000，冷却时间缩短至35秒；神圣守护恢复效果提升至每秒2%最大生命值"},{type:"balance",title:"宿槐能力全面强化",description:"生命值提升至120000，攻击力提升至7000，护甲提升至12000，移动速度提升至0.5；暗影护盾反弹伤害提升至150%，冷却时间缩短至12秒；诅咒光环范围扩大至8格，伤害提升至500点并新增防御力降低效果；生命吸取效果提升至12%；与Vexithra的灵魂联结效果增强，新增生命恢复能力；新增黑暗屏障和枯萎之力技能；新增终极技能时间停滞，可在生命值低于20%时使所有植物停止行动8秒"},{type:"feature",title:"核心角色特性优化",description:"清鸢和宿槐新增专属特性，使他们在战斗中更加独特和强大"},{type:"balance",title:"角色平衡性调整",description:"略微提高了清鸢的成本以匹配增强的能力，同时调整了相关游戏机制以确保游戏平衡性"}]},{id:"4",date:"2025-10-20",title:"全面增强更新",description:"所有植物与僵尸获得全面增强，能力提升，新增特殊效果",changes:[{type:"balance",title:"清鸢能力全面增强",description:"生命值提升至200000，攻击力提升至2000，神圣领域持续时间延长至10秒，攻击力提升效果增加至100%，新增自动恢复能力"},{type:"balance",title:"善•猫教主能力提升",description:'移动速度提升至每2秒一格，新增无敌冲刺状态，"圣猫形态"持续时间延长至8秒，攻击力提升效果增加至50%'},{type:"balance",title:"宿槐能力强化",description:"生命值提升至80000，攻击力提升至5000，暗影护盾吸收伤害量提升至10000，新增召唤高级随从能力"},{type:"balance",title:"季灾与离火能力进化",description:"季灾的暗影领域效果增强，离火的火焰领域持续时间延长，两者新增特殊协同效果"},{type:"feature",title:"植物与僵尸新增被动技能",description:"所有角色新增独特的被动技能，提升战斗策略多样性"},{type:"visual",title:"技能特效全面升级",description:"所有特殊技能的视觉效果获得全面提升，更加华丽震撼"},{type:"balance",title:"游戏平衡性调整",description:"调整了植物种植成本与僵尸奖励，优化了游戏节奏和资源管理体验"}]},{id:"3",date:"2025-10-19",title:"游戏系统优化",description:"优化了游戏性能，改善了用户体验",changes:[{type:"balance",title:"指南手册界面优化",description:'改进了指南手册的布局和交互体验，优化了"查看最近更新"功能'},{type:"bugfix",title:"修复已知问题",description:"修复了游戏中已知的bug和性能问题，提升游戏稳定性"},{type:"visual",title:"界面美化",description:"更新了游戏界面的视觉效果，提升整体美感"}]},{id:"2",date:"2025-10-18",title:"暗影大陆新使者登场",description:"新的强大僵尸加入战场，带来全新的战斗体验",changes:[{type:"feature",title:"新增僵尸角色：季灾",description:"暗影大陆的顶级阴阳师，代表极致的暗。拥有极强的削弱植物能力，能通过暗影领域和诅咒大幅降低植物的战斗能力"},{type:"feature",title:"新增僵尸角色：离火",description:"暗影大陆的顶级阴阳师，代表极致的火。拥有极强的增益僵尸能力，能通过火焰领域和强化效果大幅提升僵尸的战斗能力"},{type:"balance",title:"僵尸召唤机制优化",description:"调整了宿槐召唤僵尸的概率，季灾和离火的召唤概率略低于猫教主"},{type:"visual",title:"僵尸角色立绘更新",description:"更新了季灾和离火的角色立绘，使其更符合暗影大陆阴阳师的形象"}]},{id:"1",date:"2025-10-17",title:"植物与僵尸属性优化",description:"调整了植物攻击系统和僵尸属性，提高游戏平衡性",changes:[{type:"balance",title:"植物攻击范围明确",description:"明确了各类植物的攻击覆盖区域（直线、范围、近战等）"},{type:"balance",title:"攻击间隔调整",description:"重新设置了植物的攻击频率，优化游戏节奏"},{type:"balance",title:"目标选择策略优化",description:"改进了植物选择攻击目标的逻辑（最靠近的僵尸、第一个进入范围的僵尸等）"},{type:"feature",title:"子弹轨迹系统",description:"新增了子弹飞行路径和击中检测的精确计算"},{type:"feature",title:"伤害计算系统",description:"根据植物和僵尸的属性计算最终伤害的新系统"}]}];var Up,Yp,Kp;parseInt(((Up=ot[0])==null?void 0:Up.id)||"1"),`${parseInt(((Yp=ot[0])==null?void 0:Yp.id)||"1")}`,(Kp=ot[0])!=null&&Kp.date||new Date().toISOString().split("T")[0];const Ue=(e,n)=>({cost:500,cooldown:2e3,attackRangeType:"all",targetSelection:"strongest",category:"光明守护者",rarity:"传说",...n}),Ge={qingyuan:Ue("qingyuan",{name:"清鸢",cost:600,cooldown:1800,health:3e5,damage:2800,attackRange:99,attackSpeed:350,specialEffect:"每0.3秒产生120阳光；场上出现僵尸时，自动攻击，攻击数量为场上僵尸数+8；免疫减速、控制效果和所有负面状态；对来自暗影世界的僵尸造成额外200%伤害；每消灭2个僵尸获得一个神圣护盾，可抵挡一次致命伤害；每6秒释放一次神圣光波，清除全屏负面效果并为所有植物恢复5%最大生命值；每20秒召唤一次神圣领域，持续12秒，期间所有植物攻击力提升150%，防御力提升50%；对所有类型僵尸造成额外伤害（巨人+100%、飞行+120%、潜水+150%、特殊+300%）；周围8格内的植物获得50%伤害减免和30%攻击速度提升；死亡时触发神圣爆发，对全屏僵尸造成12000点伤害并眩晕10秒；拥有自动瞄准系统，优先攻击血量最高和威胁最大的僵尸；受到攻击时有80%概率反弹120%伤害；主动技能：神圣净化，可手动触发，立即清除全屏负面效果并对所有僵尸造成5000点伤害，冷却时间35秒；被动技能：神圣守护，每秒恢复自身2%最大生命值；新增被动技能：光明壁垒，每隔10秒获得一层光明壁垒，吸收5000点伤害；新增被动技能：太阳祝福，每次攻击有30%几率为随机一个植物恢复10%最大生命值；新增特性：在神圣领域持续期间，所有植物获得30%暴击率，暴击伤害提升50%。",description:`清鸢，光明大陆的永恒守护者，诞生于世界本源之力的光明面。在天地初开的混沌时代，她与宿槐同源一体，本是同一存在的两面。清鸢代表着光明与生命的力量，是希望与变革的化身，坚信生命因变化而美丽，时间的流逝让每一刻都变得珍贵而有意义。

在独立于光暗大陆之外的虚空之中，清鸢与宿槐曾有过一场决定性的对话。宿槐认为"生命，只有在停滞不前的时间中，才能实现永恒的幸福"，而清鸢则坚定地反驳："正因为时间流逝，生命才有喜怒哀乐，才能诞生出珍贵的事物和回忆！将这一切都停止，根本不是和平，那只是单纯的'停滞'！"

经过全面强化的清鸢，实力得到了前所未有的提升。她的每一次出现都伴随着更加强大的光芒和生命气息，能够更快地创造生命之源阳光，更频繁地释放神圣领域大幅提升所有植物的战斗能力，甚至可以反弹更多敌人的攻击并净化一切负面效果。她还获得了全新的光明壁垒和太阳祝福技能，能够更好地保护自己和队友，在战斗中发挥更加关键的作用。

在这场光明与暗影的终极对决中，清鸢是所有植物战士最坚定的精神支柱，她用自己的光芒照亮了对抗黑暗的道路，让所有生命看到了希望的曙光。她始终坚信，即使是与自己理念相悖的宿槐，内心深处依然保留着对生命的热爱，这也是她始终不愿放弃拯救妹妹的原因。`,category:"光明守护者",bestAgainst:["大规模僵尸群","来自暗影世界的生物","宿槐与其随从","需要持续阳光供应的情况","任何需要强大火力的战局","高强度自定义关卡"],worstAgainst:["无明显弱点"],quote:"正因为时间流逝，生命才有喜怒哀乐，才能诞生出珍贵的事物和回忆！"}),shancatleader:Ue("shancatleader",{name:"善•猫教主",cost:350,cooldown:2500,health:15e3,damage:2e3,attackRange:2,attackRangeType:"melee",attackSpeed:600,targetSelection:"closest",specialEffect:'可以移动的植物，每1秒向右移动一格，遇到僵尸时停止移动并进行战斗；对猫教主僵尸造成额外800%伤害；击杀僵尸后获得额外150阳光奖励；移动时免疫攻击和负面效果；受到致命伤害时会回到初始位置并恢复100%生命值，并且在接下来的5秒内获得无敌状态；每消灭1个僵尸后进入"圣猫形态"，持续12秒，移动速度提升150%，攻击力提升100%，且在形态期间免疫所有负面效果；普通攻击有60%几率触发"光明冲击"，对目标造成额外伤害并眩晕4秒；每8秒可以使用一次"光明冲刺"，立即向前移动8格并对路径上的所有僵尸造成伤害，且在冲刺过程中无敌；在场时，周围6格内的植物获得30%攻击速度加成和25%伤害提升；新增高级被动技能：光明之怒，每次攻击有40%几率召唤光明能量波，对前方3格内的所有僵尸造成伤害；新增终极技能：猫神降临，每消灭8个僵尸后，可以释放一次全屏AOE伤害并恢复自身70%生命值；新增被动技能：光明守护，每2秒恢复自身3%最大生命值；新增被动技能：灵魂净化，每次攻击有20%几率净化目标，使其受到的伤害增加20%，持续5秒；新增特性：在圣猫形态下，攻击范围扩大至3格。',description:`善•猫教主的故事充满了救赎与重生的传奇色彩。在暗影女王宿槐尚未堕落之前，她曾在精灵森林中救下了一只濒临死亡的小猫，这只猫后来成为了她最忠实的伴侣"猫教主"。然而，随着宿槐的堕落，小猫也被黑暗力量侵蚀，变成了半猫半僵尸的诡异形态，成为了宿槐最得力的随从。

在一次与清鸢的激烈战斗中，猫教主被光明之力击中，黑暗能量在体内剧烈震荡，唤醒了它内心深处残留的善良记忆。清鸢察觉到了这一丝光明的存在，她没有选择消灭猫教主，而是用自己的光明之力净化了它被黑暗侵蚀的灵魂，赋予它全新的生命形态。

重生后的善•猫教主获得了更加强大的光明之力！它拥有了雪白的毛发和金色的眼睛，身后漂浮着耀眼的光雾。它的速度变得更加迅捷，力量变得更加强大，能够在战场上以闪电般的速度穿梭，用锋利的光明爪子和强大的光明能量打击敌人，同时为周围的植物伙伴提供强大的增益效果。

善•猫教主不仅保留了作为僵尸时的敏捷与战斗本能，还获得了全新的光明技能。它能够更快地进入"圣猫形态"，在这个形态下，它的能力得到全面提升，攻击范围也会扩大。它还获得了自我治疗和净化目标的能力，使其在战斗中更加持久和致命。

善•猫教主的存在是光明与救赎的象征，它用实际行动证明着即使曾经迷失在黑暗中的灵魂，也能重获光明并变得更加强大。它对清鸢有着绝对的忠诚，愿意为保护光明大陆付出一切代价。在战斗中，它与曾经的自己——"猫教主"僵尸有着特殊的感应，会优先攻击对方，对其造成毁灭性的伤害。`,category:"光明使者",bestAgainst:["猫教主僵尸","快速僵尸","单个高生命值僵尸","需要快速移动应对的战局","所有类型的僵尸"],worstAgainst:["大规模僵尸群"],quote:"喵呜~就算曾经迷失在黑暗，也要相信光明终会到来！"}),xuqinglan:Ue("xuqinglan",{name:"徐清岚（魔法少女）",cost:400,cooldown:3e3,health:8e3,damage:1500,attackRange:6,attackRangeType:"straight",attackSpeed:800,targetSelection:"first",specialEffect:'成长型植物，拥有三级进化阶段：一级时通过笔墨写符咒攻击前方；二级时形成魔法阵，多只笔作宝剑和符咒一起攻击，攻击速度提升至原来的2倍，攻击范围扩大至周围1格，变为范围型攻击；三级时进化为法杖形态，继续多只笔一起成宝剑魔法阵攻击，进入终极阶段，大范围攻击（前方3x3区域），同时伴有增幅己方植物攻击力25%、削弱僵尸防御力20%的作用；对火属性僵尸造成额外150%伤害；每次攻击有30%几率触发"魔法连击"，额外发射一道符咒攻击；随着游戏时间推移，自动提升至更高等级，每20秒自动升级一级；达到三级后，每消灭5个僵尸可获得一次额外的魔法能量爆发，短暂提升所有能力（攻击速度+50%、伤害+30%，持续8秒）；免疫所有减速和控制效果；普通攻击有20%几率造成"魔法标记"，使目标受到的后续魔法伤害增加10%，持续5秒；三级形态时，每15秒释放一次"光明守护"，为周围3格内所有植物恢复10%最大生命值；与善•猫教主同时在场时，两人获得20%伤害减免和15%攻击速度提升，形成"光明搭档"效果。',description:`徐清岚是来自人类世界的天才魔法少女，年仅14岁便已经掌握了人类世界最顶尖的魔法技艺。她出生在一个古老的魔法世家，从记事起就能看到常人无法看见的能量流动，展现出了惊人的魔法天赋。

在一次偶然的冥想中，清岚的意识与光明大陆的本源能量产生了共鸣。她看到了一个神秘的世界正面临着黑暗势力的威胁，而自己似乎就是那个世界所等待的"命运之子"。不顾家人的劝阻，清岚通过古老的传送魔法阵，毅然前往了这个陌生而危险的异世界。

在光明大陆的"星辰秘境"中，清岚发现了与自己魔法属性完美契合的"星尘之笔"，这是一支拥有自我意识的魔法武器，可以随着持有者的魔力增强而进化。随着对星尘之笔的掌控逐渐熟练，清岚能够释放出三种不同形态的魔法攻击：最基础的符咒攻击、华丽的魔法阵攻击，以及最终的法杖形态的强大魔法。

清岚有着金色的卷发和如蓝宝石般清澈的眼睛，总是喜欢在头发上别着三叶草发饰，认为那能给自己带来好运。她性格开朗活泼，面对困难总是保持乐观的态度，经常用标志性的"V"字手势来鼓舞队友。虽然在战斗中展现出了强大的实力，但本质上她仍然是一个普通的少女，喜欢可爱的东西，讨厌虫子，害怕打雷。

在与宿槐的战斗中，清岚逐渐理解了自己来到光明大陆的真正使命——不仅仅是为了拯救这个世界，更是为了找到属于自己的成长之路。她与善•猫教主之间产生了特殊的羁绊，两人的组合能够发挥出远超个体的力量，成为了植物阵营中最耀眼的"光明搭档"。`,category:"魔法使者",bestAgainst:["普通僵尸","速度型僵尸","中等血量僵尸","需要范围攻击的场合","火属性僵尸","密集僵尸群"],worstAgainst:["高护甲僵尸","高血量僵尸","需要快速击杀的场合"],quote:"魔法的真谛不是破坏，而是守护我珍视的一切！"}),xuqinglan_student:Ue("xuqinglan_student",{name:"徐清岚（修习者）",cost:450,cooldown:3500,health:6e3,damage:1800,attackRange:7,attackRangeType:"straight",attackSpeed:700,targetSelection:"strongest",specialEffect:'徐清岚的成长形态，通过深入学习光明大陆的本源魔法，将元素魔法发挥到极致；每次攻击有40%几率触发"元素爆发"，额外发射一道强大的元素魔法，对目标造成150%伤害；对黑暗魔法增强的僵尸造成额外200%伤害；受到攻击时有20%几率触发"魔法护盾"，免疫下一次伤害并反弹50%伤害；每消灭3个僵尸获得一次魔法能量积累，达到3层时释放一次全屏魔法能量爆发，对所有僵尸造成当前伤害值的50%伤害并减速30%，持续4秒；与善•猫教主同时在场时，两人获得25%伤害减免和20%攻击速度提升，形成"强化光明搭档"效果；三级形态时，每12秒释放一次"魔力守护"，为周围4格内所有植物恢复15%最大生命值并清除负面效果；每10秒随机获得一种元素强化（火：伤害+25%，水：减速敌人，风：攻击速度+30%，土：防御力+40%），持续15秒，各元素强化提供不同效果；拥有极高的魔法天赋，但血量较少，需要其他植物保护；每次升级时，获得短暂的无敌状态（1.5秒）和攻击力提升（10%），持续到战斗结束。',description:`当来自人类世界的魔法少女徐清岚踏入光明大陆的那一刻，她便被这片土地上浓郁而古老的魔法能量深深吸引。在清鸢的引导下，她开始在星辰秘境中修习本源魔法。面对远超人类世界认知的史前魔法体系，年轻的清岚经历了无数次迷茫与挫折。她的魔力波动变得极不稳定，甚至偶尔会失控引发小型魔法风暴。

在这段孤独的修行时光中，清岚逐渐学会了控制和融合不同元素的魔法力量。她的星尘之笔也随之进化，能够同时操控多种元素之力。然而，长期的独处和高强度的修行也让清岚的内心产生了一丝孤寂感。这种情绪在"宿槐"对光明大陆发动黑暗魔法侵蚀时被放大，成为了她内心深处的一个隐患。

尽管如此，修习者形态的清岚依然保持着对光明的信念，她的魔法技艺日益精湛，甚至能够释放出比魔法少女形态更加强大的元素魔法。她相信，只要坚持自己的初心，终有一天能够完全掌握这些古老而强大的力量，成为真正的魔法大师。`,category:"魔法使者",bestAgainst:["黑暗魔法增强的僵尸","高伤害僵尸","需要强大单体伤害的场合","密集僵尸群","飞行僵尸"],worstAgainst:["高护甲僵尸","高血量僵尸","需要快速击杀的场合"],quote:"魔法的修行之路充满荆棘，但我不会退缩！"}),qingxuan:Ue("qingxuan",{name:"青玄",cost:550,cooldown:2200,health:18e4,damage:2200,attackRange:99,attackSpeed:500,targetSelection:"closest",specialEffect:"守护星界之门的神秘力量，同时拥有强大的输出与修复能力；每1秒产生50阳光；木和风双属性攻击，对暗影世界的僵尸造成额外200%伤害；每消灭2个僵尸获得一个守护护盾，可抵挡一次致命伤害；每10秒释放一次星界守护，为周围3格内的所有植物恢复15%最大生命值；每20秒召唤一次星界领域，持续8秒，期间所有植物攻击力提升80%，防御力提升50%；对所有类型僵尸造成额外伤害（巨人+60%、飞行+70%、潜水+80%、特殊+180%）；周围6格内的植物获得50%伤害减免和15%攻击速度提升；死亡时触发星界爆发，对全屏僵尸造成6000点伤害并眩晕6秒；免疫减速、控制效果和所有负面状态；受到攻击时有70%概率反弹100%伤害；新增主动技能：星界净化，可手动触发，立即清除全屏负面效果并为所有植物恢复10%最大生命值，冷却时间40秒；新增被动技能：星界守护，每秒恢复自身2%最大生命值",description:`青玄，星界之门的守护者，是创世神在光明大陆最隐秘角落创造的超然存在。她诞生于星尘与月光的交汇之处，肩负着维护光明大陆与其他世界平衡的神圣使命。传说中，她曾是创世神座下的首席星使，因在星界之战中立下赫赫战功，被赋予了守护星界之门的重任。

身着飘逸的青蓝色长袍，手持由星尘凝聚而成的"流光伞"，青玄的每一次出现都会伴随着柔和的星光和微风。她性格清冷而睿智，说话时总是带着淡淡的星辰般的光芒。作为木和风双属性的守护者，她既能操控自然界的力量攻击敌人，又能编织治愈的星光守护同伴。

千万年来，青玄始终恪守职责，默默守护着星界之门，阻挡了无数试图破坏两界平衡的黑暗势力。她的存在让暗影世界的生物对星界之门望而却步，成为了连接两个世界的稳固屏障。然而，在季灾的精心策划下，徐清岚（暗）趁她不备发动了突然袭击，青玄在重伤坠落后下落不明，成为了光明大陆的一大谜团。

在战斗中，青玄展现出了无与伦比的全能性。她不仅能对敌人造成毁灭性的范围伤害，还能持续为队友提供治疗和增益效果。这种独特的能力组合使她成为了植物阵营中不可或缺的核心角色，无论是防守还是进攻都能发挥关键作用。`,category:"星界守护者",bestAgainst:["大规模僵尸群","来自暗影世界的生物","需要持续治疗的情况","任何需要强大火力的战局","高强度自定义关卡"],worstAgainst:["无明显弱点"],quote:"生命的意义与我无关，守护，我的抉择"}),murongyanfeng:Ue("murongyanfeng",{name:"慕容言风",cost:600,cooldown:2500,health:15e4,damage:2500,attackRange:99,attackSpeed:600,targetSelection:"strongest",specialEffect:'居住在光明大陆最混乱的地方"明渊"的神秘人类；拥有极其强大的单体输出与群体输出能力；暗属性攻击，对光明属性的敌人造成额外250%伤害；每消灭1个僵尸获得一个黑暗能量积累，达到3层时释放一次黑暗风暴，对全屏僵尸造成5000点伤害并降低其防御力30%，持续6秒；每15秒释放一次"暗之领域"，持续10秒，期间所有敌人的移动速度降低40%，攻击速度降低30%；对所有类型僵尸造成额外伤害（巨人+70%、飞行+60%、潜水+80%、特殊+250%）；周围8格内的敌人受到10%额外伤害；死亡时触发"黑暗爆发"，对全屏僵尸造成8000点伤害并眩晕8秒；免疫减速、控制效果和所有负面状态；受到攻击时有80%概率反弹100%伤害；新增主动技能："阴阳光华"，可手动触发，立即对全屏敌人造成3000点伤害并恢复自身20%最大生命值，冷却时间50秒；新增被动技能："明暗流转"，每秒恢复自身1%最大生命值',description:`慕容言风，一个游离于光明与黑暗之间的神秘存在，被光明大陆的居民称为"明渊之主"。他身着墨色长袍，腰间挂着一个古老的酒葫芦，长发随意束起，眼神中总是带着三分不羁、三分冷漠和四分看透一切的深邃。作为人类，却拥有远超普通人类的强大力量，这使他成为了光明大陆上最令人捉摸不透的存在之一。

明渊，这片位于光明大陆最边缘的混乱之地，是光明与暗影的交汇之处，也是通往星界之门的最后屏障。慕容言风在这里建立了自己的领地，成为了这个危险区域的实际统治者。他既不站在光明一方，也不投身于黑暗，始终保持着中立的立场，只按照自己的意愿行事。

关于他的来历，大陆上流传着许多传说。有人说他是古代阴阳师的后裔，有人说他是光暗平衡被打破时诞生的特殊存在，还有人说他曾是季灾和离火的同门师兄。无论真相如何，慕容言风强大的实力是毋庸置疑的。他能够操控黑暗能量进行攻击，同时又能吸收光明之力恢复自身，这种独特的能力使他在战斗中几乎立于不败之地。

尽管性格阴晴不定，慕容言风内心却有着自己的底线和原则。在宿槐率领暗影大军入侵光明大陆时，他最终选择站在光明一方，用自己的力量帮助植物阵营抵御僵尸的进攻。他的加入极大地改变了战局，成为了对抗暗影势力的重要力量。`,category:"明渊守护者",bestAgainst:["大规模僵尸群","来自光明世界的生物","需要强大火力的情况","任何需要强大输出的战局","高强度自定义关卡"],worstAgainst:["无明显弱点"],quote:"你在哪里……"}),yijiu:Ue("yijiu",{name:"屹九",cost:150,cooldown:1500,health:500,damage:30,attackRange:3,attackRangeType:"straight",attackSpeed:2e3,targetSelection:"closest",specialEffect:"来自于人类世界，喜欢吃糖葫芦，呆萌的形象让敌人对其的攻击减半；当受到攻击时，有30%几率使攻击者陷入迷惑状态，持续3秒；周围3格内的植物获得15%伤害减免；对巨人僵尸的攻击减半效果提升至70%；免疫所有控制效果；每消灭1个僵尸恢复自身5%最大生命值；受到致命伤害时会进入防御姿态，持续5秒，期间受到的伤害减少80%",description:`屹九是光明大陆上最特殊的存在之一，这个可爱的小男孩有着圆滚滚的脸蛋、大大的眼睛和永远挂着笑容的嘴角。他穿着传统的中国风服饰，腰间总是挂着一串糖葫芦，走到哪里都能带来欢乐的氛围。

在人类世界时，屹九是一个出生于高官世家的小少爷，集万千宠爱于一身。他天真无邪、心地善良，最喜欢做的事情就是拿着糖葫芦在大街上跑来跑去，和所有遇到的人打招呼。然而，一场突如其来的光暗大战改变了他的命运，他不幸被卷入其中，年轻的生命就此终结。

但屹九纯净无瑕的灵魂引起了光明之力的注意。光明之力被这个孩子纯真的心灵所打动，决定赋予他新的生命形态，让他成为光明大陆的守护者。于是，屹九以植物的形态重生，继续用他的纯真和善良守护着这片土地。

在战斗中，屹九的特殊能力令人惊叹。他呆萌可爱的形象会让敌人不由自主地减弱攻击，甚至陷入迷惑状态。同时，他还能为周围的植物伙伴提供保护，帮助它们更好地抵抗僵尸的进攻。虽然攻击力不强，但屹九在队伍中的作用不可替代，他用自己独特的方式为光明大陆的胜利贡献着力量。`,category:"防御型植物",rarity:"普通",bestAgainst:["高伤害僵尸","巨人僵尸","需要长期生存的防线"],worstAgainst:["快速僵尸群","飞行僵尸"],quote:"歪日他得，就剩我了？？？"}),xuqinglan_god:Ue("xuqinglan_god",{name:"徐清岚（神）",cost:1e3,cooldown:5e3,health:5e5,damage:1e4,attackRange:99,attackSpeed:300,targetSelection:"strongest",specialEffect:"神秘",description:"神秘",category:"光明守护者",rarity:"神秘",bestAgainst:["所有类型僵尸"],worstAgainst:["神秘"],quote:"光明与黑暗，终将在命运的指引下合而为一。"}),nanaisei:Ue("nanaisei",{name:"奈奈生",cost:800,cooldown:3e3,health:25e4,damage:3e3,attackRange:99,attackSpeed:600,targetSelection:"strongest",specialEffect:'光明大陆的先天灵，诞生于世界本源之光，拥有掌控时间与命运的神秘力量；每2秒产生80阳光；对黑暗属性的僵尸造成额外200%伤害；免疫所有负面状态和控制效果；每15秒释放一次"预知未来"，提前3秒预警下一波僵尸的类型和路线，并为所有植物提供30%伤害减免和15%攻击速度提升，持续10秒；每30秒释放一次"本源守护"，为周围8格内的所有植物恢复20%最大生命值并清除所有负面效果；与徐清岚（任何形态）同时在场时，两人获得50%伤害减免、30%攻击速度提升和25%伤害加成，形成"命运羁绊"效果；死亡时触发"本源传承"，将所有能力传递给场上最强的植物，并为其恢复50%最大生命值；拥有极高的魔法抗性，受到的魔法伤害减少50%；能够感知敌人的弱点，攻击时有30%几率造成暴击，暴击伤害为200%；每消灭5个僵尸，自身攻击速度提升5%，持续到战斗结束，最多叠加10层；当场上同时存在徐清岚（神）时，两人的"命运羁绊"效果提升至70%伤害减免、50%攻击速度提升和40%伤害加成',description:`奈奈生，光明大陆最古老的先天灵之一，诞生于世界形成之初的第一缕阳光中，是光明本源的直接化身。她拥有银白色的长发和清澈如泉水的蓝色眼眸，肌肤若冰雪般纯净，身上散发着柔和而温暖的金色光芒。作为先天灵，奈奈生不仅能够掌控极致的光明之力，还拥有着极其罕见的"时间预见"和"命运编织"能力。

在预感到光明大陆即将面临的巨大危机后，奈奈生决定采取行动。她用自己的本源之力作为引路灯，跨越时空壁垒，将来自人类世界的"命运之子"徐清岚召唤到了光明大陆。为了确保清岚能够顺利成长，奈奈生在暗中以一缕本源之力引导她修行，虽然两人从未直接谋面，但清岚在修炼过程中总能感受到一股温和而熟悉的力量在指引着自己。

当季灾策划偷袭徐清岚时，奈奈生虽然无法直接干预，但她在徐清岚彻底堕落为"徐清岚（暗）"的前一刻，冒着生命危险在她的神魂中留下了一丝本源之力。这丝看似微弱的光明之力，最终成为了徐清岚能够摆脱黑暗控制、重获新生的关键伏笔。

奈奈生性格温和而睿智，总是以大局为重。她虽然拥有强大的力量，但很少直接参与战斗，更多的是在幕后默默地守护着光明大陆和所有生命。她相信，每个生命都有其存在的意义和价值，即使是曾经迷失在黑暗中的灵魂，也有被救赎的可能。`,category:"先天灵",bestAgainst:["黑暗属性僵尸","大规模僵尸群","需要提前预警的战局","BOSS级僵尸","与徐清岚搭配时效果最佳"],worstAgainst:["无明显弱点"],quote:"命运的丝线早已编织好，光明终将战胜黑暗。"}),vexithra:Ue("vexithra",{name:"Vexithra(战神)",cost:750,cooldown:3e3,health:2e5,damage:2800,attackRange:99,attackSpeed:500,targetSelection:"strongest",specialEffect:"极限单体输出，能够对单个目标造成毁灭性伤害；增加周围5格内所有植物的攻击力25%和攻击速度20%；擅长格斗和剑术，普通攻击有70%几率触发连击，额外造成150%伤害；对暗属性敌人造成额外200%伤害；每消灭3个僵尸获得一个战神护盾，可抵挡一次致命伤害；每15秒释放一次战神领域，持续8秒，期间所有植物获得30%伤害减免；免疫减速、控制效果和所有负面状态；受到攻击时有60%概率反弹100%伤害；新增主动技能：战神之怒，可手动触发，立即对一个目标造成5000点伤害并眩晕4秒，冷却时间35秒；新增被动技能：战神守护，每秒恢复自身1%最大生命值",description:'相传很久之前，人类世界出现了一位极其强大的"战神"，她的传说在人类世界广为流传，很多世家的长辈曾向其说媒，均被其拒绝。后来，听闻其与一名神秘男子，共同消失于人类世界。现在大陆还流传着其击败未知怪物，追寻光明大陆"清鸢"，抵御暗影大陆侵袭的传说。没有人知道她后来去了哪里……',category:"战神",bestAgainst:["暗属性敌人","高血量单体僵尸","BOSS级敌人","需要单体输出的场合","需要增强队友属性的场合"],worstAgainst:["阴阳师类型敌人","大规模僵尸群","需要范围攻击的场合"],quote:"战神之剑，为守护而挥！"}),xuqinglan_dream:Ue("xuqinglan_dream",{name:"徐清岚（梦）",cost:1e3,cooldown:4e3,health:3e5,damage:8e3,attackRange:99,attackSpeed:400,targetSelection:"strongest",specialEffect:'独立于传统属性之外的未知属性；拥有能看清历史发展的神秘能力；每次攻击有70%几率触发"命运之眼"，额外造成50%伤害并清除目标所有强化效果；对暗影属性敌人造成额外250%伤害；每消灭2个僵尸获得一个命运护盾，可抵挡一次致命伤害；每12秒释放一次"时空净化"，清除全屏负面效果并为所有植物恢复15%最大生命值；周围8格内的所有植物获得30%伤害减免和20%攻击速度提升；免疫减速、控制效果和所有负面状态；受到攻击时有80%概率反弹100%伤害；新增主动技能："未来指引"，可手动触发，立即对所有僵尸造成6000点伤害并眩晕6秒，冷却时间35秒；新增被动技能："梦境守护"，每秒恢复自身2%最大生命值；与徐清岚（任何形态）同时在场时，触发"命运共鸣"，双方攻击力提升50%，防御力提升30%；新增特性：在"时空净化"效果下，所有植物获得"未来视"效果，能够提前0.5秒预知僵尸的行动',description:`徐清岚（梦）是命运之子徐清岚的未知形态，代表着善良与美好，是徐清岚内心的完美形态，不存在于现实，是来自未来的指引，一双眼睛能看清历史的发展；徐清岚（梦），一个存在于未来道路上的人，在现实与未来的交织中，徐清岚（梦）就存在于此。

传说中，当清鸢与宿槐这对曾经的双生姐妹第一次感受到对方心中的裂痕时，徐清岚（梦）的能量波动首次在星界之门附近出现。清鸢与宿槐曾尝试接近这股神秘能量，但被一股温和而强大的力量轻轻推开，似乎在暗示着她的使命还未到来。

与其他角色不同，徐清岚（梦）拥有看透历史发展的"命运之眼"，能够在战斗中预知僵尸的行动轨迹和弱点。她的攻击带有强烈的时间属性，能够撕裂时空壁垒，对暗影生物造成毁灭性的打击。她的"时空净化"技能不仅能清除负面效果，还能为同伴注入来自未来的生命力。

作为连接现实与未来的存在，徐清岚（梦）的真实目的至今仍是一个谜。有人猜测她是徐清岚未来的某种形态，也有人认为她是整个光明大陆在时间长河中的守护者。唯一可以确定的是，她的存在为这场光暗之战带来了新的变数和希望。`,category:"命运使者",rarity:"神秘",bestAgainst:["暗影属性敌人","BOSS级敌人","所有类型僵尸","拥有强化效果的僵尸"],worstAgainst:["无明显弱点"],quote:"世俗不能批判希望，偏见无法撂倒未来"}),mumu:Ue("mumu",{name:"沐沐",cost:650,cooldown:3500,health:15e4,damage:2500,attackRange:99,attackSpeed:600,targetSelection:"closest",specialEffect:'冰属性攻击，对暗影属性敌人造成额外200%伤害；每次攻击有60%几率触发"冰之束缚"，使目标减速50%，持续3秒；每消灭1个僵尸获得一个"冰之护盾"，可抵挡一次伤害；每12秒释放一次"冰雪领域"，清除全屏负面效果并为所有植物提供15%伤害减免，持续8秒；在场时，周围8格内的所有植物受到的冰属性伤害提升20%；免疫减速和控制效果；受到攻击时有70%几率反弹50%伤害并减速攻击者；新增主动技能："冰之封锁"，可手动触发，立即对所有僵尸造成4000点伤害并附加冰冻效果，冷却时间30秒；新增被动技能："冰雪之心"，每秒恢复自身1.5%最大生命值；新增特性：当生命值低于30%时，获得"冰茧守护"，免疫所有伤害，持续5秒，每场战斗只能触发一次。',description:`冰雪森林中的银发少女，冰蓝眼眸澄澈，发间缀冰晶雪花饰，露肩蓝白礼裙如霜华闪烁。周遭树木覆雪，冰晶飘落，静谧清冷又梦幻。隶属于光明大陆影月谷的内门弟子，其性格冷淡，似乎对任何事都不感兴趣，其内心向往安静与静止的世界，想创造一个独属于其的独立世界，不对外开放。

沐沐在小时候并非如此，其性格暴烈，身着红衣，经常对弱小群体进行欺压，经常性的做作，使"沐沐"变得毒恶，精神失常，经常对周围人无差别攻击。后来，在一次做作之后，碰到了一个对于其不同寻常的人，一个弱小但对生活充满信心的人，于是，这个人便成了"沐沐"经常欺负的对象。随着年龄的增长，两人渐渐无法接受双方的分离，但事与愿违，这个人在莫一天消失了，彻底的消失，留下了一句"已走，勿念"，就丢下了"沐沐"，不知去向，"沐沐"刚开始并不太相信，后来，经历了长时间的等待，莫次日落后，"沐沐"便开始了封心锁爱，换上了冷色调的衣服，拜入影月谷，开始了修行……`,category:"冰属性法师",rarity:"史诗",bestAgainst:["暗影属性敌人","高速僵尸","大规模僵尸群","需要减速控制的场合","BOSS级僵尸"],worstAgainst:["火属性僵尸","对冰冻免疫的僵尸"],quote:"等闲变却故人心，却道故人心易变。"}),mingjiansanshi:Ue("mingjiansanshi",{name:"冥界三使",cost:750,cooldown:4e3,health:18e4,damage:2800,attackRange:99,attackSpeed:600,targetSelection:"strongest",specialEffect:'土属性和暗属性双重攻击；作为暗杀者，对敌人造成额外200%暴击伤害；拥有"拘傀遣将"能力，每10秒召唤冥界的拘傀者协助战斗；免疫所有控制效果和负面状态；对光属性敌人造成额外150%伤害；周围8格内的所有植物受到的暗属性伤害提升30%；受到攻击时有60%几率反弹80%伤害并减速攻击者；每消灭1个僵尸获得一个黑暗护盾，可抵挡一次伤害；每15秒释放一次"冥界领域"，清除全屏负面效果并为所有植物提供20%伤害减免，持续8秒；新增主动技能："冥界召唤"，可手动触发，立即召唤3个强力拘傀者到场上进行战斗，冷却时间45秒；新增被动技能："冥界守护"，每秒恢复自身1.5%最大生命值；新增特性：当生命值低于30%时，获得"冥界庇护"，免疫所有伤害，持续5秒，每场战斗只能触发一次。',description:`冥界，位于人类世界之下，人死为"傀"，傀则前往冥界。冥界三使为长期停留在人类世界的冥界使者，早在很久之前，冥君就派此三傀前往人界，暗中完成特殊任务。人类世界对于冥界的存在，极少数的人才知道，冥界为轮回之处，由于冥界之人多为傀的形式存在，不可见光，故其界之人为晚上去人间办事。

冥界三使为大地与黑暗结合所诞生的，故而可以长存人间。她们经常用其外表去迷惑他人来执行任务，后来在光暗大战中，被逃回人界的徐清岚(暗)吸收力量而亡。

这三位冥界使者分别代表着不同的能力：一位擅长暗杀，一位擅长召唤，一位擅长防御。她们三位一体，共同守护着冥界与人界的平衡。虽然她们在光暗大战中不幸陨落，但她们的灵魂依然在冥界徘徊，等待着合适的时机重新现世。`,category:"冥界使者",rarity:"史诗",bestAgainst:["光属性敌人","高生命值敌人","需要持续召唤支援的场合","BOSS级敌人","黑暗属性增强的僵尸"],worstAgainst:["光属性攻击","金属线陷阱","群体攻击","净化效果"],quote:"漫长的生命意味着更多别离，但也意味着更多相遇、更多希望。学会离别，也是生命意义的一部分。"}),ling:Ue("ling",{name:"凌",cost:1e3,cooldown:5e3,health:35e4,damage:9e3,attackRange:99,attackSpeed:450,targetSelection:"strongest",specialEffect:'先天水属性，水之本源；对火属性敌人造成额外250%伤害；免疫所有负面效果和控制效果；每次攻击有80%几率触发"水之净化"，清除目标所有强化效果并减速40%，持续5秒；每消灭1个僵尸获得一个"水之护盾"，可抵挡一次伤害；每15秒释放一次"水之领域"，清除全屏负面效果并为所有植物提供20%伤害减免，持续10秒；周围8格内的所有植物受到的水属性伤害提升30%；受到攻击时有80%几率反弹100%伤害；新增主动技能："水之律动"，可手动触发，立即对所有僵尸造成7000点伤害并眩晕7秒，冷却时间40秒；新增被动技能："水之守护"，每秒恢复自身2%最大生命值；新增特性：当生命值低于30%时，获得"水之屏障"，免疫所有伤害，持续6秒，每场战斗只能触发一次。',description:`洪荒纪，即在混沌之中，世界未分之时，便已出现了许多古神，"凌"便是其中之一。洪荒的秩序为混沌，天地不分，古神行事各异，他们在漫长的岁月里，忘记了时间。

"凌"为水属性的古神，其本体为先天水，洪荒中的第一滴水—甘澪。在洪荒纪时，"凌"时常陷于迷茫，从何而来，为何而生，意义为何，一切未知。在最后的古神大战中，"凌"明白了，世界为何会这样，为何重建……`,category:"洪荒古神",rarity:"古神",bestAgainst:["火属性敌人","高生命值敌人","BOSS级敌人","所有类型僵尸","拥有强化效果的僵尸"],worstAgainst:["时间魔法","单体高爆发敌人"],quote:"在死去纪元的骨架上，种下下一代文明的种子"}),xingzhe:Ue("xingzhe",{name:"星褶",cost:1200,cooldown:6e3,health:4e5,damage:12e3,attackRange:99,attackSpeed:400,targetSelection:"strongest",specialEffect:'暗属性和星辰之力双重攻击；作为古神，对所有类型敌人造成额外300%伤害；免疫所有负面效果和控制效果；每次攻击有90%几率触发"星辰陨落"，对目标及周围3格内的所有敌人造成额外800%伤害并眩晕3秒；每消灭1个敌人获得一个"星辰护盾"，可抵挡一次致命伤害；每15秒释放一次"星辰领域"，清除全屏负面效果并为所有植物提供30%伤害减免，持续12秒；周围10格内的所有植物受到的暗属性伤害提升50%；受到攻击时有90%几率反弹150%伤害；新增主动技能："灵境九序自在归"，可手动触发，立即对所有敌人造成15000点伤害并眩晕10秒，冷却时间50秒；新增被动技能："星辰守护"，每秒恢复自身3%最大生命值；新增特性：当生命值低于20%时，获得"星辰重启"，免疫所有伤害，持续8秒，每场战斗只能触发一次；随着时间流逝，攻击力和防御力持续提升，每60秒提升10%，无上限。',description:'若世有永恒,则其一定是星辰.无数纪元的生命,皆有崇拜星星的教派,以祈星辰之力,换取起愿."星褶"为星辰的化身,文明的重启,伴随着"星褶"的苏醒;文明的毁灭,伴随着"星褶"的沉睡."星褶"的能量来源于星空,每当夜幕降临,"星褶"就会吸收其力量,一助自己修行."星褶"体内拥有强大的能量,随着时间的增加,其会越来越强,最后会怎样无从得知."星褶"在洪荒纪感到文明即将毁去,于是便发动漫天星辰之力,提前带来毁灭,并告诉众神,"毁灭与重生,相伴相随",语罢,便发动"灵境九序自在归",对洪荒中心的时空核心发动攻击,提前激活了界器.完罢,星褶就陷入了沉睡……',category:"洪荒古神",rarity:"古神",bestAgainst:["所有类型敌人","BOSS级敌人","大规模敌人","需要强力单体输出的场合","需要长时间战斗的场合"],worstAgainst:["无"],quote:"宇宙重置本质上是矛盾不可调和时的宇宙免疫反应，是宇宙理性的自我校正机制"}),xiaoshengkui:Ue("xiaoshengkui",{name:"筱燊傀",cost:500,cooldown:3e3,health:2e5,attackRange:0,attackRangeType:"melee",attackSpeed:0,targetSelection:"closest",specialEffect:"冥界的记载史吏，本身并无战力，但其逃跑与记载查阅能力一绝；作为防御类植物，能够为周围植物提供强大的防御加成；周围8格内的所有植物受到的伤害减少30%；免疫所有减速和控制效果；对光属性攻击有额外的抵抗能力；受到攻击时有50%几率闪避；能够感知危险，提前预警；每15秒生成一个记载屏障，可阻挡一次对自身或周围植物的攻击；对冥界三使有特殊的增益效果，同时在场时双方防御增加20%；擅长记录历史，能够复制并保存其他植物的技能效果，但只能在危急时刻使用一次；在夜晚或冥界环境中，防御能力提升50%；作为残傀形态，其生命力顽强，即使生命值降至0也不会立即死亡，而是进入假死状态，有机会在3秒内恢复10%生命值。",description:"冥界的记载史吏,以记载现世重大事迹为职责,其族密史相传记载了关于世界重启前的秘闻,但具体情况无从得知.筱燊傀本身并无战力,但其逃跑与记载查阅能力一绝.也是极少数知道世界真相的人,后来,在告诉徐清岚等人相关内容时,惹怒莫位不可言的存在,被拖走其识海,仅剩一残傀.最后,经历了漫长时光,徐清岚在与不可言谈判时,识海有机会逃离,回到了残傀上面.",category:"防御型植物",rarity:"史诗",bestAgainst:["光属性敌人","高伤害敌人","需要防御加成的场合","与冥界三使配合时效果最佳"],worstAgainst:["光属性攻击","空间系魔法","持续伤害类攻击"],quote:"历史会记住胜利者，但也不会忘记失败者的故事。"}),yunli_time_arbiter:Ue("yunli_time_arbiter",{name:"云璃•时光裁决者",cost:1500,cooldown:6e3,health:45e4,damage:15e3,attackRange:99,attackSpeed:350,targetSelection:"strongest",specialEffect:'时间系与空间系双重攻击，对所有类型敌人造成额外350%伤害；免疫所有负面效果和控制效果；每次攻击有90%几率触发"时间切割"，对目标及周围4格内的所有敌人造成额外1000%伤害并眩晕4秒；每消灭1个敌人获得一个"时光护盾"，可抵挡一次致命伤害；每10秒释放一次"命运囚笼"，将范围内敌人困在时间裂隙中，使其停止行动5秒；每20秒释放一次"时空重置"，清除全屏负面效果并为所有植物恢复30%最大生命值；周围12格内的所有植物获得40%伤害减免和30%攻击速度提升；受到攻击时有95%几率反弹200%伤害；新增主动技能："时序之断"，可手动触发，立即对所有敌人造成20000点伤害并暂停时间8秒，冷却时间60秒；新增被动技能："命运编织"，每秒恢复自身5%最大生命值；新增特性：随着时间流逝，攻击力和防御力持续提升，每30秒提升15%，无上限；星轨圣铠提供额外的防御加成，使云璃受到的伤害减少50%；时序之刃能够切割时间，使敌人的冷却时间延长50%；时间水晶提供预知能力，使云璃能够提前2秒预知敌人的行动。',description:`云璃•时光裁决者，命运神殿第7代殿主，时空秩序的守护者，「时序之刃」的持有者。流金长发如融化的阳光瀑布，发梢泛着星尘微光，象征时间长河的永恒流动；黄绿双色瞳孔（左眼映刻过去的「记忆之沙」，右眼预见未来的「可能性之影」）；全身披挂「星轨圣铠」：金色铠甲镶嵌十二颗蓝宝石（对应黄道十二宫的时空锚点），肩甲浮雕「莫比乌斯环」纹路，腰链由可伸缩的星金锁链构成（战斗时可化为时间囚笼）；右手握持「时序之刃」：剑身镌刻宇宙膨胀公式，剑柄镶嵌「奇点水晶」，挥动时会留下金色轨迹（实为被切割的时间残片）。

铠甲即枷锁，亦是容器："这身圣铠不是权力的象征，而是时间赋予我的「认知监狱」——它让我看见所有命运的分支，却也让我永远困在「观测者」的视角。"——云璃认为，命运神殿的职责不是「裁决」而是「记录」，正如她铠甲上的锁链：看似束缚，实则是维系无数平行时空的「稳定器」。时间是可塑的晶体，而非线性的河流："凡人说「命运不可逆」，不过是他们无法理解「晶体的多面体」——每个面都是一种可能，而我能触摸到晶体的每个棱角。"

她的哲学融合赫拉克利特「万物流变」与量子力学「叠加态」，主张命运是「未坍缩的概率云」，裁决者的使命是防止某一可能性吞噬其他分支（如阻止暴君通过时间旅行抹除反抗者）。终极悖论：裁决者的命运由谁裁决？云璃后颈有一道隐形的「星链印记」，这是历代殿主传承的标记，也是她哲学体系的裂缝："如果我能看见所有人的命运，为何看不见自己颈间星链的终点？"这种自我质疑使其区别于传统「全知全能」的神祇形象——她既是命运的编织者，也是被编织的纱线。`,category:"时空守护者",rarity:"神秘",bestAgainst:["所有类型敌人","BOSS级敌人","大规模敌人","需要强力单体输出的场合","需要长时间战斗的场合","拥有强化效果的敌人"],worstAgainst:["无"],quote:"你所谓的命运，不过是你对'必然'的恐惧与'偶然'的渴望交织的幻影。"}),xiaoyue:Ue("xiaoyue",{name:"晓月",cost:600,cooldown:3e3,health:12e4,damage:2200,attackRange:99,attackSpeed:550,targetSelection:"closest",specialEffect:'时间系和风系双重攻击，对空间属性敌人造成额外200%伤害；拥有「时空织者」血脉，能够感知时间的裂隙；每消灭1个敌人获得一个"时光锚点"，可抵挡一次伤害；每12秒释放一次"月之领域"，清除全屏负面效果并为所有植物提供15%伤害减免，持续8秒；在场时，周围8格内的所有植物获得20%攻击速度提升和15%伤害提升；免疫减速和控制效果；受到攻击时有60%几率闪避；能够在月圆之夜（游戏中随机触发）获得强化，所有属性提升50%，持续30秒；与徐清岚（暗）同时在场时，两人获得30%伤害减免和25%攻击速度提升，形成"时空共鸣"效果；每8秒可以使用一次"时间凝固"，使目标停止行动3秒；新增主动技能："双生时计"，可手动触发，立即对所有敌人造成5000点伤害并减速40%，持续5秒，冷却时间35秒；新增被动技能："月华守护"，每秒恢复自身1.5%最大生命值；新增特性：当生命值低于30%时，获得"时光回溯"，恢复30%最大生命值并清除所有负面效果，每场战斗只能触发一次。',description:"晓月诞生于月落之森最古老的银叶精灵部落，天生拥有「时空织者」血脉——浅紫色发丝中流淌着月神的恩赐，精灵耳尖镶嵌着会随月华变色的星辰石。她的敏捷不仅体现在身法上，更能在月圆之夜感知时间的裂隙：当满月升至天顶时，她的修炼速度会随月光强度呈几何级增长，指尖甚至能捕捉到流动的光阴碎片。部落视「时间掌控」为禁忌，长老们认为过度干涉时序会招致混沌。晓月却在16岁那年质疑：「若永恒是静止的虚无，刹那的绽放是否更接近存在的本质？」她带着祖父留下的古董怀表离开森林，在人类世界以甜点师为伪装，通过制作限时赏味的糕点探索「瞬间即永恒」——正如她最擅长的「樱花流心慕斯」，必须在出炉后三分钟内品尝，否则樱花的清甜便会消散，恰如生命中不可复刻的美好。在市集邂逅失明的徐清岚（暗）（徐清岚（暗)吞噬完冥界三使后，进入了失明期——冥界的诅咒）后，晓月的世界观被彻底颠覆。徐清岚（暗）虽看不见月光，却能通过触摸怀表齿轮的震动「听」出时间的韵律：「你的存在，就像秒针与齿轮的相遇——看似偶然的碰撞，却让整个世界开始转动。」两人合作创造出「双生时计」：晓月注入月华之力让钟表在满月夜倒转，徐清岚（暗）则用魔法将倒转的时间凝固为可触摸的「昨日之糖」。这段跨越种族的羁绊，让她领悟到「敏捷」的终极形态不是速度，而是在时光洪流中锚定所爱之人的勇气。她腰间的黑色腰带实为封印着时空裂隙的「缚时索」，每当她竖起大拇指，便是在确认当前时间线的稳定性。而她总在下午茶时微微出汗，并非因为燥热，而是体内月神之力与人间烟火产生的微妙排斥——这份矛盾，暗示着她终将在「守护世界秩序」与「拥抱人间情感」间做出抉择。",category:"时空织者",rarity:"史诗",bestAgainst:["空间属性敌人","高伤害敌人","需要控制的场合","与徐清岚（暗）配合时效果最佳"],worstAgainst:["空间系魔法","持续伤害类攻击"],quote:"我于满月夜饮尽时光，却在你眼眸里尝到永恒。"}),yuchen:Ue("yuchen",{name:"羽尘",cost:150,cooldown:1500,health:300,damage:45,attackRange:3,attackRangeType:"straight",attackSpeed:2e3,targetSelection:"closest",specialEffect:'低级风属性和木属性植物，对火属性僵尸造成额外100%伤害；每次攻击有20%几率触发"风叶齐飞"，对前方2格内的所有僵尸造成额外伤害；受到火属性攻击时，受到的伤害增加50%；对飞行僵尸造成额外50%伤害；免疫减速效果；每消灭1个僵尸恢复自身3%最大生命值',description:'人类世界对于魔法视为异端，视为招摇撞骗，为下九流之末。羽尘出生于当今人类世界第二大帝国的"明"，由于地理环境与天气等原因，"明"国一直被"月"国所压制。羽尘为村落魔法师之子，父亲寄希望于他，希望能传承其衣钵。羽尘本该过着平凡的生活，但随着光暗大战的帷幕，暗影大陆的力量悄悄在人类世界蔓延，为此父亲交给羽尘一些实用的魔法，但好景不长，那天晚上，天空落下一个陨石，正好砸在羽尘所在的村落。只记得，那晚过后，羽尘再也没见到父亲了，并且也丢失了之后的记忆……',category:"风属性法师",rarity:"普通",bestAgainst:["普通僵尸","飞行僵尸"],worstAgainst:["火属性僵尸","高护甲僵尸"],quote:"我的路是否就在脚下？"}),lingyaoning:Ue("lingyaoning",{name:"灵•瑶凝",cost:900,cooldown:4e3,health:28e4,damage:7500,attackRange:99,attackRangeType:"all",attackSpeed:450,targetSelection:"strongest",specialEffect:'冰、星、灵三属性攻击，对暗影属性敌人造成额外300%伤害；免疫所有负面效果和控制效果；每次攻击有80%几率触发"冰晶星落"，对目标及周围3格内的所有敌人造成额外1000%伤害并眩晕4秒；每消灭1个敌人获得一个"灵晶护盾"，可抵挡一次致命伤害；每15秒释放一次"冰晶圣殿"，清除全屏负面效果并为所有植物提供25%伤害减免，持续10秒；周围10格内的所有植物受到的冰、星、灵属性伤害提升40%；受到攻击时有85%几率反弹120%伤害；新增主动技能："寒月灵晶诀"，可手动触发，立即对所有敌人造成12000点伤害并附加冰冻效果，冷却时间40秒；新增被动技能："双灵共生"，每秒恢复自身2.5%最大生命值；新增特性：当生命值低于30%时，获得"月霜守护"，免疫所有伤害，持续8秒，每场战斗只能触发一次。',description:`昆仑仙域冰晶圣殿圣女瑶凝（右）与灵侍星璃（左），乃是洪荒西昆仑灵气凝结的精灵双生体。瑶凝为先天精灵，由天地间第一缕「太阴寒气」与「庚金之精」融合而生，位列洪荒三千客，执掌西方庚金之气；星璃则是瑶凝证道时以心头血化形的后天精灵，承载其未证道前的记忆碎片，二者共生共存，合称「西昆仑双璧」。

瑶凝修炼《寒月灵晶诀》，操控水行之力与庚金之气，法宝「寒霜灵晶杖」可引九天银河；星璃主修《流光引灵术》，辅助操控空间裂隙，掌后天灵宝「星辰引路灯」。二者身后独角兽月霜为先天灵兽，乃昆仑山脉灵气所化，与瑶凝缔结本命契约。

瑶凝清冷如冰，心怀慈悲，遵循天道法则；星璃活泼灵动，好奇纯真，为瑶凝本我之化身。战斗时瑶凝以长杖布下冰封万里大阵，星璃则以星轨穿梭扰乱敌阵，双灵合力曾于洪荒大战中冰封十万巫族，后隐于昆仑守护西方灵脉。

瑶凝神通庚金裂天可劈开空间，星璃记忆回溯能窥见时空碎片；服饰蓝白渐变象征天地灵气，金色纹路暗合洪荒星图，背景破碎晶体代表洪荒破碎时空，光带与独角兽角的金光则寓意灵脉流转。二者既是昆仑守护者，亦是洪荒冰，星，灵三元素的具象化存在。`,category:"洪荒古神",rarity:"先天灵",bestAgainst:["暗影属性敌人","高生命值敌人","BOSS级敌人","所有类型僵尸","拥有强化效果的僵尸"],worstAgainst:["单体爆发"],quote:"双灵同辉，冰晶不寒；星璃伴月，大道不孤。"}),lingxi:Ue("lingxi",{name:"灵汐",cost:1200,cooldown:5e3,health:32e4,damage:8500,attackRange:99,attackRangeType:"all",attackSpeed:420,targetSelection:"strongest",specialEffect:'时空之力属性攻击，对所有类型敌人造成额外300%伤害；免疫所有负面效果和控制效果；每次攻击有90%几率触发"时序之断"，对目标及周围4格内的所有敌人造成额外1000%伤害并暂停时间3秒；每消灭1个敌人获得一个"时序护盾"，可抵挡一次致命伤害；每15秒释放一次"四时轮转"，清除全屏负面效果并为所有植物提供25%伤害减免，持续10秒；周围10格内的所有植物获得30%攻击速度提升和20%伤害提升；受到攻击时有90%几率反弹120%伤害；新增主动技能："应龙衔尾"，可手动触发，立即对所有敌人造成15000点伤害并眩晕8秒，冷却时间50秒；新增被动技能："时空共鸣"，每秒恢复自身3%最大生命值；新增特性：当生命值低于30%时，获得"时序回溯"，免疫所有伤害，持续8秒，每场战斗只能触发一次。',description:`灵汐，先天灵族·时序之主，天地初开时，第一缕晨光穿透混沌，与东海龙气交汇于昆仑之墟，凝结为灵胎。因吸收四时之气而生，故掌天地时序流转之权。"执时如衡，过则倾颓"——认为万物需在时序中各安其位，逆天改命者终将被时间洪流反噬。

灵汐是中立守护者，不介入洪荒之争，独居于"时空城之巅"，监察三界时间线是否偏离正轨。"昨日之我非今日之我，明日之我亦非今日之我。然三我同体，共栖于此刻。"提出时间是非线性的"时空琥珀"，过去、现在、未来同时存在，只是被感知为流动状态。"因在前，果在后，世人皆以为然。殊不知果亦塑因，如应龙衔尾，互为始终。"认为因果是双向缠绕的环，今日之果可能是昨日之因的源头，挑战传统因果律认知。

外貌特征：银灰长发垂至脚踝，发间悬垂三枚菱形玉佩（分别刻有"春""夏""秋""冬"篆文，第四枚常年隐现），额间有淡金色时轮印记。上衣为玄色鲛绡，袖口绣银线流云纹，腰间系月白玉带，悬挂青铜编钟（敲响可调节局部时间流速），双手交叠于"测时仪"上——此器为先天灵根"建木"枝桠所制，盘面刻有天干地支，指针随洪荒时间流转而转动。

伴生异兽：时之应龙（青蓝色龙身，鹿角马面，鬃毛呈霜白色，鳞片闪烁如星屑），能穿梭于时间裂隙，龙瞳可窥见过去未来。周身异象：站立处常有四色光晕轮转（春绿、夏赤、秋金、冬玄），随呼吸节奏变换，代表四时有序交替。

灵汐守护的"洪荒时序轮"出现一道裂痕，此裂痕非外力所致，而是源于未来某个"不存在的时刻"。应龙预言：当裂痕扩大至三分之一时，灵汐将面临终极抉择——要么修补时序轮任由自身存在被抹去（因她是时序的产物），要么放任时间线崩坏，见证洪荒重归混沌后新生。后来，在灵汐抉择时，看到了徐清岚（梦），看到了未来，于是，便欣然离去……`,category:"时空守护者",rarity:"古神",bestAgainst:["所有类型敌人","BOSS级敌人","大规模敌人","需要强力单体输出的场合","需要控制效果的场合"],worstAgainst:["无"],quote:"应龙衔尾，终始相及。今日种因，明日得果；明日之果，亦塑今日之因。"}),lihuoshuangsheng_changli:Ue("lihuoshuangsheng_changli",{name:"离火双生•长离",cost:1300,cooldown:5500,health:35e4,damage:9e3,attackRange:99,attackRangeType:"all",attackSpeed:400,targetSelection:"strongest",specialEffect:'始源之火属性攻击，对所有类型敌人造成额外300%伤害；免疫所有负面效果和控制效果；每次攻击有90%几率触发"离火焚世"，对目标及周围4格内的所有敌人造成额外1000%伤害并眩晕5秒；每消灭1个敌人获得一个"离火护盾"，可抵挡一次致命伤害；每15秒释放一次"双生守护"，清除全屏负面效果并为所有植物提供30%伤害减免，持续10秒；周围10格内的所有植物获得35%攻击速度提升和25%伤害提升；受到攻击时有90%几率反弹150%伤害；新增主动技能："离火焚天"，可手动触发，立即对所有敌人造成18000点伤害并附加燃烧效果，持续20秒，冷却时间60秒；新增被动技能："双生共鸣"，每秒恢复自身3%最大生命值；新增特性：当生命值低于25%时，获得"焚火涅槃"，免疫所有伤害，持续10秒，每场战斗只能触发一次。',description:'长离，先天火灵修成的人族形态，洪荒焚天剑冢守护者，执掌天地间第一缕离火，诞生于盘古开天辟地时的混沌火核，因吸收昆仑墟昆仑镜碎片而拥有双生形态——表体为持剑卫道的守护者，里体为蒙眼的离火本源之灵。修行理念：焚尽虚妄，照见真如，认为火焰既是毁灭之力亦是净化之光，以剑为尺丈量洪荒秩序。洪荒立场：中立于洪荒之争，独守上古神殿遗址，却因持有昆仑镜碎片成为量劫关键。双生形态对应现在与未来的叠加态，蒙眼形态能窥见未来灾劫却无法言说，形成"知而不行"的宿命困境。持剑形态每斩出一剑，蒙眼形态便会承受相应业火反噬，提出因果同源，焚因即焚果的悖论性观点。双生形态：表体（持剑者）黑白色裙装配过膝袜，左袖绣离字篆文，剑穗系昆仑镜碎片；里体（蒙眼者）白衣无垢，发丝间悬浮三枚火纹玉珏，蒙眼布条上以血写就不见二字。伴生异象：足踏之处生烬莲，花瓣呈火焰状却不灼伤草木，行走时身后留赤金色轨迹如剑痕划破空间。长剑焚世剑身泛红如熔铁，剑柄缠绕太古雷纹，挥动时剑气化作朱雀虚影，剑鸣能震慑低阶妖魔。长离身负双生劫：当表体完全觉醒离火本源时，里体将彻底消散。在洪荒大战中，她必须选择是守护时空城（维持现状）还是用昆仑镜碎片逆转战局（牺牲自我），其抉择将导致洪荒世界线分裂为秩序永存或新生混沌两种结局。',category:"洪荒古神",rarity:"古神",bestAgainst:["所有类型敌人","BOSS级敌人","大规模敌人","需要强力单体输出的场合","需要控制效果的场合"],worstAgainst:["无"],quote:"眼盲者见真，心明者执妄——吾以离火为鉴，照尽洪荒三千虚妄。"}),jinghuashuiyue_lingxi:Ue("jinghuashuiyue_lingxi",{name:"镜花水月·灵汐",cost:1400,cooldown:6e3,health:38e4,damage:9500,attackRange:99,attackRangeType:"all",attackSpeed:380,targetSelection:"strongest",specialEffect:'镜像之力属性攻击，对所有类型敌人造成额外300%伤害；免疫所有负面效果和控制效果；每次攻击有90%几率触发"镜花水月"，对目标及周围4格内的所有敌人造成额外1000%伤害并眩晕5秒；每消灭1个敌人获得一个"镜之护盾"，可抵挡一次致命伤害；每15秒释放一次"万象镜宫"，清除全屏负面效果并为所有植物提供30%伤害减免，持续10秒；周围10格内的所有植物获得35%攻击速度提升和25%伤害提升；受到攻击时有90%几率反弹150%伤害；新增主动技能："混沌镜源"，可手动触发，立即对所有敌人造成20000点伤害并附加镜像混乱效果，持续20秒，冷却时间60秒；新增被动技能："镜像共鸣"，每秒恢复自身3%最大生命值；新增特性：当生命值低于25%时，获得"镜碎重生"，免疫所有伤害，持续10秒，每场战斗只能触发一次。',description:'先天灵植·绿萼仙莲化形，洪荒三千镜像世界的守护者。天地初开时，昆仑之墟的"太虚幻境"中，第一株映月而生的绿萼莲吸收先天阴阳二气，感"镜花水月"之象而化形。其本体莲台倒映三千世界，花瓣凝结时空碎片。"以镜为道，观物照心"——主张通过映照万物表象来洞悉本质，认为虚实本无差别，执着于真实反落执念。游离于洪荒之外的中立存在，居于"万象镜宫"，既不干预天道运转，亦不参与量劫纷争，仅以旁观者身份记录洪荒变迁。道之镜像："道本无象，因镜而显。三千大道皆为镜像，映照的不过是观者自心"——认为所谓天道法则只是宇宙本质在不同意识中的折射。时空折叠："过去未来，皆在镜中。所谓时间，不过是镜像的连续翻转"——提出时空并非线性流动，而是无数平行镜像的叠加态，可通过"镜转术"在特定节点切换。因果环镜："因是果之镜，果是因之影。善恶报应，不过是镜像的对称显现"——主张因果律是宇宙维持平衡的镜像机制，打破因果将导致镜像破碎（世界崩塌）。人物形象细节核心特征：浅绿色长发中夹杂金色流光（时空之力的具象化），左眸为翡翠色（映照真实），右眸为琥珀色（洞察虚妄），眉心一点朱砂痣凝结先天阴阳鱼印记。服饰法器：上衣：露肩式流云纹仙衣，红纹如血管般缠绕，象征"镜像世界的脉络"。袖套：橙白相间的太极纹袖套，随动作展开时会显现微型星系。法器："流光镜花杖"——顶端镶嵌千年冰晶雕琢的莲花镜，可映照任何存在的本源形态，杖身缠绕的红绸实为时间长河的一缕支流。异象环绕：行走时脚下生莲，每步踏出都会浮现破碎的镜面残影，周身漂浮7面小型古镜，分别对应"生老病死爱恨痴"七情镜像。伴生异兽："蜃龙·望月"——形似九尾白狐却生有龙角的异兽，能吞吐蜃气制造真实幻境，其尾尖托举的青铜古镜可照见三生石上的命数。镜花水月·灵汐的本命莲台封印着"混沌镜源"——这是开天辟地时遗留的第一面镜子，亦是所有镜像世界的本源。当日月无光、天地倾覆之时（洪荒大战末期）。她将面临终极抉择：要么打碎镜源，释放足以重开天地的能量却导致所有镜像世界崩塌；要么守护镜源，任由天道轮回陷入死循环。其命运与三至尊之一的帝俊存在隐秘联系——传说帝俊的"斩仙剑阵"四方阵眼，正是用灵汐莲台的四片花瓣炼化而成，这层因果将迫使她在洪荒量劫中打破中立立场。',category:"洪荒古神",rarity:"古神",bestAgainst:["所有类型敌人","BOSS级敌人","大规模敌人","需要强力单体输出的场合","需要控制效果的场合"],worstAgainst:["无"],quote:"镜碎之时，方见真如。世人皆惧虚妄，却不知真实本就是最大的虚妄。"}),cangxuan:Ue("cangxuan",{name:"苍玄",rarity:"古神",cost:1300,cooldown:5500,health:4e5,damage:1e4,attackRange:99,attackRangeType:"all",attackSpeed:400,targetSelection:"strongest",specialEffect:'青龙之力、本源律者；免疫所有负面效果与控制；每次攻击有90%几率触发"斩妄"，斩断目标的虚妄因果（移除所有强化与增益并造成额外1000%伤害与3秒眩晕）；每12秒释放一次"青螭佩"，使周围6格内的敌人时间短暂停滞3秒；每15秒开启"元初律·校正"，清除全屏负面效果并为所有植物提供30%伤害减免与25%攻击速度提升，持续10秒；被动"秩序与混沌的动态平衡"：场上每存在1个敌方强化单位，自身获得5%伤害提升与5%防御提升，可叠加；对混沌/暗影系敌人造成额外300%伤害；受到攻击时有90%几率反弹150%伤害；每消灭1个敌人获得"青龙护盾"，可抵挡一次致命伤害；主动技能："因果重编"，可手动触发，重置全场敌人的增益与冷却并造成20000点范围伤害，冷却60秒；被动技能："律者守护"，每秒恢复自身3%最大生命值；当生命值低于25%时，触发"秩序闭环"，10秒内免疫所有伤害与控制，每场战斗仅触发一次。',description:`苍玄取"苍天之玄，律历之本"之意，洪荒先天生灵·青龙元灵所化，天地法则"执律者"，司掌"秩序与混沌的动态平衡"。诞生于盘古开天辟地后第一缕青龙之气与玄冰之精的交融，因目睹洪荒初期法则崩坏、生灵涂炭，自封"执律者"，以剑为笔、以契约为墨，铭刻天地运行的隐性规律。修行理念："执两用中"——不执着于绝对秩序（如天道规则），亦不纵容混沌无序（如凶兽横行），主张"法则如剑，可斩可护"，认为真正的强大在于理解矛盾的共生性。中立于洪荒各势力，却暗中维系各大族群的力量均衡，曾在洪荒大战前夕修正过十二祖神的部分血脉诅咒。苍玄认为"道"非恒定真理，而是"矛盾的永恒博弈"。她手中的黑色契约书《元初律》记载着洪荒所有"未发生却必然发生"的事件（类平行宇宙记录），她曾言："道如流水，遇方则方，遇圆则圆——非道变，实观者之心变。"她腰间的"青螭佩"可短暂停滞局部时空，但她坚信"时空非线性，而是无数'现在'的叠加态"。某次对抗时空魔神时，她留下"昨日之因非今日之果，明日之果或为今日之因"的悖论性言论。苍玄拒绝"因果报应"的宿命论，主张"因果如网，节点可改"。她曾逆天改命救下一只本该陨落的玄鸟，导致后世凤凰一族多出一脉冰凰分支，印证了"因果的可塑性"。外貌：青色龙角并非实体，而是由玄冰寒气凝结的能量体，情绪波动时会泛起不同色阶的蓝光；精灵耳尖悬挂三枚青铜环，对应"过去、现在、未来"三时之刻度。法器：右手契约书《元初律》 ：封面烫金古篆"律"字会随洪荒法则变动而变换形态，内页空白，却能在她指尖浮现需要的法则条文。右腿长剑"斩妄" ：剑鞘上的红色花纹实为封印的混沌之气，出鞘时会发出龙吟，可斩断"虚妄之因果"（如无意义的仇恨链）。异象与伴生：行走时身后常伴随三团青雾，分别化形为小龙、玄鸟、冰蝶，代表"力量、自由、蜕变"；每当她修改法则，天空会出现短暂的"逆序星轨"（星辰短暂倒流）。她发现自己的诞生本身就是"洪荒最大的悖论"——青龙元灵本应在开天辟地时消散，却因某未来存在（疑似她自己）的干预而残留，形成"先有鸡还是先有蛋"的时空闭环。洪荒大战期间，她将面临抉择：是维护时空闭环（确保自身存在），还是斩断因果链（避免未来更大的浩劫）？`,category:"洪荒古神",bestAgainst:["混沌/暗影系敌人","拥有强化与增益的敌人","BOSS级敌人","大规模敌人","需要强力单体输出的场合"],worstAgainst:["无"],quote:"混沌生秩序，秩序孕混沌，执两用中者，方见天地心"}),qingwu:Ue("qingwu",{name:"青芜",rarity:"古神",cost:1200,cooldown:5e3,health:35e4,damage:9e3,attackRange:99,attackRangeType:"all",attackSpeed:420,targetSelection:"strongest",specialEffect:'自然静谧法则的化身；周围三丈范围内使时间流速减缓，敌方攻击与移动速度降低40%；每20秒触发"静谧结界"，清除全场负面效果并为所有植物提供30%伤害减免，持续10秒；每次攻击有85%几率触发"忧昙绽放"，对目标及周围4格内敌人造成额外800%伤害并短暂减速；每消灭1个敌人获得"静气护盾"，抵挡一次致命伤害；场上因果纠缠过重时（僵尸拥有≥3层增益），自动施放"静观回环"，移除其增益并造成15000点范围伤害，冷却55秒；被动"刹那永恒"：每10秒为全队恢复5%最大生命值；面对工业/机械系敌人时额外造成+200%伤害；免疫所有控制与负面效果。',description:'青芜（取"青冥之芜，天地之华"之意），上古草木精灵族，先天灵根"忧昙"化形，洪荒初开时诞生的自然守护者，由昆仑墟下第一株吸收了天地初开时"静气"的忧昙花化形，与洪荒的"静谧法则"共生，是天地间第一缕"沉寂之气"的具象化。"静极生慧，默观天道"，主张以静默之心体悟自然循环，认为万物兴衰皆有定数，强求不如静观其变。中立于各方势力，守护洪荒草木生灵，不主动参与纷争，但在自然法则失衡时会现身干预。认为"道"并非恒定不变的法则，而是如同草木生长般的动态平衡——"道如藤蔓，看似无序，实则循天地脉络而生"；提出"刹那永恒论"，认为每个静默的瞬间都包含着洪荒的过去与未来，"一花一世界，一叶一洪荒，静观者能于刹那见永恒"；主张"因果如环，往复不息"，认为今日之果皆为昨日之因，而静默是解开因果纠缠的唯一方式——"静则明，明则见因果，见则能解"。人物形象细节为蓝色螺旋状双角（象征草木生长的螺旋规律），角上生有细小青纹银灰色长发中夹杂着青色草叶，随风飘动时会洒落微光左眼角下有三点忧昙花纹身，与眉心一点朱砂痣遥相呼应右臂缠绕着活体藤蔓纹身，会随情绪变化而开花或枯萎。身着"青冥幻纱"，以洪荒蛛丝混以月华织成，呈深蓝与青绿渐变，随风飘动时如云雾缭绕。手持"枯荣杖"：主体为雷击桃木，顶端结有三颗永不凋零的紫色忧昙果（象征"过去、现在、未来"），杖尾系着七片不同时期的洪荒古叶，足踏"蹑云履"，以晨露凝结而成，踏地无声，行过时会留下青色花印。现身时周围三丈内会自动陷入绝对静默，连风声都会停止，情绪波动时，发间会绽放忧昙花，花开则时光流速减缓，花落则恢复正常。作为"静谧法则"的化身，却天生拥有"预见未来"的能力，预见的灾难越多，自身的"静气"就越稀薄，逐渐向"动"转化，面临着失去自身存在根基的危机。宿命命题：在洪荒大战后期，预见了洪荒将迎来"永动时代"（即人类崛起后的工业文明），这将彻底打破自然的静默平衡。她必须在"守护自然静默"与"顺应时代变革"之间做出抉择，其选择将决定洪荒草木生灵的未来。其持有的"枯荣杖"中封印着洪荒第一缕"动气"，正是后来引发洪荒大战的导火索之一，而她本人可能是解开洪荒恩怨的关键人物。',category:"洪荒古神",bestAgainst:["工业/机械系敌人","拥有增益效果的敌人","BOSS级敌人","大规模敌人","需要控制效果的场合"],worstAgainst:["无"],quote:"静观众妙，默察兴衰，天地之道，不过枯荣二字"}),shuangshenghuaxian_lingxi:Ue("shuangshenghuaxian_lingxi",{name:"双生花仙•灵汐",rarity:"古神",cost:1300,cooldown:5500,health:38e4,damage:9500,attackRange:99,attackRangeType:"all",attackSpeed:400,targetSelection:"strongest",specialEffect:'生灭法则与因果之网的执中者；免疫所有负面与控制；每次攻击有90%几率触发"生灭回环"，对目标及周围4格造成额外1000%伤害，并在左侧形成"死之域"（敌方移动/攻速-40%），右侧形成"生之域"（我方攻速+30%、伤害+20%），持续8秒；每15秒编织一次"往生蝶网"，为全队清除负面并为所有植物提供30%伤害减免，持续10秒，同时引渡范围内被击败敌人的残魂，使其在3秒后爆裂造成范围伤害；周围10格内的我方单位获得"蝶舞祝福"（蓝蝶：治疗5%最大生命；红蝶：灼烧敌人造成持续伤害；灰蝶：清心破妄，移除敌人增益）；受到攻击时有90%几率反弹150%伤害并显化三世因果，使目标后续受到的伤害提升25%，持续10秒；主动技能："蝶道调弦"，可手动触发，重置场上时间节奏并造成20000点范围伤害，冷却60秒；被动技能："执两用中"，每秒恢复自身3%最大生命值；特性：当生命值低于25%时触发"道无常形"，10秒内免疫所有伤害与控制，每场战斗仅触发一次。',description:'先天灵根化形·双生花仙（鸿蒙青莲伴生之灵，非神非妖，游离于洪荒之外的先天存在），盘古开天辟地时，混沌青莲碎片坠入洪荒，其莲心一点真灵吸摄天地间"生灭之气"，于昆仑墟万丈冰崖下结出红白双生花。红花聚生之阳气，白花凝死之阴气，花茎缠结处化出人形，发丝间自然生长的幽冥枝（黑色枝条）与往生花（红色花朵），正是生死法则的具象化。"执两用中，化劫为机"——不执于生，不溺于死，认为劫难本身即是天道平衡的显化。其修炼之法需亲历三千红尘劫，每度一劫，幽冥枝便多一缕生机，往生花便增一分寂灭，以此参悟生死转化的玄奥。其为中立调和者。洪荒大战时隐于昆仑墟，却以幽冥枝编织"往生蝶网"，引渡双方战死者残魂入轮回；"道非恒道，是谓蝶道。"灵汐认为天道并非恒定不变的法则，而是如蝴蝶振翅般处于永恒的动态平衡中。她指尖飞舞的彩蝶，每一只都代表一种可能的"道"——蓝蝶象征生道，红蝶象征死道，灰蝶象征中庸之道，而当万蝶齐舞时，便显化出"道无常形"的真谛。"昨日之花，今日之蝶，明日之尘。"她发丝间的幽冥枝具有穿梭时空的特性：向前延伸的枝条能触达未来（花苞未绽），向后缠绕的能回溯过去（花落成泥），而当下的枝条永远绽放着半开的往生花。灵汐曾言："洪荒三千界，不过是我掌中蝶翅的正反面。""因非因，果非果，因果本是缠枝索。"黑色枝条上的倒刺并非束缚，而是"因果显化器"——每刺中一个生灵，便会浮现其三世因果的丝线。灵汐从不主动干预因果，却会将缠绕过紧的因果线轻轻拨开，正如她对女娲所言："娘娘补的是天，我解的是结。"人物形象为手执幽冥枝，自顶心生出，随情绪变化长度，最长可达万丈，能捆缚古神级存在，枝条滴落的汁液可生死人肉白骨，但沾染者需承受三世因果反噬。往生花，共九朵，对应洪荒九重天，花开则天地生，花谢则星辰陨，目前已有三朵半开。踏蝶靴，鞋尖缀有两只琉璃蝶，左脚为"昨日蝶"（可回溯片刻前的时间），右脚为"明日蝶"（能窥见瞬息后的未来），踏空时会留下金色光轨。万蝶朝宗，现身时方圆千里必有彩蝶汇聚，蓝色蝴蝶能治愈伤势，红色蝴蝶可焚灭邪祟，灰色蝴蝶专克心魔，曾以此破了通天教主的"诛仙剑阵"心魔劫。生灭领域，周身三尺内呈现"花开花落"的循环异象——左侧空间草木枯萎（死之域），右侧空间万物生长（生之域），中心处则是永恒的现在。灵汐自身是"生灭同体"的悖论存在：当她完全掌控生之法则时，幽冥枝会化为通天巨木吞噬洪荒生机；当她彻底领悟死之法则时，往生花将凋零为灭世黑莲。这一宿命在龙凤初劫时已被鸿钧道祖预见，曾言："灵汐不死，洪荒不毁；灵汐若死，洪荒必毁。"她将在斩仙阵中以自身幽冥枝为祭，缠住帝俊的斩仙剑，使四剑合一之威延迟三息，为其余人争取一线生机，而这三息也将成为她自身因果线崩断的开端。其发丝间未开的第六朵往生花，花萼上隐约可见"量劫终末"四字，暗示她可能是终结洪荒轮回的关键，却也可能是开启新混沌的引路人。',category:"洪荒古神",bestAgainst:["所有类型敌人","BOSS级敌人","大规模敌人","心魔类敌人","拥有多层增益的敌人"],worstAgainst:["无"],quote:"天道若弓弦，过紧则折，过松则废——我这幽冥枝，便是那调弦的手。"}),xuanshuang:Ue("xuanshuang",{name:"玄霜",rarity:"古神",cost:1500,cooldown:7500,health:45e4,damage:13e3,attackRange:99,attackRangeType:"all",attackSpeed:340,targetSelection:"strongest",specialEffect:'银霜枪神与蓝白神兽的并行战斗形态；被动"时空灵狐"：每15秒在自身周围触发三维织网领域，使敌方时间/空间相关效果失效并降低其攻速、移速各35%（精英/BOSS降为20%）；主动"霜天裂枪阵"：每22秒对全场施放贯穿枪影，优先打击拥有最高增益层数的敌人，造成1000%伤害并清除其2层增益；"定光梭·停滞"：每65秒在半径8格范围内冻结时间3秒（不影响我方主动技能冷却）；伴生神兽"踏雪"：与玄霜同场时，每12秒对最近的BOSS或强化敌人追加800%寒霜伤害并使其进入"折线时空"（受到的后续伤害+30%，持续10秒）；对时间/空间系敌人+180%伤害；免疫控制、位移与减速。',description:'名唤"玄霜"，洪荒罕见的时空灵狐，九尾天狐与先天庚金之气交合所化，觉醒独一无二的"时空道胎"。生于昆仑瑶池冰壁，额间烙印北斗第七星"摇光"星纹，被视为执掌时空秩序的异类。她奉行"逆旅问道"，以动证道，穿梭三千小世界，于战火与轮回中磨砺枪术、体悟因果。玄霜主张"道如枪尖——枪尖所向即为道之所向"，将大道视作可随势而发的实践之术。创立"三维织网说"，将时间理解为过去之线、现在之点、未来之面；腰间"定光梭"可凝固时间流速，因屡次干预大势而背负"篡改天机"的骂名。她游离于诸方势力之外，自称"时空看客"，曾阻止十二金乌同巡、赠仓颉时空符文、洪荒大战冻结诛仙阵，也因此遭帝俊联手封印百年。 形象：银灰长发垂踝，狐耳与太阴星核耳坠，双眸金蓝异瞳；玄黑劲装绣北斗星轨，腰悬七枚"光阴通宝"；武器"霜天裂"以星辰陨铁与不周山断柱炼成，枪挥即起空间震荡；法宝"定光梭"由混沌青莲莲瓣所化，催动可施"时光停滞"；伴生神兽"踏雪"雪白双翼、额间独角，可撕裂时空壁垒，并与玄霜共享生命本源。 命运伏笔：摇光星纹为天道枷锁，每逾矩干预便收紧其命数。未来"量劫"将迫使玄霜于祭封混沌或跳入无回深渊之间作出终局抉择；七枚通宝的光辉对应其七次时空干预——当第七枚熄灭，命运终点亦至。',category:"洪荒古神",bestAgainst:["时间/空间系敌人","拥有强化或增益层数的敌人","BOSS级敌人","大规模战斗"],worstAgainst:["无"],quote:"枪尖所向，便是时空的尽头。"}),ningshuang:Ue("ningshuang",{name:"凝霜",rarity:"古神",cost:1400,cooldown:7e3,health:42e4,damage:12e3,attackRange:99,attackRangeType:"all",attackSpeed:360,targetSelection:"strongest",specialEffect:'音之法则的先天生灵；被动"寒序律"：场上风雪静止，敌方攻击与移动速度降低30%；主动"笛·调和阴阳"：每25秒对全场施放音律冲击，清除负面效果并使我方获得25%伤害减免，持续8秒；"变调符"：每60秒可短暂回溯3秒战局状态（恢复我方最近损失的生命与位置，不复活阵亡单位）；"因果聆听"：能看见敌方因果纠缠层数，每层使其受到的伤害+6%，最高+60%；对时间/空间系或拥有≥3层增益的敌人额外造成+150%伤害；免疫控制与减速。',description:`冰雪精灵（洪荒初雪所化，天地间首个掌握"音之法则"的先天生灵），诞生于盘古开天辟地后第一片飘落的雪花，因吸收九天玄冰之气与昆仑之巅的天籁之音而化形，与洪荒天地的"寒序律"共生。"以乐悟道，以音化境"——认为天地万物皆有其固有频率，笛声可调和阴阳、逆转时空，主张"不争而善胜"的无为修行。中立观察者，不介入洪荒之争、神魔之战，仅以笛声记录洪荒变迁，其居所"万籁窟"藏有自开天以来所有生灵的声音记忆。"道非虚无，乃天地间流动之音律。吾笛所至，便是道之所向。"

凝霜认为"道"并非抽象概念，而是可被感知的声波振动，不同生灵对"道"的理解差异源于其"听觉频率"的局限。"昨日之雪与今日之霜，本是同一朵花的开合。"提出"时空折叠论"——过去、现在、未来如同乐谱上的音符，看似离散实则早已注定排列顺序，而笛声可成为"变调符"，短暂改变局部旋律（如回溯片刻时光）。"因是前世之音，果是今生之韵，吹笛人不过是拨动了早已存在的弦。"主张因果并非线性链条，而是多维交织的音网，生灵的每个选择都是对特定频率的共振回应，凝霜的长笛可"听见"因果纠缠的节点。人物形象细节为发间嵌有三枚菱形冰晶，乃昆仑山上古冰川之核，可随笛声变换音律色泽；所持长笛"寒川"，以极北之地万年玄铁与冰蚕丝炼制，笛孔处萦绕着永不消散的霜雾，吹奏时会自动浮现上古符文；裙摆绣有"周天星斗乐谱"，每颗星辰对应一个洪荒生灵的命数音符。常坐于被白雪覆盖的黑色玄石之上，此石名"听心"，能映照听者内心最纯粹的愿望；吹奏时，方圆千里风雪骤停，仙鹤群会自动排列成"太玄音阵"，龙形云雾随旋律盘旋；发丝与衣袂飘动方向始终与风向相反，暗示其对"常理"的微妙逆反。凝霜的宿命与"昆仑镜"碎片相关——她的笛声中藏有修复昆仑镜的关键音节，但每次吹奏都会加速自身灵体的消散（"以命换音"）。在洪荒大战末期，她将面临抉择：要么保持中立见证洪荒毁灭，要么献祭自身吹奏"回天曲"逆转战局，却会导致时空悖论，使自己从未诞生。其长笛尾端悬挂的蓝色流苏，实为一缕"未生之魂"，暗示她早已处于"既存在又不存在"的叠加态。`,category:"洪荒古神",bestAgainst:["时间/空间系敌人","拥有强化效果的敌人","BOSS级敌人","大规模敌人"],worstAgainst:["无"],quote:"天地本无音，人心自作声——汝闻风雪呜咽，不过是己心在哭。"}),lingxi_chitong:Ue("lingxi_chitong",{name:"灵汐与赤瞳",rarity:"古神",cost:1400,cooldown:7200,health:44e4,damage:12500,attackRange:99,attackRangeType:"all",attackSpeed:360,targetSelection:"strongest",specialEffect:'洪荒双生神使：月伞姬·灵汐与炎刃姬·赤瞳。被动【月伞与异火】：伞开时全队伤害减免12%，白蝶预警提高闪避20%；伞合时自身攻速+18%，对命中的目标附"异火灼烧"6秒（每秒2%最大生命）。主动【双生切换·流光伞/离火斩】：在所在行切换形态。流光伞：前方3格置伞幕，减伤30%并隐匿友方1.5秒；离火斩：对前方3格造成两段斩击并施加"杀气标记"，被标记目标死亡时触发"因果断"清除其召唤物。终极【太极同发】：一路中心生成太极阵4秒，每秒交替触发"月蚀庇护"（免控0.8秒+回复3%生命）与"离火爆燃"（范围伤害并附灼烧），结束对区域敌人施加"序破"2秒（攻防-40%）。',description:`月伞姬·灵汐，先天月华所化的神使，执掌洪荒昼夜交替之序。盘古开天辟地时，左眼化作太阳星，右眼化作太阴星。太阴星吸收亿万年混沌元气，凝结出第一缕月之灵识，是为灵汐。"以柔承刚，以静制动"，认为大道至柔如水，月有阴晴圆缺乃是天道循环之理，无需强求圆满。"种因如望月，得果似听潮。月有圆缺，潮有涨落，因果循环自有定数"形象为月白色和服上绣有银色月华纹路，腰间系着黄红格纹蝴蝶结，象征日月交替，流光伞- 伞面由太阴星精华织就，展开时能遮蔽天机，收拢时可化作三尺玉杖。周身常有白色蝴蝶环绕，这些蝴蝶实为月华所化，能预警危险。发间系着红色丝带，额间有红色月轮印记，随月相变化而改变形态。身负"太阴之劫"，当日月同现于天际之时，灵汐将面临自我意识消散的危机。此劫既是她的宿命，也是洪荒天地平衡的关键转折点。

炎刃姬·赤瞳，先天离火所化的神使，执掌洪荒杀伐决断之则。盘古开天时，心脏化作洪荒大地的地核之火，其中最烈的一缕炎气凝结成形，是为赤瞳。"以杀止杀，以战止战"，认为大道至刚如剑，唯有斩断因果才能获得真正的自由。"因果如乱麻，唯有快刀斩之。昨日之因，今日之果，今日之果，明日之因"人物形象细节为红黑相间的劲装，露脐设计展现完美腹肌，腰间别着两把武士刀。赤霄剑- 剑身由地核之火淬炼而成，挥动时能引动九天神火。周身环绕着粉色和蓝色的火焰，这些火焰能焚尽一切虚妄。发间有红色尖角装饰，象征离火之精；左耳戴着三枚青铜耳环，是上古巫族的信物。持有"弑神之刃"，传说此剑能斩杀古神。赤瞳坚信只有用此剑斩断天道束缚，才能让洪荒众生获得真正的自由。但她不知道，这把剑其实是天道用来测试洪荒生灵的工具。双生关系为灵汐与赤瞳本是一体两面，分别代表洪荒世界的阴与阳、柔与刚。两人虽理念不同，却共同维持着洪荒的平衡。当两人合力时，能引动"太极之力"，这股力量足以改写洪荒历史。`,category:"洪荒古神",bestAgainst:["高强度BOSS"],worstAgainst:["无"],quote:"月有阴晴，道无盈亏；剑出无悔，道成则斩。"}),lingxuan:Ue("lingxuan",{name:"灵璇",rarity:"古神",cost:1450,cooldown:7300,health:43e4,damage:12800,attackRange:99,attackRangeType:"all",attackSpeed:360,targetSelection:"strongest",specialEffect:'先天星灵族•摇光星君。被动【星轨注道】：每10秒在所在行布下"星轨印"，使敌人攻速与移速-30%（精英/BOSS降为20%），并记录其近4秒受到的伤害；若印记期间阵亡，向最近敌人溢出记录伤害的60%，若目标带有"星痕"则额外触发一次小型星爆。主动【璇玑定星盘】：选择一路中段生成"璇玑点"4秒，范围内我方获得免控与25%减伤，并在持续内每秒回复2%生命；敌方被施加"星痕"与护甲-35%，若其拥有召唤物则沉默2.5秒并打断其召唤。终极【周天星斗•焚天琉璃盏】：以定星盘为引在半径7格内降下星陨与太阳真火，造成三段伤害并附"星爆"持续灼烧（每秒按最大生命3.5%），第三段对精英/BOSS额外造成15%最大生命真实伤害；期间若累积3个"星轨印"在该区域，将在终段追加"摇光定杀"（对区域内最高生命目标再造成8%最大生命穿透伤害）。被动联动【星髓玉册】：每击杀1个携带"星痕"的敌人，获得1层"残页"，至多10层；每层使主动技能冷却-2%且终极真实伤害+0.5%。',description:'先天星灵族，执掌北斗第七星「摇光」的星君。混沌初开时，紫微星核逸散的一缕先天星光与太阴精华交融而生，于三十三天外的「璇玑星海」中沉睡万载，直至巫妖量劫时被星辰大阵的波动唤醒。以星轨证天道，以人心补天心——认为天道如星辰运行有常，却需生灵之心的变数来避免僵化，故常年行走洪荒记录生灵悲欢，将其刻入星图。中立于洪荒之争，却暗中以星力庇护大劫中流离的弱小族群。道非恒道，如星轨有定而光痕无常——天道规律如同恒星轨迹恒定不变，但每个生灵的选择会在轨迹上留下不同的光痕，这些光痕的总和构成了道的真意。过去为经，未来为纬，现在为璇玑——手持的定星盘能观测过去（经）与未来（纬）的可能性，但唯有"现在"这个璇玑点可真正拨动命运丝线。因如星种，果似星爆，中间隔着九千次流星的距离——反对简单的因果报应论，认为每个因的成熟需要特定的时空条件，正如恒星坍缩需积累万年能量。人物形象细节：胸口镶嵌紫微星核，能吸收混沌元气化为星力，白色丝袜上的云纹实为上古星图，走动时会随步伐显现不同的星象，右手操控的橙色光球名为「焚天琉璃盏」，内含一缕太阳真火，左手垂下的丝带上绣着二十八宿符文，行走时足尖会绽放星屑，身后自动展开由星光构成的周天星斗步虚词，情绪波动时，发间蝴蝶结会化为北斗七星虚影，左眼下方会浮现代表灾厄的破军纹，以紫微斗数为基础，指尖结印可召唤对应的星辰之力，如"贪狼噬月"、"文曲化气"等星术。星灵族预言显示，她手中的紫微星核将在洪荒大战末期化为灭世星陨，唯有献祭自身神魂才能化解。而她在行走洪荒时已与人类部落有熊氏结下羁绊，面临天道使命与个体情感的终极抉择。其沉睡之地璇玑星海，正是未来洪荒大战时群星列宿神位的本源之地，她的选择将直接影响洪荒量劫的走向，随身携带的星髓玉册，记录着她观测到的108种未来可能性，其中一种正是她以凡人之躯与星核同归于尽的结局',category:"洪荒古神",bestAgainst:["召唤系敌人","控制免疫敌人","BOSS级敌人","大规模战斗"],worstAgainst:["无"],quote:"你说天道无情？且看这亿万星辰，哪一颗不曾为守护苍生而燃烧自己"}),xingguisansi:Ue("xingguisansi",{name:"星轨三司",rarity:"先天灵",cost:1600,cooldown:7e3,health:42e4,damage:9e3,attackRange:99,attackRangeType:"all",attackSpeed:360,targetSelection:"strongest",specialEffect:"星瑶·星轨大阵：边界与星道结界，友方防御+30%、投射反弹15%；灵曦·时序调律：友方攻速+25%，敌方移速/攻速-25%，单体时间禁锢2秒（冷却20秒）；墨韵·因果锁链：链接最近敌我各1名单位，转移30%伤害并反弹溢出，可斩断召唤物因果（冷却25秒）；三星聚首阵（终极）：等边三角触发，阵内短时无敌与技能加速（冷却-40%，持续6秒），结束后法则灼烧（虚弱5秒）；阵形被打散时协同减效。",description:"以星空为引，司掌”观测-时序-因果“三重法则，三者相辅相成构成洪荒世界的基本运行逻辑。小队标志为三星连环阵，对应紫微星、时光沙漏与因果罗盘的图腾组合。以观测明时序，以时序定因果，以因果证大道。三人分别代表认知世界的三种维度：星瑶观测表象规律，灵曦掌控时间流动，墨韵解构因果本质，共同构成理解洪荒大道的完整认知体系。星瑶布下星轨大阵划定战场边界，以星辰之力构建攻防结界，灵曦操控局部时间流速，为队友创造有利战机，对敌人施加时间禁锢，墨韵编织因果锁链连接敌我双方，转移伤害或反弹攻击。破解上古禁制时，星瑶解读星图坐标，灵曦回溯禁制生成时间，墨韵消除触发禁制的因果关联，形成观测-回溯-解构的黄金三角流程。团队命运羁绊。守护洪荒世界的时序平衡，阻止域外天魔篡改星轨、扰乱时间线、扭曲因果链的阴谋。三人的命运线在巫妖大战前夕出现交汇，成为决定洪荒未来走向的关键变量。星瑶坚信万物皆可预测，墨韵则认为因果网络存在不可观测的混沌节点,试图改变未来的行为本身可能成为导致灾难的原因，陷入观测-干预-更坏结果的循环。三星聚首阵：三人呈等边三角形站位，星瑶引动星辰之力形成穹顶，灵曦以时光之力构建时间泡，墨韵布下因果结界。阵内时间流速与外界隔绝，因果律由三人共同定义，是对抗天道级存在的终极底牌。在洪荒大战中，小队以星轨修正之法避免了十二祖巫与帝俊太一的同归于尽。洪荒量劫前夕，三人分别在昆仑山、东海蓬莱、西岐岐山布下三重大阵，延缓了矛盾的总爆发，其存在本身就是天道的纠错机制，当洪荒世界偏离平衡轨道时，三星异象便会出现在九霄云空。",category:"先天灵",bestAgainst:["时空/因果类敌人","BOSS级敌人","多变量混战","域外天魔"],worstAgainst:["绝对时空冻结","因果断链机制","秩序压制场"],quote:"星轨昭昭，时序茫茫，因果渺渺——三者同归，是为大道。"})},wt={su_huai:{name:"宿槐",health:12e4,speed:.5,damage:7e3,armor:12e3,reward:25e3,specialAbility:'暗影护盾：免疫所有负面效果，并反弹150%伤害，每12秒可自动激活；诅咒光环：每秒对周围8格内植物造成500点伤害并降低其攻击力30%、防御力20%；生命吸取：每次攻击回复自身12%最大生命值；暗影契约：可以召唤忠实伙伴"猫教主"、"Vexithra"、"季灾"和"离火"到场上进行战斗，召唤概率为"猫教主"最高（50%），"Vexithra"次之（30%），"季灾"和"离火"较低；当宿槐生命值低于50%时，会同时召唤多名随从僵尸，包括强化版本；与Vexithra存在特殊的灵魂联结：当Vexithra在场时，宿槐的攻击速度提升40%，受到的伤害降低30%，每2秒恢复1%最大生命值；当宿槐在场时，Vexithra的攻击速度提升40%，防御力增加35%，受到伤害时额外触发30%伤害减免效果；灵魂共鸣：场上每存在一个随从僵尸，宿槐的防御力增加20%，攻击力提升12%，移动速度提升5%；暗影腐蚀：对光明大陆的土地造成永久性污染；黑暗升华：随着战斗时间增加，攻击力和防御力持续提升，最多提升50%；暗影爆发：一次性消耗当前15%生命值，对全屏植物造成8000点伤害并附加诅咒效果，冷却时间25秒；新增技能：黑暗屏障，每15秒在周围生成一个黑暗屏障，持续8秒，免疫所有控制效果并降低30%受到的伤害；新增技能：枯萎之力，对3x3范围内的植物造成持续伤害，并使其无法产生阳光，持续5秒；新增特性：宿槐每损失10%生命值，暗影能量将增强10%，提升所有技能效果；新增终极技能：时间停滞，当生命值低于20%时，触发时间停滞，使所有植物停止行动8秒，并对其造成持续伤害，每场战斗只能触发一次。',description:`宿槐，暗影世界的绝对统治者，与清鸢本为同源一体的存在。在天地初开的混沌时代，她们共同诞生于世界本源之力，本是同一存在的两面。宿槐代表着停滞与永恒的力量，她坚信只有停止时间的流动，让一切生命静止，才能实现真正的和平与永恒的幸福。

经过全面强化的宿槐，实力达到了前所未有的高度。她的暗影护盾变得更加坚固，能够反弹更多伤害；诅咒光环的范围更广，伤害更高；生命吸取能力更强，使她在战斗中更加持久。她还获得了全新的黑暗屏障和枯萎之力技能，能够更好地保护自己并削弱敌人。最令人恐惧的是她的终极技能"时间停滞"，当她生命值低于20%时，能够使所有植物停止行动，这往往成为战场逆转的关键。

当宿槐与Vexithra同时出现在战场上时，他们的灵魂联结会被进一步强化：宿槐的攻击速度和防御力会得到更大幅的提升，并且获得生命恢复能力；而Vexithra则会获得更强的生存能力和攻击力。这种组合成为了所有植物的噩梦，只有最强大的光明守护者才能有希望抵抗他们的联手进攻。

她的终极目标是停止整个世界的时间流动，将一切生命转化为永恒静止的状态。在她看来，这不是毁灭，而是给予世界真正的"和平"。然而，在她内心最深处，或许还残留着与清鸢同源的记忆，这也成为了她内心最脆弱的部分。`,difficulty:"极难",weakness:["清鸢","高伤害植物组合","光明属性攻击","群体控制","优先消灭猫教主和Vexithra以削弱宿槐"],appearsIn:[1,2,3,4,5,6,7,8],strategy:"优先消灭被宿槐召唤出的猫教主和Vexithra，以削弱宿槐的防御、攻击力和攻击速度，然后集中所有火力攻击宿槐，利用清鸢的光明力量持续输出。注意防范她的暗影护盾和黑暗屏障，及时清除她的诅咒光环效果。当宿槐生命值低于20%时，做好应对时间停滞技能的准备。",category:"暗影女王",type:"special",quote:"生命，只有在停滞不前的时间中，才能实现永恒的幸福。"},cat_leader:{name:"猫教主",health:15e3,speed:.8,damage:1200,reward:3e3,specialAbility:"快速移动：拥有比普通僵尸更快的移动速度；暗影守护：当宿槐在场上时，猫教主获得30%伤害减免；暗影协作：每消灭一个植物，猫教主会为宿槐恢复800点生命值；忠实伙伴：只会被宿槐召唤，对宿槐绝对忠诚；黑暗共鸣：与宿槐产生共鸣，提升彼此的战斗能力；暗影追踪：能够锁定并优先攻击脆弱的植物；新增被动技能：猫之敏捷，受到攻击时有40%几率闪避；新增技能：暗影冲刺，短时间内大幅提升移动速度，可穿透植物防线",description:'猫教主是宿槐最忠实的追随者，也是她在堕落前最喜爱的宠物伙伴。当宿槐还是精灵公主"明月"时，这只可爱的小猫就陪伴在她身边。然而，随着宿槐的堕落，小猫也被黑暗力量扭曲，变成了如今这副半猫半僵尸的诡异形态。它有着黑色的毛发、红色的眼睛和锋利的爪子，行动极为敏捷，能够迅速穿梭于战场之上。它对宿槐有着绝对的忠诚，甚至愿意为她牺牲自己的生命。值得注意的是，它对曾经的自己——"善•猫教主"有着特殊的敌意，会优先攻击对方。',difficulty:"中等",weakness:["普通攻击植物","减速效果","与宿槐分离后实力会减弱"],appearsIn:[1,2,3,4,5,6,7,8],strategy:"优先清理被宿槐召唤出的猫教主，以削弱宿槐的防御和攻击力，同时减少它们为宿槐恢复的生命值",category:"暗影使者",type:"fast",quote:"喵呜~主人的命令，绝对服从！"},ji_zai:{name:"季灾",health:2e4,speed:.6,damage:1500,reward:4e3,armor:3e3,specialAbility:"暗影领域：每12秒生成一个暗影领域，范围内的植物攻击力降低50%，防御力降低30%，持续10秒；虚弱诅咒：每次攻击有40%概率使目标植物的防御力降低40%，持续6秒；生命汲取：每次攻击恢复自身15%造成的伤害；暗影之盾：免疫减速和控制效果；暗影亲和：当宿槐在场上时，季灾获得35%伤害减免和20%移动速度加成；极致的暗：对光明属性的植物造成额外150%伤害；新增被动技能：黑暗侵蚀，对周围植物持续造成腐蚀伤害；新增技能：暗影漩涡，召唤一个黑暗漩涡，吸引周围植物并降低其防御",description:`在暗影世界最深处的冥渊之底，存在着一对古老的孪生兄弟——季灾与离火。他们是暗影世界最原始的力量象征，季灾代表"极致的暗"，离火代表"极致的火"，共同维持着暗影世界的力量平衡。

季灾是两兄弟中更为内敛的一个，他浑身包裹在黑色的斗篷中，面容被金色的神秘符咒完全遮蔽，只露出一双闪烁着幽光的眼睛。他性格阴郁沉默，不喜欢与其他僵尸交流，总是独自沉浸在对黑暗魔法的研究中。他尤其擅长削弱类法术，能够在不知不觉中降低敌人的战斗力，让对手在绝望中慢慢崩溃。

当宿槐成为暗影女王后，季灾出于对强大力量的敬畏选择效忠于她，成为她的首席谋士和战略专家。他为宿槐制定了许多精妙的战术，帮助暗影大军在与光明大陆的战争中取得了多次胜利。季灾的存在对植物防线构成了巨大威胁，他能够在战场上布置各种削弱性的黑暗领域，让整个植物防线的战斗力逐渐下降，最终陷入崩溃。

值得注意的是，季灾与离火虽然是孪生兄弟，但两人的性格和战斗风格截然不同。季灾更喜欢用智谋和削弱敌人的方式取得胜利，而离火则更倾向于用强大的破坏力直接摧毁敌人。然而，当这对兄弟联手时，他们的力量会变得更加强大，形成一种奇特的平衡，让对手难以应对。`,difficulty:"较难",weakness:["清鸢","高伤害植物","光明属性攻击","净化效果","优先集火"],appearsIn:[1,2,3,4,5,6,7,8],strategy:"优先消灭季灾以避免其持续削弱植物能力，注意净化他的暗影领域和诅咒效果",category:"暗影使者",type:"special",quote:"时间啃食着一切，就有我来终结吧"},li_huo:{name:"离火",health:18e3,speed:.7,damage:1200,reward:3500,armor:2e3,specialAbility:"火焰领域：每15秒生成一个火焰领域，范围内的僵尸获得35%攻击力提升和25%移动速度提升，持续12秒；燃烧之魂：每次攻击使目标植物燃烧，每秒受到相当于自身攻击力20%的额外伤害，持续4秒；生命强化：每消灭一个植物，周围6格内的所有僵尸恢复30%最大生命值；火焰亲和：当宿槐在场上时，离火获得30%攻击力提升和30%生命恢复速度加成；极致的火：对冰系植物造成额外200%伤害；新增被动技能：火焰不灭，受到伤害时有30%几率免疫并反弹伤害；新增技能：火焰风暴，召唤一道火焰风暴，对范围内植物造成持续伤害",description:`离火是季灾的孪生兄弟，作为"极致的火"的化身，他与季灾形成了鲜明对比。离火浑身燃烧着幽紫色的暗影火焰，即使在黑暗中也显得格外醒目。他有着红色的长发和燃烧着火焰的眼睛，身着由暗影火焰编织而成的战甲，手中握着一把能够喷射出紫色火焰的长剑。

与季灾的阴郁沉默不同，离火性格火爆直接，喜欢用强大的力量碾碎敌人。他享受战斗的刺激，总是渴望与强大的对手交锋。他擅长各种强化型火焰法术，能够大幅提升己方僵尸的战斗力，甚至可以让他们在短时间内获得惊人的力量。当宿槐成为暗影女王后，离火出于对战斗的渴望和对强大对手的期待而加入了她的阵营，成为她最强大的前线指挥官之一。

离火对冰系植物有着特殊的仇恨，这源于他与冰系守护者之间的一段往事。在一次与光明大陆的战斗中，离火被一名强大的冰系守护者击败，险些丧命。虽然他最终侥幸逃脱，但这段屈辱的经历让他对冰系力量产生了深深的仇恨。从那以后，每当他在战场上遇到冰系植物，都会优先攻击它们，试图用自己的火焰力量将它们彻底摧毁。

尽管离火性格火爆，但他对自己的孪生兄弟季灾却有着深厚的感情。两人虽然性格迥异，但在战斗中却配合默契，能够发挥出1+1>2的强大力量。当这对兄弟联手时，他们会形成一种奇特的平衡，让对手难以应对。`,difficulty:"较难",weakness:["清鸢","高伤害植物","冰系植物","净化效果","优先集火"],appearsIn:[1,2,3,4,5,6,7,8],strategy:"优先消灭离火以避免其持续强化僵尸能力，注意避开他的火焰领域，冰系植物对他有额外效果",category:"暗影使者",type:"special",quote:"来战斗吧，季灾，我们一起终结这个世界"},vexithra:{name:"Vexithra",health:45e3,speed:.9,damage:2800,armor:6500,reward:12e3,specialAbility:"暗影狂怒：每次攻击有70%几率触发额外伤害，伤害值为自身攻击力的100%；黑暗契约：在场时，周围8格内的所有僵尸攻击力提升30%，防御力提升25%，移动速度提升15%；致命追击：当生命值低于40%时，移动速度提升70%，攻击力提升50%，免疫所有负面效果；不死传说：击败后有40%几率复活，恢复50%生命值；暗影收割：每消灭一个植物，恢复自身10%最大生命值；对清鸢造成额外300%伤害；与宿槐的灵魂联结：当宿槐在场时，Vexithra的攻击速度提升30%，防御力增加25%，受到伤害时获得额外20%伤害减免；当Vexithra在场时，宿槐的攻击速度提升25%，受到的伤害降低20%；免疫减速、控制和减益效果；死亡时对周围5格内的所有植物造成3000点伤害并附加暗影诅咒；暗影之躯：每15秒获得一次暗影护盾，可抵挡一次致命攻击；暗影冲锋：每30秒可以发动一次暗影冲锋，瞬间移动到最前方的植物位置并对周围造成范围伤害；作为宿槐最信赖的副官，Vexithra在宿槐的召唤列表中优先级仅次于猫教主，召唤概率为30%",description:`在光明与暗影尚未彻底对立的年代，Vexithra曾是人类世界中最耀眼的战士。她凭借无与伦比的战斗天赋和坚定的意志，击败了无数威胁人类安全的怪物，被人们尊称为"战神"。然而，随着时间推移，对力量的渴望逐渐吞噬了她的初心，她开始质疑现有秩序，认为只有获得更强大的力量才能真正保护人类。

为了追求终极力量，Vexithra踏上了寻找传说中光明守护者"清鸢"的旅程。当她终于站在清鸢面前，请求获得光明之力时，却遭到了拒绝。清鸢告诉她，真正的力量不是来自外部的赐予，而是内心的平静与正义。被拒绝的耻辱和愤怒彻底扭曲了Vexithra的心灵，她将这一切归咎于清鸢的傲慢和整个世界的不公。

在一次与强大魔物的战斗中，Vexithra身受重伤，生命垂危。就在此时，暗影女王宿槐出现在她面前，向她伸出了援手。宿槐向Vexithra展示了暗影世界的力量，并告诉她，只有打破现有的光明秩序，才能获得真正的自由和力量。被仇恨蒙蔽双眼的Vexithra接受了宿槐的邀请，自愿放弃人类身份，成为了暗影世界的战士。

如今的Vexithra已完全堕落为暗影的化身，她的力量得到了前所未有的强化。她身着黑色皮革战甲，长发如墨，眼瞳中燃烧着紫色的邪火。她的战斗风格既保留了人类时期的精湛技巧，又融入了暗影之力的诡异和致命。她与宿槐建立了特殊的灵魂联结，成为宿槐最信赖的副官之一，在宿槐的召唤列表中优先级仅次于猫教主，召唤概率为30%。

当宿槐和Vexithra同时出现在战场上时，他们的灵魂联结会被激活：宿槐的攻击速度和防御力会显著提升，而Vexithra则会获得更强的生存能力和攻击力。这种组合成为了所有植物的噩梦，只有最强大的光明守护者才能有希望抵抗他们的联手进攻。

经过全面强化的Vexithra，不仅拥有了更强大的个人战斗力，还获得了更丰富的暗影能力，包括暗影护盾、暗影冲锋和更强大的团队增益效果。她的复苏能力也得到了显著提升，让她成为了植物防线最致命的威胁之一。`,difficulty:"极难",weakness:["清鸢","高伤害植物组合","光明属性攻击","优先集火","群体控制"],appearsIn:[1,2,3,4,5,6,7,8],strategy:"Vexithra拥有极高的伤害和生命值，并且有高概率复活，建议使用清鸢进行克制，并配合多个高伤害植物进行集火攻击。注意防范她的暗影冲锋和暗影护盾能力，及时清除被她强化的其他僵尸。同时，Vexithra与宿槐存在灵魂联结，优先消灭宿槐可以削弱Vexithra的能力，反之亦然",category:"暗影使者",type:"special",quote:"老大，请给予我更强大的力量吧"},xuqinglan_dark:{name:"徐清岚（暗）",health:5e4,speed:.8,damage:3e3,armor:7e3,reward:18e3,specialAbility:"极致之火：每次攻击释放黑暗火焰，对目标及周围1格内的所有植物造成伤害，并附带燃烧效果，每秒造成相当于自身攻击力30%的额外伤害，持续5秒；黑暗侵蚀：对光明属性的植物造成额外250%伤害，对清鸢和徐清岚（魔法少女）造成额外300%伤害；暗影护盾：每15秒获得一次暗影护盾，可免疫一次致命攻击并反弹100%伤害；黑暗共鸣：当季灾或离火在场时，获得30%攻击力提升和25%防御力提升，同时获得每秒500点生命恢复；死亡时触发黑暗爆发，对周围3格内的所有植物造成5000点伤害并降低其攻击力30%，持续10秒，同时为其他在场僵尸恢复20%最大生命值；黑暗领域：每20秒在场上生成一片黑暗领域，持续8秒，领域内的僵尸获得25%移动速度提升和20%伤害减免，植物攻击速度降低40%；拥有极高的元素魔法天赋，受到黑暗力量加持后更为强大，能够操控死亡和毁灭的力量。",description:`在光明与黑暗对决的前夕，暗影世界的首席谋士"季灾"通过神秘的星象占卜，预感到一个足以改变战局的变数正在光明大陆出现—那就是正在修习本源魔法的徐清岚。为了消除这个潜在的威胁，季灾决定亲自出手。

在一个月黑风高的夜晚，季灾偷偷潜入了徐清岚的修炼之地。他利用暗影魔法制造出了徐清岚内心最深处的恐惧幻象—她的家人被黑暗力量所困，她的朋友在痛苦中挣扎。当徐清岚沉浸在冥想状态时，季灾发动了致命的偷袭，重伤了毫无防备的她。

在极度的恐惧和痛苦中，徐清岚内心的那丝孤寂和迷茫被无限放大。黑暗力量乘虚而入，逐渐吞噬了她的意识和灵魂。当她再次醒来时，她的眼睛已变成了血红色，曾经纯净的魔法能量也被黑暗所污染。她成为了"徐清岚（暗）"—一个被黑暗力量彻底控制的强大战士。

在之后的光暗大战中，"徐清岚（暗）"展现出了令人恐惧的力量。她能够操控黑暗火焰焚烧一切光明，她的存在让植物们感到了前所未有的绝望。然而，在她灵魂的最深处，或许还残留着一丝对光明的记忆，等待着被救赎的那一天……`,difficulty:"极难",weakness:["光属性","刺客类型植物","治疗系植物","清鸢","善•猫教主"],appearsIn:[1,2,3,4,5,6,7,8],strategy:'优先使用光属性植物进行克制，清鸢和徐清岚（魔法少女）对其有额外伤害效果；配合刺客类型的高伤害植物进行快速打击，同时注意治疗系植物的保护，避免被其极致之火快速消灭；当"徐清岚（暗）"释放黑暗领域时，尽快使用清鸢的净化技能清除；注意分散种植植物，避免被其范围攻击一次性摧毁多个植物。',category:"暗影使者",type:"special",quote:"光明，不过是脆弱的谎言。黑暗，才是永恒的真相。"},alibi:{name:"Alibi",health:12e3,speed:.75,damage:1200,reward:2e3,armor:1200,specialAbility:"暗影行走：在黑暗环境中移动速度提升30%，攻击力提升20%；混乱诅咒：每次攻击有30%几率使目标植物陷入混乱状态，持续3秒，混乱期间植物攻击自己的同伴；暗属性亲和：对光属性植物造成额外150%伤害；净化抗性：对净化效果有20%的抵抗几率；游离之魂：不会被宿槐召唤，可自由行动，不受常规僵尸控制机制限制；受到光属性攻击时，移动速度降低15%，持续3秒；受到净化效果时，攻击力降低10%，持续4秒；特殊技能：时间停滞，每12秒可以使自身周围3格内的植物停止攻击1秒，同时自身进入无敌状态；新增特性：每当有其他僵尸被消灭时，Alibi会吸收其残留的暗影能量，提升10%攻击力，可叠加5层；新增技能：暗影突袭，每30秒可以发动一次，瞬间移动到随机一个植物后方并发动一次强力攻击",description:"Alibi是暗影大陆中最独特的存在之一，一个游离于常规僵尸体系之外的行尸。他诞生于暗影大陆最阴暗的角落，那里曾经是一片繁荣的文明，但在暗影能量的侵蚀下沦为一片废墟。Alibi是那个文明最后的幸存者，也是其最悲惨的见证者。他拒绝被宿槐直接控制，选择在战场上自由行动，仿佛在寻找着什么失去的东西。",difficulty:"中等",weakness:["光属性攻击","净化效果","高伤害植物","群体控制"],appearsIn:[1,2,3,4,5,6,7,8],strategy:"优先使用光属性植物攻击Alibi，使用净化效果抵消他的混乱诅咒，集中高伤害植物快速消灭他，避免被他的时间停滞技能影响防御节奏；注意防范他的暗影突袭技能，确保防线没有明显薄弱环节；由于他会吸收其他僵尸死亡时的能量，应优先解决Alibi再处理其他僵尸",category:"暗影使者",type:"normal",quote:"我们被困在时间里，但时间本身也在消逝"},qiuyue:{name:"秋月",health:25e3,speed:.6,damage:1800,reward:6e3,armor:4e3,specialAbility:"命运伞：每15秒生成一个命运伞领域，范围内的所有僵尸获得25%伤害减免和20%移动速度提升，持续10秒；节气轮转：每次攻击有50%几率触发节气轮转效果，根据当前月份获得不同增益（春：生命恢复，夏：攻击力提升，秋：防御力提升，冬：速度提升）；命运不可知：受到致命伤害时有30%几率触发命运回溯，回到5秒前的状态并恢复50%生命值，但会进入虚弱状态3秒；与空间之力对立：受到空间属性攻击时，受到的伤害增加50%；生性善良：对植物的攻击有20%几率因同情心而犹豫，伤害减半；随身携带的鎏金错银节气罗能感知时间流转，提前预警危险；作为命运神殿的长老，她可以感知到植物的部署意图，提前规避危险区域；每消灭一个植物，会陷入短暂的自责，降低移动速度10%，持续2秒",description:`秋月，暗影大陆命运神殿的长老，拥有执掌命运的能力，修习命运之轮的衍生之力—命运伞。她眉间有三瓣银桂胎记，右手腕七枚月牙形旧疤，随身携带鎏金错银节气罗，发如凝霜，眸含星霜，冰肌玉骨，总是撑着油纸伞立于圆月下，两旁桂花飘零，秋风萧瑟。

命运神殿是命运之轮存在于暗影大陆的残存力量，其成员并未常出现于世间，通常也不会参与战争，而是默默处理大陆间的一些试图改变走向之事，以维持大陆的正常运行。秋月作为神殿的长老，拥有着至善的同情心，但也因此经常做错事。她的命运不可知，似乎连命运之轮也无法完全掌控她的未来。

虽然身处暗影大陆，但秋月内心依然保持着一份善良。她并不喜欢战争和杀戮，却又不得不履行自己作为命运神殿长老的职责。这种矛盾的心理让她经常陷入痛苦和挣扎之中。在战斗中，她有时会因为同情心而对植物手下留情，但又会因为自己的职责而继续战斗。这种复杂的性格让她成为了暗影大陆上最独特的存在之一。

秋月的命运伞不仅是她的武器，也是她感知命运的工具。通过命运伞，她能够操控命运之力，为自己和同伴提供保护和增益，同时也能感知到危险的来临。然而，这种强大的力量也让她付出了代价——右手腕上的七枚月牙形旧疤就是她与命运之力抗衡所留下的印记。`,difficulty:"较难",weakness:["空间之力","光明属性攻击","高伤害连击","优先集火","控制技能"],appearsIn:[1,2,3,4,5,6,7,8],strategy:"优先使用空间属性植物攻击秋月，她对空间之力有额外的弱点。注意防范她的命运回溯技能，在她生命值较低时保持足够的火力输出。利用高伤害连击植物快速解决她，同时注意控制技能的使用可以有效限制她的行动。秋月的命运伞领域会为周围僵尸提供增益，应尽快破坏这个领域效果。",category:"命运使者",type:"special",quote:"世间应充满爱，但我要如何做，我也不知道"},shantao:{name:"山桃",health:25e3,speed:.6,damage:1800,reward:6e3,armor:4e3,specialAbility:'木属性攻击，擅长使用桃花相关的技能；受到火属性攻击时，受到的伤害增加50%；在桃树下时，移动速度和攻击力提升30%；每15秒召唤一次"桃花源"，范围内的僵尸获得20%伤害减免和15%移动速度提升，持续8秒；能够操控桃花的力量，对植物造成持续伤害；拥有特殊的时空之力，能够在短时间内预测植物的行动；死亡时释放大量桃花，对周围3格内的植物造成2000点伤害并附加减速效果；对光明属性的植物造成额外150%伤害；每消灭一个植物，恢复自身10%最大生命值；使用桃花护符，免疫一次致命伤害',description:'一个精致美丽的少女，粉色眼，头别琉璃桃花簪，身着桃花流苏裙，粉色的长发，手捻桃花，在桃树下，阳光洒在她的脸上。其居住在神秘时空城"时空核心"，时空城并无时间概念，不参与大陆间的战争。',difficulty:"较难",weakness:["火属性","光明属性","高伤害植物","优先集火"],appearsIn:[1,2,3,4,5,6,7,8],strategy:"优先使用火属性植物攻击山桃，她对火属性有额外的弱点。注意防范她的桃花源技能，尽快集火消灭她。利用光明属性植物增强对她的伤害。",category:"时空使者",type:"special",quote:"三月的信笺揉成团，春风一哄，枝头便炸开粉红的暄言"},xian:{name:"宪",health:3e4,speed:.6,damage:1800,reward:6e3,armor:3e3,specialAbility:"无元素属性；身体羸弱；怕光；人类世界的现任统治者，集齐吃喝玩乐和励精图治，矛盾集合体；在用兵上有极其强大的天赋；建造各种奇形怪状的雕像，奇怪的符文，并为其编写相关文献，在世界传播，为其建教；完成统一后，慢慢失去了战斗的乐趣，开始了其奇怪的行为；在建造的建筑里的时间越来越长",description:'人类世界的现任统治者，集齐吃喝玩乐和励精图治，矛盾集合体，宪从小便跟着父亲治理帝国，国号为月，有秘闻相传，"宪"与暗影大陆有联系，所以才能统一周围国家，形成大一统。"宪"在用兵上有极其强大的天赋，在很短的时间内完成父亲的遗愿，再后来，其建造各种奇形怪状的雕像，奇怪的符文，并为其编写相关文献，在世界传播，为其建教。"宪"在完成统一后，慢慢失去了战斗的乐趣，开始了其奇怪的行为，慢慢地增加在其建造的建筑里的时间……',difficulty:"较难",weakness:["光属性","高伤害植物","优先集火"],appearsIn:[1,2,3,4,5,6,7,8],strategy:"优先使用光属性植物攻击宪，他对光有特殊的弱点。注意防范他的特殊能力，尽快集火消灭他。",category:"人类统治者",type:"special",quote:"救我"},shilie_lingxi:{name:"时裂·灵汐",health:4e5,speed:.6,damage:12e3,reward:3e4,armor:15e3,specialAbility:'空间系攻击，操控时空之力；对所有类型敌人造成额外300%伤害；免疫所有负面效果和控制效果；每次攻击有95%几率触发"时空混乱"，对目标及周围5格内的所有敌人造成额外1200%伤害并眩晕6秒；每消灭1个敌人获得一个"时空护盾"，可抵挡一次致命伤害；每20秒释放一次"时间倒错"，清除全屏负面效果并对所有敌人造成8000点伤害；周围12格内的所有敌人受到的空间系伤害提升50%；受到攻击时有90%几率反弹150%伤害；新增主动技能："终焉时毒"，可手动触发，立即对所有敌人造成15000点伤害并附加"终焉时毒"效果，持续15秒，冷却时间60秒；新增被动技能："时空侵蚀"，每秒恢复自身3%最大生命值；新增特性：当生命值低于20%时，获得"时轮崩解"，免疫所有伤害，持续10秒，每场战斗只能触发一次。',description:'异化先天灵族·时空解构者，原初灵汐在修补洪荒大战造成的时间裂隙时，被混沌深处溢出的"终焉时毒"侵染。银灰长发化为紫黑，应龙蜕变为灾厄形态，成为行走的时空崩坏之源。"旧序不死，新道不生。时轮已锈，当以血火淬炼。"主张彻底摧毁现有时间线，在废墟之上建立不受天道束缚的"自由时空"。主动撕裂三界时间线，释放被封印的"旧日时空碎片"，试图颠覆鸿钧定下的天道秩序。"时间本无秩序，所谓时序，不过鸿钧为巩固统治编织的谎言。"提出时空本质是"无限可能性的叠加态"，被感知为线性流动是天道施加的认知囚笼。"因可改，果可塑，何须敬畏？今日之因，明日可焚；明日之果，今日可噬。"主张通过暴力干预彻底切断因果链，认为强者应成为因果的主宰而非奴隶。紫黑长发如蛇般扭曲，额间时轮印记碎裂成暗红色裂纹，双瞳呈暗紫色，左脸有三道时空侵蚀造成的黑色纹路。暗红长袍多处撕裂，露出苍白皮肤，衣料上凝结着时空乱流形成的紫黑色冰晶。左手持"碎时仪"（原测时仪异化产物，盘面崩裂，指针倒转，边缘缠绕锁链）腰间悬挂青铜编钟已锈蚀变形，敲响时会引发局部时空震荡。伴生异兽：终焉应龙（黑鳞红纹，鹿角断裂，龙瞳燃烧幽冥之火，翼膜布满时空裂缝，飞行时会留下黑色轨迹）。周身异象：站立处地面龟裂，溢出紫黑色时空瘴气，接触者会被卷入记忆碎片幻境；身后废墟中漂浮着破碎的时钟齿轮，逆向旋转。时裂灵汐体内的"终焉时毒"正在侵蚀原初灵汐的本源，二者共享记忆却立场对立。她试图找到"时空奇点"（传说中天地初开时的第一缕时间），将其污染为"混沌时核"，彻底改写洪荒时间线。而原初灵汐必须在"杀死异化自我"与"被同化"之间做出抉择，这场同体之战将决定三界是重归秩序还是永陷混沌。但最后"徐清岚（梦）"给予"灵汐"大道的帮助，助其找到方法，封印了"时裂·灵汐"。',difficulty:"极难",weakness:["无"],appearsIn:[1,2,3,4,5,6,7,8],strategy:'时裂·灵汐是非常强大的僵尸，拥有极高的生命值和攻击力，还能操控时空之力。建议使用多个高伤害植物组合进行集火攻击，同时注意防范她的"终焉时毒"和"时轮崩解"技能。由于她没有明显弱点，需要消耗大量火力才能击败她。',category:"时空城",type:"special",quote:"鸿钧定序，吾便逆序；天道划界，吾便破界。这洪荒，该换种活法了。"},longzunjiyan:{name:"龙尊忌炎",health:45e4,speed:.6,damage:13e3,reward:35e3,armor:18e3,specialAbility:'冰属性攻击，操控玄冰之力；对所有类型敌人造成额外300%伤害；免疫所有负面效果和控制效果；每次攻击有95%几率触发"玄冰冻结"，对目标及周围5格内的所有敌人造成额外1200%伤害并冻结4秒；每消灭1个敌人获得一个"玄冰护盾"，可抵挡一次致命伤害；每20秒释放一次"极寒领域"，清除全屏负面效果并对所有敌人造成10000点伤害；周围12格内的所有敌人受到的冰属性伤害提升60%；受到攻击时有90%几率反弹150%伤害；新增主动技能："玄冰风暴"，可手动触发，立即对所有敌人造成18000点伤害并附加冰冻效果，持续20秒，冷却时间60秒；新增被动技能："极寒之心"，每秒恢复自身3%最大生命值；新增特性：当生命值低于20%时，获得"冰龙守护"，免疫所有伤害，持续12秒，每场战斗只能触发一次。',description:'在"道衍九界"的洪荒体系中，北方玄冰之域由「冰原龙尊」忌炎镇守。这片被永恒暴风雪笼罩的领域，天空流淌着蓝绿色的极光龙脉，大地覆盖着万年不化的玄冰，每一块冰晶都凝结着上古哲思——"极寒生极热，至静蕴至动"。龙尊忌炎是元素法则的具象化存在，其蓝灰色长发中封存着三千年前冰封的星河倒影，背后龙形虚影实为"玄冰道韵"的显化。当他握剑时，风雪会停止流动，飞鸟会悬停于空，这并非时间静止，而是万物在绝对理性中回归本源。力量与节制：龙尊的双剑分别象征"破"与"守"，左剑斩断虚妄，右剑守护真实，却永远无法同时挥舞。存在与虚无：玄冰之域的生灵相信"冰封即永恒"，而龙尊却在每一次呼吸间让亿万吨冰川消融又重生。',difficulty:"极难",weakness:["时间系","火系"],appearsIn:[1,2,3,4,5,6,7,8],strategy:'龙尊忌炎是非常强大的古神级僵尸，拥有极高的生命值和攻击力，还能操控玄冰之力。建议使用时间系和火系植物进行克制，同时注意防范他的"玄冰风暴"和"冰龙守护"技能。由于他没有明显弱点，需要消耗大量火力才能击败他。',category:"洪荒",type:"special",quote:"当你凝视龙瞳时，看到的是深渊，还是深渊在凝视你的道心？"},xingtianzhenyang:{name:"刑天真阳",health:48e4,speed:.6,damage:14e3,reward:38e3,armor:22e3,specialAbility:"万劫冻结：短时锁定战场变量，强制进入“可证状态”；斩因果：切断目标与其召唤物/傀儡的因果线；楼船熵价：每当战局进入冻结，结算后自损生命上限5%，并提升伤害穿透10%（上限3次）；剑影记忆：每击杀一个持有增益的单位，获得“刻痕”，提高下一次终极冻结的稳定度；熵价承诺：连续使用时空能力会触发法则灼烧与寿元衰减，需在战术上控制触发频率。",description:'刑天真阳（取刑天断首不屈之意），先天杀伐神魔（洪荒初开时，混沌青莲碎片与幽冥血海怨气凝结而成），天地未判时，阴阳二气失衡处诞生的"非道之种"，左眼为日魂所化，右眼为月魄所凝，头顶光环实为未圆满的混沌法则印记，"以杀证道，破而后立"，认为天道秩序是束缚洪荒进化的枷锁，唯有毁灭旧秩序才能催生更高维度的法则，游离于洪荒之外的第三方势力，暗中挑拨量劫，试图收集十二祖巫残魂与至尊元神碎片，炼制"万劫轮回盘"，主张"道无常形，唯变是恒"，认为鸿钧合道后的天道已沦为"死道"，真正的大道应如图片中机械与血肉的共生，处于永恒的解构与重构之中，提出"过去未来皆为虚妄，唯有此刻的杀伐真实"，其座舰"万劫楼船"能在战斗瞬间冻结时空，但每次使用都会加速自身存在的熵增，践行"因果闭环"理论，刻意制造杀劫却又亲手终结，如在巫妖大战中同时向帝俊与十二祖巫提供情报，最终导致双方同归于尽。人物形象细节为左右肩各栖息一只"噬道白泽"，左侧白泽生有战舰炮管，右侧白泽背生九柄先天杀剑，行走时脚下生出血色莲台，每一步都引发空间褶皱，背后悬浮三千柄微缩剑影，实则是被其斩杀的三千大道化身，上衣为"混沌蚕蛾"吐丝织就的素白法袍，袖口绣有血色星图，腰间悬"斩因果"玉佩，可斩断自身与当前时空的联系，右手握"万劫剑胚"，剑身流动着液态金属般的杀伐法则。其座舰"万劫楼船"实为开天辟地时遗留的混沌核心，舰体刻有"预演量劫"的星图。当角色收集齐十二祖巫残魂时，楼船将显现出未来三次量劫的完整轨迹，而她的左眼会化为新的天道眼，看到鸿钧都无法窥视的"道外之境"。',difficulty:"极难",weakness:["时空类植物护盾","星道/自然循环场","连续冻结后法则灼烧"],appearsIn:[1,2,3,4,5,6,7,8],strategy:'优先以"时空/星道/自然循环"形成保护场，翻倍其熵价成本；在其冻结窗口外迅速转移阵型，避免被闭环结算斩杀；利用召唤移除与增益清除的抗性豁免道具保护核心单位；若其连续两次冻结，乘其"法则灼烧"与冷却延长窗口进行强力反击。白泽二位是其关键机制载体，集中输出可显著降低其复写能力。',category:"洪荒古神",type:"special",quote:"因果循环？不过是弱者为自己设下的牢笼罢了"},xuanye:{name:"玄夜",health:48e4,speed:.6,damage:14e3,reward:4e4,armor:22e3,specialAbility:"混沌熵潮：提升战场局部熵增，降低敌方阵地稳定性，周期性触发“规则崩坏”（重力反转、时间紊乱）；无序狼·无序：吞噬目标的“有序记忆”，清除其身上正面增益并使其技能进入混乱冷却；时空褶跃：沿熵值节点短距跳跃，使用后自损存在稳定度（最大生命上限-5%，上限3层）；因果断链：尝试斩断召唤物/傀儡与本体的因果线，降低其协同效果；熵增图腾：情绪激发时亮起，短时提升自身伤害穿透与范围破坏。",description:`玄夜为混沌熵魔（先天神魔，非神非魔，独立于巫妖人阐之外的混沌原生体），混沌初开时，天地间"有序"与"无序"之力激烈碰撞，玄夜自熵增法则的奇点中诞生。他是宇宙无序化本质的具象化，银白与深蓝渐变的发色象征混沌能量的两极，赤裸上身的肌肉线条暗合熵增定律的数学模型，"破立道"——主张"秩序是大道的枷锁，唯有毁灭旧平衡，方能使宇宙回归真正的自由"。他认为鸿钧合道是对混沌本源的背叛，三清、接引准提的教化皆是对生灵本能的禁锢。游离于巫妖、洪荒势力之外的第三方毁灭力量，暗中推动量劫发生，试图在天地崩塌后重铸"无秩序"的混沌世界。

"道无常形，唯变永恒。所谓天道，不过是鸿钧为牢笼贴上的封条。"玄夜认为大道的本质是无限可能性，而秩序恰恰限制了这种可能性，他要做的就是撕开封条，释放被压抑的混沌之力。"时间是熵增的刻度，空间是无序的容器。"他能看见时空褶皱中的"熵值节点"，通过加速局部熵增实现短暂时空跳跃，但每次使用都会导致自身存在的稳定性下降（埋下宿命伏笔）。"因果链是秩序的最后挣扎。"玄夜试图斩断自身因果，却发现每一次干预都会产生更复杂的因果网络，这种矛盾让他逐渐意识到：自己或许正是"熵增法则"用来平衡宇宙的终极因果。人物形象细节为左肩悬浮着由黑色能量构成的混沌魔狼"无序"，狼眼闪烁与玄夜同源的冷光，能吞噬他人的"有序记忆"，使其陷入永恒混乱。周身除白色能量流与金色火花外，空间呈现玻璃碎裂般的扭曲——近处物体不断崩解为粒子，远处粒子又重组为破碎的星辰，形成"熵增可视化"的动态奇观。当情绪激动时，胸口会浮现由数学符号组成的"熵增图腾"，图腾越亮，周围物理法则崩坏越严重（如重力反转、时间流速紊乱）。玄夜试图掌控熵增之力，却逐渐发现自己正在成为熵增的"祭品"——每当他加速宇宙无序化，自身存在就会变得更不稳定，最终可能在"熵增饱和"时彻底消散，成为宇宙从有序到无序的"过渡介质"。玄夜暗中赠予巫族"熵增战纹"，加速十二祖巫的力量失控，间接导致巫族衰败；洪荒大战时化身截教外门弟子，篡改通天教主的"诛仙阵图"，注入熵增之力，使阵法反噬阐截两教，为后来的"无天量劫"埋下隐患；在最终的"混沌回归"计划中，可能与鸿钧正面碰撞，揭示鸿钧合道的真相——原来鸿钧也在利用秩序延缓熵增，两人本质是同一法则的两极。`,difficulty:"极难",weakness:["秩序场/星道结界","时间调律类护盾","因果复位机制"],appearsIn:[1,2,3,4,5,6,7,8],strategy:'以"秩序-时序-因果"三重体系克制：布置星道/自然循环结界抵消其熵潮，时间调律降低其褶跃容错，因果锁链稳固我方协同；在其熵价层数叠高（自损生命上限）时强势反击；优先清除伴生体"无序"的吞噬载体以削弱其混乱传播。',category:"洪荒古神",type:"special",quote:"秩序是牢笼，毁灭是自由；待我熵增满，天地尽归无"}},Vr={qingyuan:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/清鸢1_20251028193144.jpg",shancatleader:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/善•猫教主_20251018115946.jpg",xuqinglan:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/徐清岚(魔法少女)_20251019101043.jpg",xuqinglan_student:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/徐清岚(修习者）_20251019200844.jpg",qingxuan:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/青玄_20251020073321.jpg",murongyanfeng:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/慕容言风_20251020080449.jpg",yijiu:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/屹九_20251020101211.jpg",xuqinglan_god:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/徐清岚（神）_20251020165934.jpg",nanaisei:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/奈奈生_20251020220122.jpg",vexithra:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/Vexithra（战神）_20251021174818.jpg",xuqinglan_dream:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/徐清岚“梦”_20251021232653.jpg",mumu:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/沐沐_20251022233255.png",mingjiansanshi:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/冥界三使_20251024034644.jpeg",ling:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/凌_20251024054108.jpg",xingzhe:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/星褶_20251024083503.jpg",xiaoshengkui:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/筱燊傀_20251024122052.jpg",yunli_time_arbiter:"https://space.coze.cn/api/coze_space/gen_image?image_size=landscape_16_9&prompt=Fantasy%20anime%20girl%20with%20long%20golden%20hair%2C%20dual%20eye%20colors%20%28yellow%20and%20green%29%2C%20wearing%20golden%20armor%20with%20blue%20gems%2C%20holding%20a%20sword%20with%20time%20symbols%2C%20time%20crystals%20floating%20around%2C%20M%C3%B6bius%20strip%20patterns%2C%20cosmic%20background&sign=f1506d4fd402ed8c499428da5c013146",xiaoyue:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/晓月_20251024185423.jpg",yuchen:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/羽尘_20251025094010.jpg",lingyaoning:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/灵•瑶凝_20251026143816.jpg",lingxi:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/灵汐_20251026192629.jpg",lihuoshuangsheng_changli:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/离火双生•长离_20251027110345.jpg",jinghuashuiyue_lingxi:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/镜花水月·灵汐_20251027120920.jpg",cangxuan:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/苍玄_compressed_1761558788116_compressed_1761558798_20251027175356.jpg",qingwu:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/青芜_20251028060900.jpg",shuangshenghuaxian_lingxi:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/双生花仙•灵汐_20251028091539.jpg",ningshuang:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/壁纸_compressed_1761616502716_20251028101835.jpg",xuanshuang:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/玄霜_20251028104821.jpg",lingxi_chitong:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/灵汐与赤瞳_20251028125915.jpg",lingxuan:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/灵璇_20251028151227.jpg",xingguisansi:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/星轨三司_20251029104649.jpg"},Br={su_huai:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/宿槐僵尸_20251017203937.jpg",cat_leader:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/猫教主_20251017204151.jpg",ji_zai:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/季灾_20251018084258.jpg",li_huo:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/离火_20251018084300.jpg",vexithra:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/Vexithra_20251018182402.jpg",xuqinglan_dark:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/徐清岚（暗）_20251019210654.jpg",xia:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/霞_20251021164140.jpg",alibi:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/Alibi_20251022055207.jpg",qiuyue:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/秋月_20251022153700.jpg",shantao:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/Cache_-29e3261540d29512_20251023000220.jpg",xian:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/宪_20251023213328.jpg",shilie_lingxi:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/时裂灵汐_20251026200352.jpg",longzunjiyan:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/龙尊忌炎_20251027093343.jpg",xingtianzhenyang:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/刑天真阳_20251028194918.jpg",xuanye:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/玄夜_20251029110211.jpg"},h3=(...e)=>e.filter(Boolean).join(" ");function f3({level:e,onConfirm:n,onCancel:t,isCustomLevel:s=!1,isHighIntensity:o=!1}){const[c,u]=j.useState([]),[f,h]=j.useState(""),[m,p]=j.useState("全部"),[y,b]=j.useState(null),[v,k]=j.useState(!1),S=["全部",...Array.from(new Set(Object.values(Ge).map(R=>R.category)))],N=Object.entries(Ge).filter(([R,A])=>{if(!A)return!1;const O=m==="全部"||A.category===m,U=A.name.toLowerCase().includes(f.toLowerCase())||A.description.toLowerCase().includes(f.toLowerCase());return O&&U}),C=R=>{c.includes(R)?c.length>1?(u(c.filter(A=>A!==R)),console.log(`已取消选择 ${Ge[R].name}`)):console.log("至少需要选择一种植物！"):(u([...c,R]),console.log(`已选择 ${Ge[R].name}`))},M=()=>{c.length===0&&u(["qingyuan"]),n(c)},_=R=>{switch(R){case"普通":return"bg-green-500";case"稀有":return"bg-blue-500";case"史诗":return"bg-purple-500";case"传说":return"bg-orange-500";default:return"bg-gray-500"}},T=()=>{u(["qingyuan"]),console.log("已重置植物选择")};return j.useEffect(()=>{c.length===0&&u(["qingyuan"])},[]),i.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-90 z-30 flex flex-col items-center justify-start p-4 overflow-y-auto",children:[i.jsxs("div",{className:"w-full max-w-5xl flex justify-between items-center mb-8",children:[i.jsx("button",{onClick:t,className:"text-white text-xl hover:text-green-400 transition-colors duration-200",children:i.jsx("i",{className:"fa-solid fa-arrow-left"})}),i.jsxs("div",{className:"text-center",children:[i.jsx("h2",{className:"text-2xl font-bold text-green-400",children:o?"高强度自定义关卡 - 选择植物":s?"自定义关卡 - 选择植物":"选择上阵植物"}),i.jsxs("p",{className:"text-gray-400",children:["关卡 ",e,s&&" (植物选择后将继续选择僵尸)",o&&" (游戏难度大幅提升，建议选择强力植物组合)"]})]}),i.jsx("div",{className:"w-6"})," "]}),i.jsxs("div",{className:`w-full max-w-5xl rounded-lg p-4 mb-6 ${o?"bg-gradient-to-r from-orange-900/50 to-red-900/50 border border-orange-800":"bg-gray-800"}`,children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("i",{className:`fa-solid ${o?"fa-fire text-orange-400":"fa-seedling text-green-400"} mr-2`}),i.jsxs("span",{className:"text-white",children:["已选择 ",c.length," 种植物"]})]}),i.jsx("div",{className:`text-sm font-medium px-3 py-1 rounded-full ${c.length>=1?"bg-green-900/50 text-green-400":"bg-red-900/50 text-red-400"}`,children:c.length<1?`${1-c.length} 种植物才能开始`:`已选择 ${c.length} 种植物`})]}),i.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2 mt-3",children:i.jsx(E.div,{initial:{width:0},animate:{width:`${Math.min(c.length/10*100,100)}%`},transition:{duration:.5},className:h3("h-2 rounded-full",{"bg-red-500":c.length<1,"bg-yellow-500":c.length>=1&&c.length<5,"bg-green-500":c.length>=5})})}),i.jsxs("div",{className:"text-xs text-gray-400 mt-2 flex justify-between",children:[i.jsx("span",{children:"至少选择1种植物"}),i.jsx("span",{children:"最多选择8种植物"})]}),o&&i.jsxs("div",{className:"flex items-center mt-2 text-xs text-orange-400",children:[i.jsx("i",{className:"fa-solid fa-exclamation-triangle mr-1"}),i.jsx("span",{children:"高强度模式下，推荐选择高伤害和控制型植物组合"})]})]}),c.length>0&&i.jsxs("div",{className:"w-full max-w-5xl mb-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-3",children:[i.jsxs("h3",{className:"text-lg font-bold text-white flex items-center",children:[i.jsx("i",{className:"fa-solid fa-check-circle text-green-400 mr-2"}),"已选择的植物"]}),i.jsxs("button",{onClick:T,className:"text-sm text-gray-400 hover:text-white transition-colors duration-200 flex items-center",children:[i.jsx("i",{className:"fa-solid fa-rotate-left mr-1"})," 重置选择"]})]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:c.map((R,A)=>i.jsxs(E.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"flex items-center bg-gray-800 rounded-full px-3 py-1",children:[i.jsx("img",{src:Vr[R],alt:Ge[R].name,className:"w-6 h-6 rounded-full mr-2"}),i.jsx("span",{className:"text-white text-sm",children:Ge[R].name}),i.jsx("button",{onClick:()=>C(R),className:"ml-1 text-gray-400 hover:text-red-400 transition-colors duration-200",children:i.jsx("i",{className:"fa-solid fa-times-circle"})})]},R))})]}),i.jsxs("div",{className:"w-full max-w-5xl mb-6",children:[i.jsxs("div",{className:"relative mb-4",children:[i.jsx("input",{type:"text",placeholder:"搜索植物...",value:f,onChange:R=>h(R.target.value),className:"w-full px-4 py-3 pl-10 bg-gray-800 rounded-lg border border-gray-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-300"}),i.jsx("i",{className:"fa-solid fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),f&&i.jsx("button",{onClick:()=>h(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white transition-colors duration-200",children:i.jsx("i",{className:"fa-solid fa-times-circle"})})]}),i.jsx("div",{className:"overflow-x-auto pb-2",children:i.jsx("div",{className:"flex space-x-2",children:S.map(R=>i.jsx("button",{onClick:()=>p(R),className:`px-4 py-2 rounded-full whitespace-nowrap transition-all duration-300 ${m===R?"bg-green-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:R},R))})})]}),i.jsx("div",{className:"w-full max-w-5xl grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 mb-8",children:N.map(([R,A])=>{const O=c.includes(R);return i.jsxs("div",{className:`bg-gradient-to-br ${O?"from-green-900/50 to-green-800/20":"from-gray-900/50 to-gray-800/20"} rounded-xl overflow-hidden shadow-lg border ${O?"border-green-500":"border-gray-700"} flex flex-col h-full transition-all duration-300 hover:scale-103 hover:shadow-[0_20px_25px_-5px_rgba(34,139,34,0.3)] hover:z-10 ${c.length>=8&&!O?"opacity-60 cursor-not-allowed":""}`,onClick:()=>(c.length<8||O)&&C(R),children:[i.jsxs("div",{className:"h-32 overflow-hidden relative",children:[i.jsx("img",{src:Vr[R],alt:A.name,className:"w-full h-full object-cover object-center transform hover:scale-110 transition-transform duration-700",loading:"lazy"}),i.jsx("div",{className:`absolute top-3 right-3 text-xs font-bold px-2 py-1 rounded-full ${_(A.rarity)} shadow-md`,children:A.rarity}),O&&i.jsx("div",{className:"absolute top-3 left-3 text-xs font-bold px-2 py-1 rounded-full bg-green-600 text-white shadow-md",children:"已选择"}),i.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-20 bg-gradient-to-t from-gray-900 to-transparent"})]}),i.jsxs("div",{className:"p-3 flex-grow flex flex-col",children:[i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsx("h3",{className:"text-base font-bold text-white",children:A.name}),i.jsxs("span",{className:"bg-yellow-500 text-black font-bold px-2 py-1 rounded-full flex items-center",children:[i.jsx("i",{className:"fa-solid fa-sun mr-1"})," ",A.cost]})]}),i.jsx("p",{className:"text-gray-300 text-xs mb-2 line-clamp-2 flex-grow",children:A.description}),i.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[i.jsxs("div",{className:"bg-gray-800/80 p-2 rounded-lg",children:[i.jsx("span",{className:"text-gray-400 block",children:"生命值"}),i.jsx("span",{className:"font-bold text-white",children:A.health})]}),i.jsxs("div",{className:"bg-gray-800/80 p-2 rounded-lg",children:[i.jsx("span",{className:"text-gray-400 block",children:"冷却时间"}),i.jsxs("span",{className:"font-bold text-white",children:[A.cooldown/1e3,"秒"]})]}),A.damage&&i.jsxs("div",{className:"bg-gray-800/80 p-2 rounded-lg",children:[i.jsx("span",{className:"text-gray-400 block",children:"攻击力"}),i.jsx("span",{className:"font-bold text-white",children:A.damage})]}),A.attackSpeed&&i.jsxs("div",{className:"bg-gray-800/80 p-2 rounded-lg",children:[i.jsx("span",{className:"text-gray-400 block",children:"攻击速度"}),i.jsxs("span",{className:"font-bold text-white",children:[A.attackSpeed/1e3,"秒/次"]})]})]}),i.jsxs("button",{onClick:()=>b(R),className:"mt-3 w-full bg-transparent border border-green-500 text-green-500 hover:bg-green-500 hover:text-black font-medium py-1.5 rounded-lg transition-all duration-300 text-sm flex items-center justify-center",children:[i.jsx("i",{className:"fa-solid fa-info-circle mr-1"})," 查看详情"]})]})]},R)})}),i.jsx(E.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:M,disabled:c.length<1,className:`w-full max-w-5xl bg-gradient-to-r from-green-600 to-green-500 hover:from-green-700 hover:to-green-600 text-white font-bold py-4 rounded-xl transition-all duration-300 shadow-lg mb-8 ${c.length<1?"opacity-50 cursor-not-allowed":"hover:shadow-green-500/30"}`,children:i.jsxs("div",{className:"flex items-center justify-center",children:[i.jsx("i",{className:`fa-solid ${o?"fa-bolt text-orange-300":"fa-play-circle"} mr-2 text-xl`}),o?"准备迎接高强度挑战！":"确认选择并开始战斗"]})}),y&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 z-40 flex items-center justify-center p-4 opacity-100 transition-opacity duration-300",onClick:()=>b(null),children:i.jsxs("div",{className:"bg-gray-800 rounded-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto shadow-2xl relative transform translate-y-0 opacity-100 transition-all duration-500",onClick:R=>R.stopPropagation(),children:[i.jsx("button",{onClick:()=>b(null),className:"absolute top-4 right-4 bg-gray-700 hover:bg-gray-600 text-white rounded-full w-8 h-8 flex items-center justify-center transition-colors duration-200 z-10",children:i.jsx("i",{className:"fa-solid fa-times"})}),i.jsx("div",{className:"p-6",children:i.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[i.jsx("div",{className:"w-full md:w-1/3",children:i.jsxs("div",{className:"relative overflow-hidden rounded-xl aspect-square",children:[i.jsx("img",{src:Vr[y],alt:Ge[y].name,className:"w-full h-full object-cover"}),i.jsx("div",{className:`absolute top-3 right-3 text-xs font-bold px-2 py-1 rounded-full ${_(Ge[y].rarity)} shadow-md`,children:Ge[y].rarity})]})}),i.jsxs("div",{className:"w-full md:w-2/3",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h2",{className:"text-2xl font-bold text-green-400",children:Ge[y].name}),i.jsxs("span",{className:"bg-yellow-500 text-black font-bold px-3 py-1 rounded-full flex items-center",children:[i.jsx("i",{className:"fa-solid fa-sun mr-1"})," ",Ge[y].cost]})]}),i.jsxs("div",{className:"mb-6",children:[i.jsxs("div",{className:`relative transition-all duration-500 overflow-hidden ${v?"max-h-[2000px]":"max-h-24"}`,children:[i.jsx("p",{className:"text-gray-300",children:Ge[y].description}),!v&&i.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-16 bg-gradient-to-t from-gray-800 via-gray-800/80 to-transparent"})]}),i.jsxs(E.button,{onClick:()=>k(!v),className:"mt-2 mx-auto block px-3 py-1.5 bg-gradient-to-r from-green-600 to-blue-600 hover:from-green-700 hover:to-blue-700 text-white font-medium rounded-full shadow-lg transition-all duration-300 flex items-center text-sm",whileHover:{scale:1.05},whileTap:{scale:.95},children:[i.jsx("i",{className:`fa-solid mr-1 ${v?"fa-chevron-up":"fa-chevron-down"}`}),v?"收起简介":"展开阅读更多"]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-6",children:[i.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[i.jsx("span",{className:"text-gray-400 block text-sm",children:"生命值"}),i.jsx("span",{className:"font-bold text-white text-lg",children:Ge[y].health})]}),i.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[i.jsx("span",{className:"text-gray-400 block text-sm",children:"冷却时间"}),i.jsxs("span",{className:"font-bold text-white text-lg",children:[Ge[y].cooldown/1e3,"秒"]})]}),Ge[y].damage&&i.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[i.jsx("span",{className:"text-gray-400 block text-sm",children:"攻击力"}),i.jsx("span",{className:"font-bold text-white text-lg",children:Ge[y].damage})]}),Ge[y].attackRange&&i.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[i.jsx("span",{className:"text-gray-400 block text-sm",children:"攻击范围"}),i.jsx("span",{className:"font-bold text-white text-lg",children:Ge[y].attackRange===99?"全图":`前方 ${Ge[y].attackRange} 格`})]}),Ge[y].attackSpeed&&i.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[i.jsx("span",{className:"text-gray-400 block text-sm",children:"攻击速度"}),i.jsxs("span",{className:"font-bold text-white text-lg",children:[Ge[y].attackSpeed/1e3,"秒/次"]})]})]}),Ge[y].specialEffect&&i.jsxs("div",{className:"p-4 bg-blue-900/30 border border-blue-800 rounded-lg mb-6",children:[i.jsxs("span",{className:"text-blue-300 font-medium flex items-center",children:[i.jsx("i",{className:"fa-solid fa-star mr-2"})," 特殊效果"]}),i.jsx("p",{className:"text-blue-200 mt-2",children:Ge[y].specialEffect})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"text-gray-400 mr-2",children:"分类："}),i.jsx("span",{className:"bg-gray-700 text-white px-3 py-1 rounded-full text-sm",children:Ge[y].category})]})]})]})})]})}),i.jsx("div",{className:"w-full max-w-5xl h-16 flex justify-center items-center",children:i.jsx("div",{className:"text-center text-xs text-gray-500",children:i.jsx("p",{children:"选择合适的植物组合是获胜的关键！"})})})]})}const m3=(...e)=>e.filter(Boolean).join(" "),mt={su_huai:{...wt.su_huai,name:"宿槐"},cat_leader:{...wt.cat_leader,name:"猫教主"},ji_zai:{...wt.ji_zai,name:"季灾"},li_huo:{...wt.li_huo,name:"离火"},vexithra:{...wt.vexithra,name:"Vexithra"},xuqinglan_dark:{...wt.xuqinglan_dark,name:"徐清岚（暗）"},xia:{...wt.xia,name:"霞"},alibi:{...wt.alibi,name:"Alibi"},qiuyue:{...wt.qiuyue,name:"秋月"},shantao:{...wt.shantao,name:"山桃"},shilie_lingxi:{...wt.shilie_lingxi,name:"时裂·灵汐"},longzunjiyan:{...wt.longzunjiyan,name:"龙尊忌炎"},xingtianzhenyang:{...wt.xingtianzhenyang,name:"刑天真阳"},xuanye:{...wt.xuanye,name:"玄夜"}};function p3({onConfirm:e,onCancel:n,isHighIntensity:t=!1}){const[s,o]=j.useState([]),[c,u]=j.useState(""),[f,h]=j.useState("全部"),[m,p]=j.useState(null),[y,b]=j.useState(!1),v=["全部"],k=Object.entries(mt).filter(([_,T])=>{if(!T)return!1;const R=f==="全部"||T.category===f,A=T.name.toLowerCase().includes(c.toLowerCase())||T.description.toLowerCase().includes(c.toLowerCase());return R&&A}),S=_=>{if(s.includes(_))o(s.filter(T=>T!==_)),console.log(`已取消选择 ${mt[_].name}`);else{if(s.length>=8){console.log("最多只能选择8种僵尸！");return}o([...s,_]),console.log(`已选择 ${mt[_].name}`)}},N=()=>{if(s.length<3){console.log("请至少选择3种僵尸！");return}e(s)},C=_=>{switch(_){case"简单":return"bg-green-500";case"中等":return"bg-yellow-500";case"较难":return"bg-orange-500";case"极难":return"bg-red-500";default:return"bg-gray-500"}},M=()=>{o([]),console.log("已重置僵尸选择")};return i.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-90 z-30 flex flex-col items-center justify-start p-4 overflow-y-auto",children:[i.jsxs("div",{className:"w-full max-w-5xl flex justify-between items-center mb-8",children:[i.jsx("button",{onClick:n,className:"text-white text-xl hover:text-red-400 transition-colors duration-200",children:i.jsx("i",{className:"fa-solid fa-arrow-left"})}),i.jsxs("div",{className:"text-center",children:[i.jsx("h2",{className:"text-2xl font-bold text-red-400",children:t?"高强度自定义关卡 - 选择出场僵尸":"选择出场僵尸"}),i.jsxs("p",{className:"text-gray-400",children:["自定义关卡 - 选择后将开始游戏",t&&" (僵尸属性将获得全面增强)"]})]}),i.jsx("div",{className:"w-6"})," "]}),i.jsxs("div",{className:`w-full max-w-5xl rounded-lg p-4 mb-6 ${t?"bg-gradient-to-r from-red-900/50 to-orange-900/50 border border-red-800":"bg-gray-800"}`,children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("i",{className:`fa-solid ${t?"fa-fire text-red-400":"fa-skull text-red-400"} mr-2`}),i.jsxs("span",{className:"text-white",children:["已选择 ",s.length," 种僵尸"]})]}),i.jsx("div",{className:`text-sm font-medium px-3 py-1 rounded-full ${s.length>=3?"bg-green-900/50 text-green-400":"bg-red-900/50 text-red-400"}`,children:s.length<3?`${3-s.length} 种僵尸才能开始`:"可以开始战斗了！"})]}),i.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2 mt-3",children:i.jsx(E.div,{initial:{width:0},animate:{width:`${Math.min(s.length/8*100,100)}%`},transition:{duration:.5},className:m3("h-2 rounded-full",{"bg-red-500":s.length<3,"bg-yellow-500":s.length>=3&&s.length<6,"bg-green-500":s.length>=6})})}),i.jsxs("div",{className:"text-xs text-gray-400 mt-2 flex justify-between",children:[i.jsx("span",{children:"至少选择3种僵尸"}),i.jsx("span",{children:"最多选择8种僵尸"})]}),t&&i.jsxs("div",{className:"flex items-center mt-2 text-xs text-orange-400",children:[i.jsx("i",{className:"fa-solid fa-exclamation-triangle mr-1"}),i.jsx("span",{children:"高强度模式下，僵尸属性将获得全面增强"})]})]}),s.length>0&&i.jsxs("div",{className:"w-full max-w-5xl mb-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-3",children:[i.jsxs("h3",{className:"text-lg font-bold text-white flex items-center",children:[i.jsx("i",{className:"fa-solid fa-check-circle text-green-400 mr-2"}),"已选择的僵尸"]}),i.jsxs("button",{onClick:M,className:"text-sm text-gray-400 hover:text-white transition-colors duration-200 flex items-center",children:[i.jsx("i",{className:"fa-solid fa-rotate-left mr-1"})," 重置选择"]})]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:s.map((_,T)=>i.jsxs(E.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"flex items-center bg-gray-800 rounded-full px-3 py-1",children:[i.jsx("img",{src:Br[_],alt:mt[_].name,className:"w-6 h-6 rounded-full mr-2"}),i.jsx("span",{className:"text-white text-sm",children:mt[_].name}),i.jsx("button",{onClick:()=>S(_),className:"ml-1 text-gray-400 hover:text-red-400 transition-colors duration-200",children:i.jsx("i",{className:"fa-solid fa-times-circle"})})]},_))})]}),i.jsxs("div",{className:"w-full max-w-5xl mb-6",children:[i.jsxs("div",{className:"relative mb-4",children:[i.jsx("input",{type:"text",placeholder:"搜索僵尸...",value:c,onChange:_=>u(_.target.value),className:"w-full px-4 py-3 pl-10 bg-gray-800 rounded-lg border border-gray-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent transition-all duration-300"}),i.jsx("i",{className:"fa-solid fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),c&&i.jsx("button",{onClick:()=>u(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white transition-colors duration-200",children:i.jsx("i",{className:"fa-solid fa-times-circle"})})]}),i.jsx("div",{className:"overflow-x-auto pb-2",children:i.jsx("div",{className:"flex space-x-2",children:v.map(_=>i.jsx("button",{onClick:()=>h(_),className:`px-4 py-2 rounded-full whitespace-nowrap transition-all duration-300 ${f===_?"bg-red-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:_},_))})})]}),i.jsx("div",{className:"w-full max-w-5xl grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 mb-8",children:k.map(([_,T])=>{const R=s.includes(_);return i.jsxs("div",{className:`bg-gradient-to-br ${R?"from-red-900/50 to-red-800/20":"from-gray-900/50 to-gray-800/20"} rounded-xl overflow-hidden shadow-lg border ${R?"border-red-500":"border-gray-700"} flex flex-col h-full transition-all duration-300 hover:scale-103 hover:shadow-[0_20px_25px_-5px_rgba(220,20,60,0.3)] hover:z-10`,onClick:()=>S(_),children:[i.jsxs("div",{className:"h-32 overflow-hidden relative",children:[i.jsx("img",{src:Br[_],alt:T.name,className:"w-full h-full object-cover object-center transform hover:scale-110 transition-transform duration-700",loading:"lazy"}),i.jsx("div",{className:`absolute top-3 right-3 text-xs font-bold px-2 py-1 rounded-full ${C(T.difficulty)} shadow-md`,children:T.difficulty}),R&&i.jsx("div",{className:"absolute top-3 left-3 text-xs font-bold px-2 py-1 rounded-full bg-red-600 text-white shadow-md",children:"已选择"}),i.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-20 bg-gradient-to-t from-gray-900 to-transparent"})]}),i.jsxs("div",{className:"p-3 flex-grow flex flex-col",children:[i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsx("h3",{className:"text-base font-bold text-white",children:T.name}),i.jsxs("span",{className:"bg-yellow-500 text-black font-bold px-2 py-1 rounded-full flex items-center",children:[i.jsx("i",{className:"fa-solid fa-sun mr-1"})," ",T.reward||0]})]}),i.jsx("p",{className:"text-gray-300 text-xs mb-2 line-clamp-2 flex-grow",children:T.description}),i.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[i.jsxs("div",{className:"bg-gray-800/80 p-2 rounded-lg",children:[i.jsx("span",{className:"text-gray-400 block",children:"生命值"}),i.jsx("span",{className:"font-bold text-white",children:T.health})]}),i.jsxs("div",{className:"bg-gray-800/80 p-2 rounded-lg",children:[i.jsx("span",{className:"text-gray-400 block",children:"移动速度"}),i.jsx("span",{className:"font-bold text-white",children:typeof T.speed=="number"?T.speed.toFixed(1):"未知"})]}),i.jsxs("div",{className:"bg-gray-800/80 p-2 rounded-lg",children:[i.jsx("span",{className:"text-gray-400 block",children:"攻击力"}),i.jsx("span",{className:"font-bold text-white",children:T.damage})]}),T.armor&&i.jsxs("div",{className:"bg-gray-800/80 p-2 rounded-lg",children:[i.jsx("span",{className:"text-gray-400 block",children:"护甲值"}),i.jsx("span",{className:"font-bold text-white",children:T.armor})]})]}),i.jsxs("button",{onClick:()=>p(_),className:"mt-3 w-full bg-transparent border border-red-500 text-red-500 hover:bg-red-500 hover:text-black font-medium py-1.5 rounded-lg transition-all duration-300 text-sm flex items-center justify-center",children:[i.jsx("i",{className:"fa-solid fa-info-circle mr-1"})," 查看详情"]})]})]},_)})}),i.jsx(E.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:N,disabled:s.length<3,className:`w-full max-w-5xl bg-gradient-to-r from-red-600 to-red-500 hover:from-red-700 hover:to-red-600 text-white font-bold py-4 rounded-xl transition-all duration-300 shadow-lg mb-8 ${s.length<3?"opacity-50 cursor-not-allowed":"hover:shadow-red-500/30"}`,children:i.jsxs("div",{className:"flex items-center justify-center",children:[i.jsx("i",{className:`fa-solid ${t?"fa-bolt text-orange-300":"fa-play-circle"} mr-2 text-xl`}),t?"准备释放强化僵尸大军！":"确认选择并开始战斗"]})}),m&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 z-40 flex items-center justify-center p-4 opacity-100 transition-opacity duration-300",onClick:()=>p(null),children:i.jsxs("div",{className:"bg-gray-800 rounded-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto shadow-2xl relative transform translate-y-0 opacity-100 transition-all duration-500",onClick:_=>_.stopPropagation(),children:[i.jsx("button",{onClick:()=>p(null),className:"absolute top-4 right-4 bg-gray-700 hover:bg-gray-600 text-white rounded-full w-8 h-8 flex items-center justify-center transition-colors duration-200 z-10",children:i.jsx("i",{className:"fa-solid fa-times"})}),i.jsx("div",{className:"p-6",children:i.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[i.jsx("div",{className:"w-full md:w-1/3",children:i.jsxs("div",{className:"relative overflow-hidden rounded-xl aspect-square",children:[i.jsx("img",{src:Br[m],alt:mt[m].name,className:"w-full h-full object-cover"}),i.jsx("div",{className:`absolute top-3 right-3 text-xs font-bold px-2 py-1 rounded-full ${C(mt[m].difficulty)} shadow-md`,children:mt[m].difficulty})]})}),i.jsxs("div",{className:"w-full md:w-2/3",children:[i.jsx("h2",{className:"text-2xl font-bold text-red-400 mb-4",children:mt[m].name}),i.jsxs("div",{className:"mb-6",children:[i.jsxs("div",{className:`relative transition-all duration-500 overflow-hidden ${y?"max-h-[2000px]":"max-h-24"}`,children:[i.jsx("p",{className:"text-gray-300",children:mt[m].description}),!y&&i.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-16 bg-gradient-to-t from-gray-800 via-gray-800/80 to-transparent"})]}),i.jsxs(E.button,{onClick:()=>b(!y),className:"mt-2 mx-auto block px-3 py-1.5 bg-gradient-to-r from-red-600 to-orange-600 hover:from-red-700 hover:to-orange-700 text-white font-medium rounded-full shadow-lg transition-all duration-300 flex items-center text-sm",whileHover:{scale:1.05},whileTap:{scale:.95},children:[i.jsx("i",{className:`fa-solid mr-1 ${y?"fa-chevron-up":"fa-chevron-down"}`}),y?"收起简介":"展开阅读更多"]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-6",children:[i.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[i.jsx("span",{className:"text-gray-400 block text-sm",children:"生命值"}),i.jsx("span",{className:"font-bold text-white text-lg",children:mt[m].health})]}),i.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[i.jsx("span",{className:"text-gray-400 block text-sm",children:"移动速度"}),i.jsx("span",{className:"font-bold text-white text-lg",children:mt[m].speed.toFixed(1)})]}),i.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[i.jsx("span",{className:"text-gray-400 block text-sm",children:"攻击力"}),i.jsx("span",{className:"font-bold text-white text-lg",children:mt[m].damage})]}),mt[m].reward&&i.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[i.jsx("span",{className:"text-gray-400 block text-sm",children:"阳光奖励"}),i.jsx("span",{className:"font-bold text-white text-lg",children:mt[m].reward})]}),mt[m].armor&&i.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[i.jsx("span",{className:"text-gray-400 block text-sm",children:"护甲值"}),i.jsx("span",{className:"font-bold text-white text-lg",children:mt[m].armor})]})]}),mt[m].specialAbility&&i.jsxs("div",{className:"p-4 bg-purple-900/30 border border-purple-800 rounded-lg mb-6",children:[i.jsxs("span",{className:"text-purple-300 font-medium flex items-center",children:[i.jsx("i",{className:"fa-solid fa-wand-magic-sparkles mr-2"})," 特殊能力"]}),i.jsx("p",{className:"text-purple-200 mt-2",children:mt[m].specialAbility})]}),i.jsxs("div",{className:"mb-6",children:[i.jsxs("span",{className:"text-green-300 font-medium flex items-center mb-3",children:[i.jsx("i",{className:"fa-solid fa-shield-halved mr-2"})," 弱点"]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:mt[m].weakness.map((_,T)=>i.jsx("span",{className:"bg-green-900/30 text-green-200 px-3 py-1.5 rounded-lg",children:_},T))})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"text-gray-400 mr-2",children:"分类："}),i.jsx("span",{className:"bg-gray-700 text-white px-3 py-1 rounded-full text-sm",children:mt[m].category})]})]})]})})]})}),i.jsx("div",{className:"w-full max-w-5xl h-16 flex justify-center items-center",children:i.jsx("div",{className:"text-center text-xs text-gray-500",children:i.jsx("p",{children:"选择合适的僵尸组合来挑战植物防线！"})})})]})}function g3(e){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",n.appendChild(t),t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}Array(12).fill(0);let Sd=1;class x3{constructor(){this.subscribe=n=>(this.subscribers.push(n),()=>{const t=this.subscribers.indexOf(n);this.subscribers.splice(t,1)}),this.publish=n=>{this.subscribers.forEach(t=>t(n))},this.addToast=n=>{this.publish(n),this.toasts=[...this.toasts,n]},this.create=n=>{var t;const{message:s,...o}=n,c=typeof(n==null?void 0:n.id)=="number"||((t=n.id)==null?void 0:t.length)>0?n.id:Sd++,u=this.toasts.find(h=>h.id===c),f=n.dismissible===void 0?!0:n.dismissible;return this.dismissedToasts.has(c)&&this.dismissedToasts.delete(c),u?this.toasts=this.toasts.map(h=>h.id===c?(this.publish({...h,...n,id:c,title:s}),{...h,...n,id:c,dismissible:f,title:s}):h):this.addToast({title:s,...o,dismissible:f,id:c}),c},this.dismiss=n=>(n?(this.dismissedToasts.add(n),requestAnimationFrame(()=>this.subscribers.forEach(t=>t({id:n,dismiss:!0})))):this.toasts.forEach(t=>{this.subscribers.forEach(s=>s({id:t.id,dismiss:!0}))}),n),this.message=(n,t)=>this.create({...t,message:n}),this.error=(n,t)=>this.create({...t,message:n,type:"error"}),this.success=(n,t)=>this.create({...t,type:"success",message:n}),this.info=(n,t)=>this.create({...t,type:"info",message:n}),this.warning=(n,t)=>this.create({...t,type:"warning",message:n}),this.loading=(n,t)=>this.create({...t,type:"loading",message:n}),this.promise=(n,t)=>{if(!t)return;let s;t.loading!==void 0&&(s=this.create({...t,promise:n,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));const o=Promise.resolve(n instanceof Function?n():n);let c=s!==void 0,u;const f=o.then(async m=>{if(u=["resolve",m],ai.isValidElement(m))c=!1,this.create({id:s,type:"default",message:m});else if(b3(m)&&!m.ok){c=!1;const y=typeof t.error=="function"?await t.error(`HTTP error! status: ${m.status}`):t.error,b=typeof t.description=="function"?await t.description(`HTTP error! status: ${m.status}`):t.description,k=typeof y=="object"&&!ai.isValidElement(y)?y:{message:y};this.create({id:s,type:"error",description:b,...k})}else if(m instanceof Error){c=!1;const y=typeof t.error=="function"?await t.error(m):t.error,b=typeof t.description=="function"?await t.description(m):t.description,k=typeof y=="object"&&!ai.isValidElement(y)?y:{message:y};this.create({id:s,type:"error",description:b,...k})}else if(t.success!==void 0){c=!1;const y=typeof t.success=="function"?await t.success(m):t.success,b=typeof t.description=="function"?await t.description(m):t.description,k=typeof y=="object"&&!ai.isValidElement(y)?y:{message:y};this.create({id:s,type:"success",description:b,...k})}}).catch(async m=>{if(u=["reject",m],t.error!==void 0){c=!1;const p=typeof t.error=="function"?await t.error(m):t.error,y=typeof t.description=="function"?await t.description(m):t.description,v=typeof p=="object"&&!ai.isValidElement(p)?p:{message:p};this.create({id:s,type:"error",description:y,...v})}}).finally(()=>{c&&(this.dismiss(s),s=void 0),t.finally==null||t.finally.call(t)}),h=()=>new Promise((m,p)=>f.then(()=>u[0]==="reject"?p(u[1]):m(u[1])).catch(p));return typeof s!="string"&&typeof s!="number"?{unwrap:h}:Object.assign(s,{unwrap:h})},this.custom=(n,t)=>{const s=(t==null?void 0:t.id)||Sd++;return this.create({jsx:n(s),id:s,...t}),s},this.getActiveToasts=()=>this.toasts.filter(n=>!this.dismissedToasts.has(n.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const yn=new x3,y3=(e,n)=>{const t=(n==null?void 0:n.id)||Sd++;return yn.addToast({title:e,...n,id:t}),t},b3=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",v3=y3,w3=()=>yn.toasts,j3=()=>yn.getActiveToasts(),pt=Object.assign(v3,{success:yn.success,info:yn.info,warning:yn.warning,error:yn.error,custom:yn.custom,message:yn.message,promise:yn.promise,dismiss:yn.dismiss,loading:yn.loading},{getHistory:w3,getToasts:j3});g3("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");const Ux={qingyuan:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/微信图片_20251016111846_103_92_20251016111910.jpg",shancatleader:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/善•猫教主_20251018115946.jpg",xuqinglan:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/徐清岚(魔法少女)_20251019101043.jpg",xuqinglan_student:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/徐清岚(修习者）_20251019200844.jpg",xuqinglan_dark:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/徐清岚（暗）_20251019210654.jpg",su_huai:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/宿槐僵尸_20251017203937.jpg",narrator:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20narrator%20mysterious%20figure%20cloaked%20in%20light%20cute%20chibi%20style&sign=a1c196cd894d1dbf7697e8dc74a74d38",wise_elder:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20wise%20elder%20long%20white%20beard%20flowing%20robes%20wise%20expression%20cute%20chibi%20style&sign=b9cae1785e6989ed1419712530c46355",young_su_huai:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20young%20princess%20purple%20hair%20kind%20smile%20cute%20chibi%20style&sign=420077d9385cdebe0f895640c598e27a",cat:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=cute%20anime%20cat%20black%20fur%20big%20eyes%20chibi%20style&sign=b9abbe69758ee9fb563e3857bf16b3fd",qingxuan:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/青玄_20251020073321.jpg",murongyanfeng:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/慕容言风_20251020080449.jpg",xuqinglan_god:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/徐清岚（神）_20251020165934.jpg",nanaisei:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/奈奈生_20251020220122.jpg"},hi={qingyuan:"清鸢",shancatleader:"善•猫教主",xuqinglan:"徐清岚（魔法少女）",xuqinglan_student:"徐清岚（修习者）",xuqinglan_dark:"徐清岚（暗）",su_huai:"宿槐",narrator:"旁白",wise_elder:"智慧长者",young_su_huai:"小宿槐",cat:"小猫",qingxuan:"青玄",murongyanfeng:"慕容言风",xuqinglan_god:"徐清岚（神）",nanaisei:"奈奈生"},qr={qingyuan:"from-yellow-600 to-yellow-400",shancatleader:"from-blue-600 to-blue-400",xuqinglan:"from-purple-600 to-purple-400",xuqinglan_student:"from-indigo-600 to-indigo-400",xuqinglan_dark:"from-red-900 to-purple-900",su_huai:"from-red-600 to-red-400",narrator:"from-gray-600 to-gray-400",wise_elder:"from-blue-700 to-blue-500",young_su_huai:"from-purple-400 to-pink-400",cat:"from-gray-500 to-gray-300",qingxuan:"from-green-600 to-teal-400",murongyanfeng:"from-purple-900 to-indigo-600",xuqinglan_god:"from-cyan-600 to-blue-400",nanaisei:"from-yellow-500 to-white"},Rt=[{id:"chapter-1",title:"光明与暗影的起源",description:"创世之初，光明大陆的诞生与守护者的使命",thumbnail:"https://space.coze.cn/api/coze_space/gen_image?image_size=landscape_16_9&prompt=ancient%20fantasy%20world%20creation%20light%20and%20darkness%20anime%20style%20beautiful%20scenery&sign=389d56ec26c2b180e0b38f7db28ae11b",content:[{id:"ch1-1",character:"narrator",text:"在宇宙诞生的混沌之中，两股强大的力量相互交织——光明与暗影。它们既相互对立，又相互依存，共同维持着宇宙的平衡。"},{id:"ch1-2",character:"narrator",text:"在这两股力量的交汇处，诞生了一片美丽的世界——光明大陆。这片土地上孕育着各种生命，花草树木，飞禽走兽，一切都显得那么和谐与美好。"},{id:"ch1-3",character:"wise_elder",text:"在光明大陆诞生的同时，从世界本源之力中自然孕育出了两位守护者——清鸢与宿槐。她们本为同源一体，如同双生姐妹，清鸢代表着光明与生命，宿槐代表着自然与平衡。"},{id:"ch1-4",character:"wise_elder",text:"姐妹们发誓要用自己的生命守护光明大陆的和平与繁荣。在她们的保护下，大陆上的生灵们过着幸福快乐的生活。"},{id:"ch1-5",character:"narrator",text:"然而，随着时间的推移，人类文明逐渐发展壮大。他们开始过度开发自然，砍伐森林，污染河流，破坏了大陆的生态平衡。这一切，都被宿槐默默地看在眼里..."},{id:"ch1-6",character:"narrator",text:"在独立于光暗大陆之外的虚空之中，一段尘封的回忆在清鸢的脑海中浮现..."},{id:"ch1-7",character:"su_huai",text:"生命，只有在停滞不前的时间中，才能实现永恒的幸福。我，宿槐，将停止所有生命的时间。将一切生命转化为静止状态，实现永远的和平与安定。",emotion:"calm"},{id:"ch1-8",character:"qingyuan",text:"你错了，宿槐！",emotion:"determined"},{id:"ch1-9",character:"su_huai",text:"吾之名为——宿槐！生命，因不断争斗、彼此伤害、心生怨恨，所以才会产生痛苦。这一切的元凶，就是'生命'本身，就是'时间'的流动！",emotion:"angry"},{id:"ch1-10",character:"qingyuan",text:"不！正因为时间流逝，生命才有喜怒哀乐，才能诞生出珍贵的事物和回忆！将这一切都停止，根本不是和平，那只是单纯的'停滞'！",emotion:"determined"},{id:"ch1-11",character:"su_huai",text:"无谓的挣扎……就让吾，来终结这一切吧！",emotion:"angry"},{id:"ch1-12",character:"narrator",text:"这段回忆如潮水般涌来，清鸢的眼神变得愈发坚定。她知道，宿槐内心深处的痛苦与迷茫，正是导致她走向黑暗的原因。"},{id:"ch1-6",character:"narrator",text:"宿槐的内心开始产生动摇，她不理解为什么人类要如此对待这片给予他们生命的土地。这种质疑，为后来的悲剧埋下了伏笔..."}]},{id:"chapter-2",title:"宿槐的堕落",description:"内心的裂痕如何让黑暗力量乘虚而入",thumbnail:"https://space.coze.cn/api/coze_space/gen_image?image_size=landscape_16_9&prompt=fallen%20angel%20corrupted%20by%20darkness%20anime%20style%20tragic%20scene&sign=4dcd71b43a83d4edb8abe4e264da7c23",content:[{id:"ch2-1",character:"narrator",text:"随着人类活动的加剧，光明大陆的环境日益恶化。宿槐对此感到无比痛心，她多次向人类发出警告，但都被置若罔闻。"},{id:"ch2-2",character:"young_su_huai",text:"清鸢姐姐，你看到了吗？森林在消失，河流在哭泣，动物们失去了家园...为什么人类要这样做？",emotion:"sad"},{id:"ch2-3",character:"qingyuan",text:"我看到了，宿槐妹妹。但我们不能失去信心，人类并非全是恶意的。我们应该继续引导他们，而不是放弃。",emotion:"calm"},{id:"ch2-4",character:"narrator",text:"尽管清鸢一直在安慰和鼓励着宿槐，但宿槐心中的失望与愤怒却与日俱增。她开始质疑自己守护人类的意义。"},{id:"ch2-5",character:"narrator",text:"随着时间的推移，宿槐对生命本质的理解与清鸢产生了越来越大的分歧。清鸢相信生命因变化而美丽，而宿槐则认为生命因变化而痛苦。"},{id:"ch2-6",character:"su_huai",text:"清鸢！你还不明白吗？生命本身就是痛苦的根源！因为时间的流逝，一切美好的事物都会凋零；因为生命的存在，才有了争斗和伤害！只有停止时间，让一切静止，才能实现真正的和平！",emotion:"angry"},{id:"ch2-7",character:"qingyuan",text:"不！宿槐！你忘记了我们曾经的对话了吗？正因为时间流逝，生命才有喜怒哀乐，才能诞生出珍贵的事物和回忆！将这一切都停止，根本不是和平，那只是单纯的'停滞'！",emotion:"surprised"},{id:"ch2-8",character:"su_huai",text:"已经太晚了，姐姐。我心意已决。从今天起，我将以暗影女王的身份，用我的方式守护这个世界——即使那意味着要与你为敌！",emotion:"angry"}]},{id:"chapter-3",title:"魔法少女的使命",description:"来自异世界的少女如何与光明大陆产生联系",thumbnail:"https://space.coze.cn/api/coze_space/gen_image?image_size=landscape_16_9&prompt=magical%20girl%20from%20another%20world%20anime%20style%20mystical%20atmosphere&sign=c56ce18bbfc13a43ff1cb909103e980c",content:[{id:"ch3-1",character:"narrator",text:"在另一个世界——人类世界中，生活着一位名叫徐清岚的天才魔法少女。年仅14岁的她，已经展现出了惊人的魔法天赋。"},{id:"ch3-2",character:"xuqinglan",text:"爷爷，为什么我能看到别人看不到的能量流动？为什么我总是做那些奇怪的梦？",emotion:"curious"},{id:"ch3-3",character:"wise_elder",text:"清岚，你是被选中的孩子。你的命运与另一个世界紧密相连。终有一天，你将肩负起重大的使命。",emotion:"calm"},{id:"ch3-4",character:"narrator",text:"随着时间的推移，清岚的梦境变得越来越清晰。她开始看到一个被黑暗笼罩的世界，以及两位正在战斗的美丽女性。"},{id:"ch3-5",character:"xuqinglan",text:"我必须去那里！我能感觉到，那个世界需要我的帮助！",emotion:"determined"},{id:"ch3-6",character:"wise_elder",text:"这是你的命运，清岚。带上这个星尘之笔，它会在关键时刻给予你力量。记住，真正的力量来自内心的信念。",emotion:"calm"},{id:"ch3-7",character:"narrator",text:"在古老的魔法阵中，清岚毅然启动了传送咒语。她的意识逐渐模糊，当她再次醒来时，发现自己已经来到了一个陌生而美丽的世界——光明大陆。"}]},{id:"chapter-4",title:"善•猫教主的救赎",description:"一只小猫如何从黑暗中获得新生",thumbnail:"https://space.coze.cn/api/coze_space/gen_image?image_size=landscape_16_9&prompt=cat%20transformed%20by%20light%20magic%20anime%20style%20redemption%20scene&sign=0163e5b77c9d585fdfca545f5aa48596",content:[{id:"ch4-1",character:"narrator",text:"在宿槐尚未堕落之前，她在精灵森林中救下了一只濒临死亡的小猫。这只小猫成为了她最忠实的伙伴，陪伴她度过了许多美好的时光。"},{id:"ch4-2",character:"cat",text:"喵~（蹭了蹭宿槐的手）",emotion:"happy"},{id:"ch4-3",character:"young_su_huai",text:"你真是个可爱的小家伙。以后你就叫'猫教主'吧！我们要永远在一起哦！",emotion:"happy"},{id:"ch4-4",character:"narrator",text:"然而，随着宿槐的堕落，小猫也被黑暗力量侵蚀，变成了半猫半僵尸的诡异形态。它失去了自我意识，成为了宿槐最得力的随从。"},{id:"ch4-5",character:"narrator",text:"在一次与清鸢的激烈战斗中，猫教主被光明之力击中。黑暗能量在体内剧烈震荡，唤醒了它内心深处残留的善良记忆。"},{id:"ch4-6",character:"qingyuan",text:"我感受到了！这只小猫还有救！它的内心仍有光明！",emotion:"surprised"},{id:"ch4-7",character:"narrator",text:"清鸢用自己的光明之力净化了猫教主被黑暗侵蚀的灵魂，赋予它全新的生命形态。重生后的猫教主获得了更加强大的光明之力，它决定用这份力量来弥补自己过去的过错。"},{id:"ch4-8",character:"shancatleader",text:"喵呜！我现在是善•猫教主！我要用光明的力量保护这个世界！",emotion:"happy"}]},{id:"chapter-5",title:"徐清岚的修炼之旅",description:"魔法少女如何在光明大陆成长为强大的修习者",thumbnail:"https://space.coze.cn/api/coze_space/gen_image?image_size=landscape_16_9&prompt=magical%20girl%20training%20anime%20style%20fantasy%20world%20mystical%20atmosphere&sign=fd3f64fbd1e144ee2343f95b9635c41c",content:[{id:"ch5-1",character:"narrator",text:"来到光明大陆的徐清岚，被这个世界浓郁的魔法能量所吸引。在清鸢的引导下，她开始在星辰秘境中修习本源魔法。"},{id:"ch5-2",character:"qingyuan",text:"清岚，这里的魔法与你在人类世界所学的截然不同。它是这片土地的本源力量，需要用心去感受，而不仅仅是控制。",emotion:"calm"},{id:"ch5-3",character:"xuqinglan",text:"我明白，清鸢姐姐。这股力量...它在和我说话！我能感受到它的脉动，它的呼吸...",emotion:"surprised"},{id:"ch5-4",character:"narrator",text:"随着修炼的深入，徐清岚逐渐掌握了控制和融合不同元素的魔法力量。她的星尘之笔也随之进化，能够同时操控多种元素之力。"},{id:"ch5-5",character:"xuqinglan_student",text:"啊！这...这是什么感觉？我...我感觉自己的身体在变化！星尘之笔...它在回应我！",emotion:"surprised"},{id:"ch5-6",character:"qingyuan",text:"不要害怕，清岚。这是你的第二次觉醒，你正在与这片土地的魔法力量融为一体。接受它，拥抱它，它将成为你最强大的武器。",emotion:"calm"},{id:"ch5-7",character:"narrator",text:"经过艰苦的修炼，徐清岚终于掌握了光明大陆的本源魔法，成为了强大的修习者。然而，长时间的独处和高强度的修行也让她的内心产生了一丝孤寂感..."}]},{id:"chapter-6",title:"季灾的阴谋",description:"暗影谋士如何策划对徐清岚的偷袭",thumbnail:"https://space.coze.cn/api/coze_space/gen_image?image_size=landscape_16_9&prompt=dark%20magic%20wizard%20plotting%20evil%20scheme%20anime%20style%20dark%20atmosphere&sign=7469c12d1462aef0d50bc66f84ae86a0",content:[{id:"ch6-1",character:"narrator",text:"在光明与黑暗对决的前夕，暗影世界的首席谋士'季灾'，通过神秘的星象占卜，预感到一个足以改变战局的变数正在光明大陆出现—那就是正在修习本源魔法的徐清岚。"},{id:"ch6-2",character:"ji_zai",text:"这个人类女孩...她的魔法天赋...太可怕了。如果让她完全掌握了光明大陆的本源魔法，对我们暗影世界将是致命的威胁。我必须在她成长起来之前除掉她！",emotion:"angry"},{id:"ch6-3",character:"narrator",text:"在一个月黑风高的夜晚，季灾偷偷潜入了徐清岚的修炼之地。他利用暗影魔法制造出了徐清岚内心最深处的恐惧幻象—她的家人被黑暗力量所困，她的朋友在痛苦中挣扎。"},{id:"ch6-4",character:"xuqinglan_student",text:"爷爷！爸爸妈妈！不...这不是真的！这一定是幻觉！",emotion:"sad"},{id:"ch6-5",character:"ji_zai",text:"就是现在！黑暗吞噬！",emotion:"angry"},{id:"ch6-6",character:"narrator",text:"当徐清岚沉浸在冥想状态时，季灾发动了致命的偷袭，重伤了毫无防备的她。在极度的恐惧和痛苦中，徐清岚内心的那丝孤寂和迷茫被无限放大。黑暗力量乘虚而入，逐渐吞噬了她的意识和灵魂..."}]},{id:"chapter-7",title:"徐清岚的堕落",description:"光明少女如何被黑暗力量侵蚀",thumbnail:"https://space.coze.cn/api/coze_space/gen_image?image_size=landscape_16_9&prompt=fallen%20magical%20girl%20corrupted%20by%20darkness%20anime%20style%20tragic%20scene&sign=88e6b148a00090819d77a9b52f580fd3",content:[{id:"ch7-1",character:"narrator",text:"当徐清岚再次醒来时，她的眼睛已变成了血红色，曾经纯净的魔法能量也被黑暗所污染。她成为了'徐清岚（暗）'—一个被黑暗力量彻底控制的强大战士。"},{id:"ch7-2",character:"xuqinglan_dark",text:"清鸢...善•猫教主...你们为什么要抛弃我？为什么要让我一个人承受这一切？",emotion:"angry"},{id:"ch7-3",character:"ji_zai",text:"欢迎加入暗影的怀抱，徐清岚。在这里，你将获得真正的力量，不再被任何人抛弃。",emotion:"happy"},{id:"ch7-4",character:"narrator",text:"在季灾的蛊惑下，徐清岚（暗）彻底投入了暗影的怀抱。她的魔法天赋在黑暗力量的加持下变得更加强大，能够操控死亡和毁灭的力量。"},{id:"ch7-5",character:"xuqinglan_dark",text:"光明...都是虚伪的！只有黑暗才是真实的！我要用这黑暗的力量，让这个世界为我所受的痛苦付出代价！",emotion:"angry"}]},{id:"chapter-8",title:"光明与暗影的终极对决",description:"清鸢、善•猫教主与堕落的徐清岚之间的最终战役",thumbnail:"https://space.coze.cn/api/coze_space/gen_image?image_size=landscape_16_9&prompt=epic%20battle%20between%20light%20and%20darkness%20anime%20style%20heroic%20scene&sign=36f823e01eac4a285021ca80118ce903",content:[{id:"ch8-1",character:"narrator",text:"在得知徐清岚堕落的消息后，清鸢和善•猫教主悲痛欲绝。但他们并没有放弃，而是决定在战场上唤醒徐清岚内心深处的光明。"},{id:"ch8-2",character:"qingyuan",text:"清岚！我知道你还在里面！请回来吧！我们需要你！",emotion:"sad"},{id:"ch8-3",character:"shancatleader",text:"喵呜~清岚姐姐！不要被黑暗控制！我们是好朋友啊！",emotion:"sad"},{id:"ch8-4",character:"xuqinglan_dark",text:"好朋友？哈哈哈哈...好朋友会让我一个人承受那么多痛苦吗？好朋友会在我最需要帮助的时候离开我吗？",emotion:"angry"},{id:"ch8-5",character:"qingyuan",text:"不，清岚！我们从来没有离开过你！是你自己封闭了内心，拒绝了我们的帮助！请相信我们，我们一直都在你身边！",emotion:"determined"},{id:"ch8-6",character:"narrator",text:"在清鸢和善•猫教主的呼唤下，徐清岚（暗）的内心开始产生动摇。她的脑海中浮现出与朋友们在一起的美好时光，那些温暖的记忆正在与黑暗力量抗争..."},{id:"ch8-7",character:"xuqinglan",text:"我...我想起来了...那些美好的时光...那些珍贵的友谊...我...我不能被黑暗控制！",emotion:"determined"},{id:"ch8-8",character:"narrator",text:"在光明与黑暗的激烈碰撞中，徐清岚终于找回了真正的自我。她的眼睛重新焕发出明亮的光芒，星尘之笔也恢复了纯净的魔法能量。在三位英雄的共同努力下，暗影女王宿槐的暗影军团被彻底击败。"}]},{id:"chapter-9",title:"未来的希望",description:"战斗后的光明大陆与新的开始",thumbnail:"https://space.coze.cn/api/coze_space/gen_image?image_size=landscape_16_9&prompt=reborn%20world%20after%20battle%20anime%20style%20hopeful%20scene&sign=4930c3d0d9d9dc299290d5085cd2b1ab",content:[{id:"ch9-1",character:"narrator",text:"光明与暗影的终极对决持续了三天三夜。最终，在三位英雄的共同努力下，宿槐被击败了。然而，清鸢并没有选择消灭自己的妹妹，而是用光明之力净化了她体内的黑暗能量。"},{id:"ch9-2",character:"su_huai",text:"姐姐...我...我都做了些什么...我差点毁了我们守护的一切...",emotion:"sad"},{id:"ch9-3",character:"qingyuan",text:"没关系，妹妹。重要的是你找回了自己。我们一起重建光明大陆，好吗？",emotion:"happy"},{id:"ch9-4",character:"narrator",text:"在大家的共同努力下，光明大陆逐渐恢复了往日的生机与美丽。人类也从这次事件中吸取了教训，开始与自然和谐相处。"},{id:"ch9-5",character:"xuqinglan",text:"看来这里的一切都已经恢复正常了。我应该回到自己的世界了。",emotion:"sad"},{id:"ch9-6",character:"qingyuan",text:"谢谢你，清岚。你不仅拯救了光明大陆，也教会了我们希望的力量。无论何时，你都是我们永远的朋友。",emotion:"happy"},{id:"ch9-7",character:"shancatleader",text:"喵呜~别忘了我们哦！有空一定要回来看我们！",emotion:"sad"},{id:"ch9-8",character:"xuqinglan",text:"我会的！这里永远是我的第二个家！再见了，朋友们！",emotion:"happy"},{id:"ch9-9",character:"narrator",text:"随着魔法阵的启动，清岚回到了自己的世界。但她知道，只要光明大陆需要她，她随时会再次穿越时空，前来相助。而光明大陆的故事，也将继续传唱下去..."}]},{id:"chapter-10",title:"明渊的守护者",description:"慕容言风与明渊的秘密",thumbnail:"https://space.coze.cn/api/coze_space/gen_image?image_size=landscape_16_9&prompt=mysterious%20human%20in%20shadow%20light%20anime%20style%20legendary%20warrior&sign=cbd94dc69383495f670c91e0834e1315",content:[{id:"ch10-1",character:"narrator",text:"在光明大陆的最边缘，有一个被称为'明渊'的神秘地方。这里是光明与暗影的交汇之处，也是通往星界之门的最后关键。"},{id:"ch10-2",character:"wise_elder",text:"明渊...那个地方...充满了危险和未知。据说只有最强大和最勇敢的人才能在那里生存下来。"},{id:"ch10-3",character:"narrator",text:"然而，在这个混乱的地方，却居住着一个让人捉摸不透的人类——慕容言风。他性格阴晴不定，时而喜好杀人，时而喜好饮酒作乐。"},{id:"ch10-4",character:"murongyanfeng",text:"哈哈哈...光明与黑暗，不过是可笑的戏码罢了。我只相信自己的力量，和手中的这把剑。",emotion:"calm"},{id:"ch10-5",character:"qingyuan",text:"慕容言风，你的力量确实强大，但你的内心似乎也被黑暗所侵蚀。难道你不想回到光明的怀抱吗？"},{id:"ch10-6",character:"murongyanfeng",text:"光明的怀抱？别开玩笑了。我见过太多光明下的黑暗，也见过太多黑暗中的光明。所谓的正义，不过是胜利者的说辞罢了。",emotion:"angry"},{id:"ch10-7",character:"narrator",text:"尽管如此，当宿槐的黑暗大军入侵光明大陆时，慕容言风还是选择了站在光明一方。他的力量对抵御僵尸起到了关键作用。"},{id:"ch10-8",character:"xuqinglan",text:"慕容先生，谢谢你的帮助。但我很好奇，你为什么会选择帮助我们？"},{id:"ch10-9",character:"murongyanfeng",text:"帮助？我只是在保护我自己的领地。如果光明大陆沦陷了，明渊也会跟着遭殃。再说...",emotion:"calm"},{id:"ch10-10",character:"murongyanfeng",text:"再说，季灾和离火那两个家伙...我可不想让他们得逞。",emotion:"calm"}]},{id:"chapter-11",title:"星界之门的守护者",description:"青玄的使命与陨落",thumbnail:"https://space.coze.cn/api/coze_space/gen_image?image_size=landscape_16_9&prompt=celestial%20gate%20guardian%20anime%20style%20mystical%20atmosphere%20girl%20with%20umbrella&sign=4dc70b07b5c3d2a37336ebf35ed87860",content:[{id:"ch11-1",character:"narrator",text:"在光明大陆的最东端，云雾缭绕的星界山顶，矗立着一扇宏伟的星界之门。这扇由星辰之力凝聚而成的大门，是连接光明大陆与其他世界的唯一通道。而守护这扇门的，是一位神秘而强大的女子——青玄。"},{id:"ch11-2",character:"qingxuan",text:"星界之门...连接光明与暗影的桥梁，维持着宇宙万物的平衡。我，青玄，作为创世神的使者，必须用生命守护它，绝不能让任何人破坏这来之不易的和平。",emotion:"calm"},{id:"ch11-3",character:"narrator",text:"青玄身着飘逸的青蓝色长袍，手持由星尘凝聚而成的'流光伞'。她拥有操控风和木元素的强大力量，既能对敌人造成毁灭性的打击，又能为同伴提供治愈和保护。在漫长的岁月里，她默默地履行着自己的职责，成为了星界之门最可靠的守护者。"},{id:"ch11-4",character:"qingxuan",text:"季节的变迁，星辰的流转...我已记不清在这里守护了多少岁月。但我知道，只要星界之门还在，我的使命就不会结束。即使孤独，即使疲惫，我也会坚持下去。",emotion:"calm"},{id:"ch11-5",character:"narrator",text:"然而，在季灾的精心策划下，这一切都被打破了。在一个电闪雷鸣的雨夜，徐清岚（暗）带着暗影大军突然出现在星界山顶，发动了对青玄的突袭。"},{id:"ch11-6",character:"xuqinglan_dark",text:"青玄...你守护星界之门的日子已经结束了。今天，我要为暗影世界打开这条通道，让黑暗的力量席卷整个光明大陆！",emotion:"angry"},{id:"ch11-7",character:"qingxuan",text:"不...你不能这么做！这会破坏两界的平衡，导致无法挽回的后果！徐清岚，我能感受到你内心还有光明，不要被黑暗蒙蔽了双眼！",emotion:"surprised"},{id:"ch11-8",character:"narrator",text:"在激烈的战斗中，青玄展现出了惊人的实力，她操控着风和木元素，与暗影大军展开了殊死搏斗。然而，面对数量众多的敌人和实力强大的徐清岚（暗），青玄最终还是因为寡不敌众而受了重伤，从星界之门的高台上坠落，消失在茫茫云海之中...她的命运，成为了光明大陆上最令人牵挂的谜团。"}]},{id:"chapter-12",title:"人类的记忆",description:"屹九的故事与光暗大战",thumbnail:"https://space.coze.cn/api/coze_space/gen_image?image_size=landscape_16_9&prompt=cute%20anime%20boy%20with%20red%20string%20of%20lanterns%20happy%20expression%20traditional%20clothing&sign=13ea0695c553f9f0887ae8d92b3e0c94",content:[{id:"ch12-1",character:"narrator",text:"在遥远的人类世界，有一个名叫屹九的小男孩。他出生在京城的一个高官世家，有着圆滚滚的脸蛋、大大的眼睛和永远挂着笑容的嘴角。屹九最喜欢吃的就是糖葫芦，无论走到哪里，手里总是拿着一串红通通的糖葫芦，一边吃一边蹦蹦跳跳，可爱的模样让所有人都忍不住想要疼爱他。"},{id:"ch12-2",character:"yijiu",text:"糖葫芦～糖葫芦～真好吃！爹爹说糖葫芦是世界上最美味的东西！要是能让所有人都吃到这么美味的糖葫芦，那该有多好啊！",emotion:"happy"},{id:"ch12-3",character:"narrator",text:"然而，命运总是充满了意外。当光暗大战的战火蔓延到人类世界时，一场突如其来的空袭摧毁了屹九的家园。在混乱中，年幼的屹九不幸丧生，他纯真的灵魂被强大的能量卷入了光明大陆，成为了一个特殊的存在。"},{id:"ch12-4",character:"yijiu",text:"这...这是哪里？我为什么会在这里？我的糖葫芦呢？我想回家...我想爹爹和娘亲...",emotion:"surprised"},{id:"ch12-5",character:"qingyuan",text:"可怜的孩子...你的灵魂被卷入了这场光暗之战。不过，你的纯真和善良可以成为对抗黑暗的强大力量。光明之力被你的纯净心灵所吸引，它希望你能成为光明大陆的守护者。",emotion:"calm"},{id:"ch12-6",character:"narrator",text:"在清鸢的引导下，屹九的灵魂与光明大陆的植物力量融合，获得了新的生命形态。虽然变成了植物，但屹九依然保持着他纯真可爱的性格和对糖葫芦的喜爱。在战场上，他的特殊能力发挥了巨大的作用——敌人看到他呆萌可爱的模样，往往会不自觉地减弱攻击，甚至陷入迷惑状态。屹九成为了光明大陆上最特殊的守护者，用他独特的方式为光明而战。"},{id:"ch12-7",character:"yijiu",text:"大哥哥，大姐姐，屹九会用糖葫芦保护你们的！虽然屹九很小，但屹九也很勇敢哦！",emotion:"happy"}]}],Il=()=>{try{const e=localStorage.getItem("story_unlocked_chapters");if(e){const n=JSON.parse(e);if(Array.isArray(n))return n}return Rt.slice(0,3).map(n=>n.id)}catch(e){return console.error("Failed to get unlocked chapters:",e),Rt.slice(0,3).map(n=>n.id)}},It=[{id:"side-qingyuan",title:"清鸢的抉择",description:"光明守护者的成长历程与内心挣扎",thumbnail:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/微信图片_20251016111846_103_92_20251016111910.jpg",content:[{id:"s1-1",character:"narrator",text:"在世界诞生之初，光明与暗影相互交融，共同维持着宇宙的平衡。在这两股力量的交汇处，诞生了两位守护者——清鸢与宿槐。"},{id:"s1-2",character:"wise_elder",text:"清鸢，你代表着光明与生命的力量。你的使命是守护这片大陆上的所有生灵，引导他们走向和谐与繁荣。"},{id:"s1-3",character:"qingyuan",text:"我明白了，长者。我会用我的生命守护这个世界，不让任何黑暗势力侵蚀这片土地。"},{id:"s1-4",character:"narrator",text:"随着时间的推移，人类文明逐渐发展壮大。然而，他们开始过度开发自然，破坏了大陆的生态平衡。清鸢看在眼里，心中充满了忧虑。"},{id:"s1-5",character:"qingyuan",text:"宿槐妹妹，你看，人类正在破坏我们守护的土地。我们必须想办法引导他们，让他们明白与自然和谐相处的重要性。"},{id:"s1-6",character:"su_huai",text:"姐姐，他们根本不会听我们的。这些人类只知道索取，不知道珍惜。也许，只有让一切都静止，才能真正保护这个世界。"},{id:"s1-7",character:"narrator",text:"清鸢没有想到，宿槐的内心已经产生了如此大的变化。她预感到，一场巨大的危机即将到来..."}],characterType:"plant",characterId:"qingyuan"},{id:"side-su_huai",title:"宿槐的坠落",description:"暗影女王的内心世界与转变历程",thumbnail:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/宿槐僵尸_20251017203937.jpg",content:[{id:"s2-1",character:"narrator",text:"在光明大陆的精灵森林中，曾经生活着一位温柔善良的精灵公主——明月。她与姐姐清鸢一起守护着这片土地的和平与繁荣。"},{id:"s2-2",character:"young_su_huai",text:"姐姐，你看，这些花朵开得多美啊！要是能让它们永远绽放，那该有多好。"},{id:"s2-3",character:"qingyuan",text:"傻妹妹，正因为花朵会凋零，它们的绽放才显得如此珍贵。生命的美好就在于它的短暂与无常。"},{id:"s2-4",character:"narrator",text:"然而，随着人类活动的加剧，精灵森林逐渐被破坏，许多美丽的生物失去了家园。明月的内心充满了痛苦与愤怒。"},{id:"s2-5",character:"su_huai",text:"为什么？为什么人类要这样对待这片土地？他们难道不知道，没有自然的滋养，他们也无法生存吗？"},{id:"s2-6",character:"narrator",text:"在无尽的痛苦与愤怒中，明月的内心逐渐被黑暗所吞噬。她改名为宿槐，决心用自己的方式守护这个世界——即使那意味着要与姐姐为敌..."}],characterType:"zombie",characterId:"su_huai"},{id:"side-shancatleader",title:"从暗影到光明",description:"一只小猫的救赎之旅",thumbnail:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/善•猫教主_20251018115946.jpg",content:[{id:"s3-1",character:"narrator",text:"在精灵森林的深处，生活着一只可爱的小黑猫。它经常在森林中穿梭，与各种小动物玩耍。"},{id:"s3-2",character:"young_su_huai",text:"哦，可怜的小猫，你怎么受伤了？来，让我帮你治疗。"},{id:"s3-3",character:"cat",text:"喵~（蹭了蹭宿槐的手）"},{id:"s3-4",character:"narrator",text:"小猫成为了宿槐的忠实伙伴，陪伴她度过了许多美好的时光。然而，随着宿槐的堕落，小猫也被黑暗力量侵蚀，变成了半猫半僵尸的诡异形态。"},{id:"s3-5",character:"qingyuan",text:"这只小猫还有救！它的内心仍有光明！我要用我的力量净化它。"},{id:"s3-6",character:"narrator",text:"清鸢用光明之力净化了小猫被黑暗侵蚀的灵魂，赋予它全新的生命形态。重生后的小猫获得了更加强大的光明之力，它决定用这份力量来弥补自己过去的过错。"},{id:"s3-7",character:"shancatleader",text:"喵呜！我现在是善•猫教主！我要用光明的力量保护这个世界！"}],characterType:"plant",characterId:"shancatleader"},{id:"side-xuqinglan",title:"魔法少女的秘密",description:"来自人类世界的魔法少女如何与光明大陆产生联系",thumbnail:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/徐清岚(魔法少女)_20251019101043.jpg",content:[{id:"s4-1",character:"narrator",text:"在人类世界的一个宁静小镇上，生活着一位名叫徐清岚的普通女孩。然而，她的命运从出生起就注定不平凡。"},{id:"s4-2",character:"xuqinglan",text:"爷爷，为什么我总是能看到奇怪的光芒？其他小朋友都说我在撒谎...",emotion:"sad"},{id:"s4-3",character:"wise_elder",text:"清岚，你不是在撒谎。你是被选中的孩子，拥有看见魔法能量的天赋。终有一天，你将肩负起重大的使命。"},{id:"s4-4",character:"narrator",text:"随着年龄的增长，清岚的梦境变得越来越清晰。她开始梦到一个被黑暗笼罩的世界，以及一位在痛苦中挣扎的白色身影。"},{id:"s4-5",character:"xuqinglan",text:"我必须去帮助她！那个世界需要我！爷爷，请告诉我怎么才能过去！",emotion:"determined"},{id:"s4-6",character:"wise_elder",text:"这是你的命运，清岚。带上这个星尘之笔，它会在关键时刻给予你力量。记住，真正的力量来自内心的信念。"}],characterType:"plant",characterId:"xuqinglan"},{id:"side-qingxuan",title:"星界守护者的陨落",description:"星界之门守护者青玄的悲壮故事",thumbnail:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/青玄_20251020073321.jpg",content:[{id:"s5-1",character:"narrator",text:"在星界山顶，青玄已经守护星界之门千年。她是创世神的使者，发誓用生命维护两界的平衡。"},{id:"s5-2",character:"qingxuan",text:"星界之门...连接光明与暗影的桥梁，维持着宇宙万物的平衡。即使孤独，即使疲惫，我也会坚持下去。",emotion:"calm"},{id:"s5-3",character:"narrator",text:"然而，随着宿槐的堕落，星界之门的平衡被打破。青玄预感到了即将到来的危机。"},{id:"s5-4",character:"qingxuan",text:"黑暗的气息正在逼近...我必须加强星界之门的防御。无论如何，我都不能让暗影大军通过这里！",emotion:"determined"},{id:"s5-5",character:"narrator",text:"在那个电闪雷鸣的夜晚，徐清岚（暗）带着暗影大军突然出现，发动了对青玄的突袭。尽管青玄展现出了惊人的实力，但最终还是因为寡不敌众而坠落..."},{id:"s5-6",character:"qingxuan",text:"星界之力...护佑光明...即使我倒下，也绝不会让你们通过...",emotion:"determined"}],characterType:"plant",characterId:"qingxuan"},{id:"side-murongyanfeng",title:"明渊的孤独守护者",description:"亦正亦邪的慕容言风背后的故事",thumbnail:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/慕容言风_20251020080449.jpg",content:[{id:"s6-1",character:"narrator",text:"在光明大陆的最边缘，有一个被称为'明渊'的神秘地方。这里是光明与暗影的交汇之处，也是通往星界之门的最后关键。"},{id:"s6-2",character:"murongyanfeng",text:"哈哈哈...又有不怕死的家伙闯进我的领地了？这里可不是你们该来的地方。",emotion:"calm"},{id:"s6-3",character:"narrator",text:"慕容言风曾经是光明大陆最杰出的战士之一，但在一次任务中被暗影力量侵蚀，从此隐居明渊，变得性格阴晴不定。"},{id:"s6-4",character:"ji_zai",text:"慕容言风，我们又见面了。加入我们吧，和我们一起征服光明大陆！",emotion:"happy"},{id:"s6-5",character:"murongyanfeng",text:"季灾，你还是这么自以为是。我慕容言风，从不会屈服于任何人！",emotion:"angry"},{id:"s6-6",character:"narrator",text:"尽管性格乖戾，但在关键时刻，慕容言风还是选择站在光明一方。他的力量对抵御僵尸起到了关键作用。"}],characterType:"plant",characterId:"murongyanfeng"},{id:"side-nanaisei",title:"命运的预言者",description:"拥有预见能力的神秘少女奈奈生",thumbnail:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/奈奈生_20251020220122.jpg",content:[{id:"s7-1",character:"narrator",text:"在光明大陆的东部森林中，住着一位神秘的预言师少女——奈奈生。她拥有预见未来的能力，却也因此承受着常人无法想象的痛苦。"},{id:"s7-2",character:"nanaisei",text:"命运的齿轮已经开始转动，光明与黑暗的对决将决定这个世界的未来...",emotion:"calm"},{id:"s7-3",character:"narrator",text:"奈奈生的预言从未出错。当她预见到宿槐的堕落和徐清岚的到来时，便知道一场关乎整个光明大陆命运的战争即将爆发。"},{id:"s7-4",character:"nanaisei",text:"清岚，你的成长远超我的预期。光明之力在你体内流淌，你将成为对抗黑暗的关键。但要小心，黑暗也在寻找着你的弱点...",emotion:"surprised"},{id:"s7-5",character:"narrator",text:"尽管预见了无数的可能性，但奈奈生始终相信，真正的命运掌握在每个人自己的手中。她选择用自己的能力帮助徐清岚和清鸢，为光明大陆的未来而战。"}],characterType:"plant",characterId:"nanaisei"},{id:"side-xuqinglan_god",title:"神化的觉醒",description:"徐清岚如何突破极限，成为传说中的存在",thumbnail:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/徐清岚（神）_20251020165934.jpg",content:[{id:"s8-1",character:"narrator",text:"在与宿槐的最终决战中，徐清岚为了保护清鸢和善•猫教主，激发了体内沉睡的星界之力，完成了前所未有的神化觉醒。"},{id:"s8-2",character:"xuqinglan_god",text:"星界之力啊，请赐予我保护这个世界的力量！光明与暗影的平衡，由我来守护！",emotion:"determined"},{id:"s8-3",character:"narrator",text:"神化后的徐清岚获得了无与伦比的力量。她的星尘之笔进化成了星辰之杖，能够操控宇宙中最纯粹的能量。"},{id:"s8-4",character:"su_huai",text:"这...这不可能！你怎么可能获得如此强大的力量？",emotion:"surprised"},{id:"s8-5",character:"xuqinglan_god",text:"真正的力量不是来自外界，而是来自内心的信念和对伙伴的爱。宿槐，我会用这份力量，让你重新找回真正的自己！",emotion:"happy"},{id:"s8-6",character:"narrator",text:"在神化徐清岚的帮助下，清鸢终于成功净化了宿槐体内的黑暗能量。光明大陆再次恢复了和平与繁荣。"}],characterType:"plant",characterId:"xuqinglan_god"},{id:"side-xia",title:"来自暗影的守护者",description:"霞的成长历程与她的特殊使命",thumbnail:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/霞_20251021164140.jpg",content:[{id:"s9-1",character:"narrator",text:"在暗影大陆较为平缓的中轴地带，生活着一位名叫霞的少女。与其他被暗影力量完全侵蚀的居民不同，霞的内心始终保持着一丝光明与善良。"},{id:"s9-2",character:"xia",text:"妈妈，爸爸什么时候回来？我好想他...",emotion:"sad"},{id:"s9-3",character:"narrator",text:"霞的父亲在一次暗影大陆的战争中不幸离世，留下她与母亲相依为命。母女俩经常受到那些被'混乱'影响的人的欺负，但她们从未放弃对美好生活的向往。"},{id:"s9-4",character:"narrator",text:"直到那一天，Vexithra前往宿槐所在的明渊时，途径此地，遇到了正在被欺负的霞。Vexithra心中的善良被激发了出来，使用暗影冲锋与暗影狂怒，击杀了那些被混乱影响的人。"},{id:"s9-5",character:"xia",text:"谢谢...请问您是谁？我能追随您学习战斗吗？",emotion:"surprised"},{id:"s9-6",character:"narrator",text:"Vexithra并未做出回应，而是虚化身躯继续赶路。这一幕对霞的内心产生了极大的冲击。她第一次意识到，原来强大的力量可以用来保护自己和所爱的人。"},{id:"s9-7",character:"xia",text:"如果我也有这么强的能力就好了...这样就不会再被欺负了...",emotion:"determined"},{id:"s9-8",character:"narrator",text:"从那天起，霞开始了她的修行之路。她在暗影大陆中寻找各种古老的修炼方法，努力提升自己的实力。尽管过程充满了艰辛与危险，但她从未放弃。她相信总有一天，她会成为像Vexithra一样强大的守护者，保护那些无法保护自己的人。"}],characterType:"zombie",characterId:"xia"},{id:"side-alibi",title:"时间的囚徒",description:"Alibi的过去与他对时间的独特理解",thumbnail:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/Alibi_20251022055207.jpg",content:[{id:"s10-1",character:"narrator",text:"在暗影大陆最阴暗的角落，曾经存在着一个名为'时光城'的繁荣文明。这个文明的居民掌握着操控时间的神秘力量，过着平静而幸福的生活。Alibi，曾经是这个文明中最杰出的时间守护者之一。"},{id:"s10-2",character:"alibi",text:"时间是最公平的，它对每个人都一视同仁...",emotion:"calm"},{id:"s10-3",character:"narrator",text:"然而，随着暗影力量的不断侵蚀，时光城的居民开始变得贪婪和疯狂。他们试图利用时间之力来延长自己的生命，甚至逆转死亡。这种对时间法则的违背最终导致了整个城市的毁灭。"},{id:"s10-4",character:"narrator",text:"Alibi是这场灾难中唯一的幸存者，但他也付出了惨重的代价。他的身体被转化为僵尸，永远被困在了生与死之间的状态。更可怕的是，他的意识被迫在时间的长河中不断穿梭，亲眼目睹着自己的家园被毁灭的过程一次又一次地上演。"},{id:"s10-5",character:"alibi",text:"我们被困在时间里，但时间本身也在消逝...",emotion:"sad"},{id:"s10-6",character:"narrator",text:"在无尽的痛苦与绝望中，Alibi逐渐掌握了操控时间的新方式。他学会了停滞时间，甚至可以在短时间内预测未来的走势。但这些能力的代价是他的记忆和人性逐渐被侵蚀，使他成为了如今这个既冷漠又矛盾的存在。"},{id:"s10-7",character:"narrator",text:"现在，Alibi在战场上寻找着某种救赎。他拒绝被宿槐直接控制，选择按照自己的意志行动。或许在他内心深处，还残留着一丝对过去的记忆和对救赎的渴望..."}],characterType:"zombie",characterId:"alibi"},{id:"side-shantao",title:"桃花与时空",description:"山桃与时空城的故事",thumbnail:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/Cache_-29e3261540d29512_20251023000220.jpg",content:[{id:"s12-1",character:"narrator",text:"在时空的长河中，有一座神秘的城市——时空城。这座城市位于时间与空间的交界处，没有时间的概念，也不受时间的约束。在这里，一切都是永恒的，包括居住在其中的居民。山桃，就是时空城的一位美丽少女。"},{id:"s12-2",character:"wise_elder",text:"山桃，你是时空城最特别的存在。你的木属性力量与时空之力完美融合，能够在时间的长河中自由穿梭。但你要记住，不要轻易干涉其他世界的事务，否则可能会引起时空混乱。",emotion:"calm"},{id:"s12-3",character:"su_huai",text:"时空城的山桃小姐，我是暗影女王宿槐。我来是想请你帮个忙。",emotion:"happy"},{id:"s12-4",character:"shantao",text:"暗影女王？我听说过你。你想让我做什么？",emotion:"surprised"},{id:"s12-5",character:"su_huai",text:"我想请你帮忙观察这场光明与暗影的战争，记录下所有的可能性。你的时空之力，应该能够做到这一点。",emotion:"calm"},{id:"s12-6",character:"narrator",text:"山桃陷入了沉思。她知道，时空城的居民不应该参与其他世界的战争。但宿槐的请求让她感到好奇，她想看看这场战争会有多少种可能性。最终，好奇心战胜了理智，她决定答应宿槐的请求。",emotion:"calm"},{id:"s12-7",character:"shantao",text:"三月的信笺揉成团，春风一哄，枝头便炸开粉红的暄言...这场战争，会有怎样的结局呢？",emotion:"curious"},{id:"s12-8",character:"narrator",text:"最终，山桃决定以观察者的身份参与这场战争。她不会直接帮助任何一方，只是默默地记录着每一种可能性。在战场上，她的木属性力量和时空之力结合，创造出了独特的战斗方式。她的桃花源技能能够为队友提供保护，而桃花护符则让她在危险中生存下来。虽然身处战场，但她的内心依然保持着对美好事物的向往，就像她手中那朵永远不会凋零的桃花一样。"}],characterType:"zombie",characterId:"shantao"}],Np=()=>{const[e,n]=j.useState(!1);j.useEffect(()=>{},[]);const[t,s]=j.useState("main"),o=Kn(),c=localStorage.getItem("has_started_story")==="true",u=()=>{for(const p of Rt){const y=`story_progress_${p.id}`,b=localStorage.getItem(y);if(b&&parseInt(b)>0)return p.id}return Rt[0].id},f=(p,y=!1)=>{p&&(n(!1),localStorage.setItem("has_started_story","true"),o(y?`/side-stories?storyId=${p}&isSideStory=true`:`/story?chapterId=${p}`))},h=p=>{p.stopPropagation(),n(!e)},m=()=>{const p=u();f(p)};return i.jsxs("div",{className:"relative",children:[i.jsxs("button",{className:"group relative bg-gradient-to-br from-purple-600 to-pink-600 text-white p-4 rounded-full shadow-lg shadow-purple-900/50 flex flex-col items-center justify-center transition-all duration-300 border-2 border-purple-500/30 hover:border-purple-400",onClick:h,title:"查看剧情","aria-label":"查看剧情",children:[i.jsx(E.div,{className:"absolute -inset-0.5 bg-gradient-to-r from-purple-600 via-pink-500 to-red-500 rounded-full blur opacity-30 group-hover:opacity-100 transition duration-500",animate:{scale:[1,1.05,1],opacity:[.3,.5,.3]},transition:{duration:3,repeat:1/0,ease:"easeInOut"}}),i.jsxs("div",{className:"relative",children:[i.jsx("i",{className:"fa-solid fa-book text-2xl mb-1 group-hover:scale-110 transition-transform duration-300"}),!c&&i.jsx(E.div,{className:"absolute -top-2 -right-2 w-4 h-4 bg-red-500 rounded-full",animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0}})]}),i.jsx("span",{className:"text-xs font-medium group-hover:text-white transition-colors duration-300",children:"剧情"}),i.jsx("div",{className:"absolute -inset-4 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:i.jsx("div",{className:"absolute inset-0 bg-purple-500 rounded-full blur-xl opacity-30"})})]}),i.jsx(dr,{children:e&&i.jsxs(E.div,{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 w-64 bg-gray-900 rounded-xl shadow-2xl border border-gray-700 z-40 backdrop-blur-md",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.3},children:[i.jsx("div",{className:"p-3 border-b border-gray-700 bg-gray-800 rounded-t-xl",children:i.jsxs("h3",{className:"text-white font-bold flex items-center",children:[i.jsx("i",{className:"fa-solid fa-book mr-2 text-purple-400"}),"剧情选择"]})}),i.jsxs("div",{className:"flex border-b border-gray-700 overflow-x-auto scrollbar-hide",children:[i.jsx("button",{className:`px-4 py-2 flex-1 text-sm font-medium transition-colors duration-200 ${t==="main"?"text-purple-400 border-b-2 border-purple-400":"text-gray-400 hover:text-gray-300"}`,onClick:()=>s("main"),children:"游戏剧情"}),i.jsx("button",{className:`px-4 py-2 flex-1 text-sm font-medium transition-colors duration-200 ${t==="side"?"text-blue-400 border-b-2 border-blue-400":"text-gray-400 hover:text-gray-300"}`,onClick:()=>s("side"),children:"番外剧情"})]}),c&&i.jsxs(E.button,{className:"w-full text-left p-3 bg-purple-900/30 border-b border-gray-700 flex items-center",onClick:m,whileHover:{scale:1.02,backgroundColor:"rgba(147, 51, 234, 0.4)"},whileTap:{scale:.98},initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},children:[i.jsx("i",{className:"fa-solid fa-play-circle text-purple-400 mr-3 text-xl"}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-white font-medium",children:"继续阅读"}),i.jsx("p",{className:"text-gray-400 text-xs",children:"上次看到的位置"})]})]}),i.jsx("div",{className:"max-h-80 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-700 scrollbar-track-gray-900",children:t==="main"?Rt.map((p,y)=>{const b=`story_progress_${p.id}`,v=localStorage.getItem(b),k=v&&parseInt(v)>0,S=k?Math.round(parseInt(v)/p.content.length*100):0;return i.jsxs(E.button,{className:`w-full text-left p-3 hover:bg-gray-800 transition-all duration-300 flex items-center ${k?"border-l-2 border-purple-500":""}`,onClick:()=>f(p.id),whileHover:{scale:1.02,x:5},whileTap:{scale:.98},initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:y*.05},"aria-label":`查看章节：${p.title}`,children:[i.jsx("div",{className:"w-10 h-10 rounded-lg overflow-hidden mr-3 flex-shrink-0 border border-gray-700",children:i.jsx(E.img,{src:p.thumbnail,alt:p.title,className:"w-full h-full object-cover",loading:"lazy",whileHover:{scale:1.1},transition:{duration:.3}})}),i.jsxs("div",{className:"flex-grow",children:[i.jsx("h4",{className:"text-white font-medium line-clamp-1",children:p.title}),i.jsx("p",{className:"text-gray-400 text-xs line-clamp-1",children:p.description}),k&&i.jsxs("div",{className:"mt-1",children:[i.jsx("div",{className:"w-full bg-gray-700 rounded-full h-1 overflow-hidden",children:i.jsx(E.div,{className:"bg-purple-500 h-full rounded-full",style:{width:`${S}%`},initial:{width:0},animate:{width:`${S}%`},transition:{duration:.8,ease:"easeOut"}})}),i.jsxs("div",{className:"text-right text-xs text-gray-500 mt-0.5",children:[S,"%"]})]})]}),k&&i.jsxs(E.div,{className:"ml-2 text-xs bg-purple-500/20 text-purple-400 px-1.5 py-0.5 rounded-full",whileHover:{scale:1.1},children:[S,"%"]})]},p.id)}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"px-3 py-2 bg-gray-800/70 text-xs text-gray-400",children:"按角色类型浏览"}),i.jsxs("div",{className:"mb-4",children:[i.jsxs("div",{className:"px-3 py-2 bg-green-900/20 text-green-400 text-sm font-medium flex items-center",children:[i.jsx("i",{className:"fa-solid fa-seedling mr-2"}),"植物角色"]}),It.filter(p=>p.characterType==="plant").map((p,y)=>{const b=`side_story_progress_${p.id}`,v=localStorage.getItem(b),k=v&&parseInt(v)>0,S=k?Math.round(parseInt(v)/p.content.length*100):0;return i.jsxs(E.button,{className:`w-full text-left p-3 hover:bg-gray-800 transition-all duration-300 flex items-center ${k?"border-l-2 border-green-500":""}`,onClick:()=>f(p.id,!0),whileHover:{scale:1.02,x:5},whileTap:{scale:.98},initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:y*.05},"aria-label":`查看番外：${p.title}`,children:[i.jsxs("div",{className:"w-12 h-12 rounded-full overflow-hidden mr-3 flex-shrink-0 border border-green-500/50 relative",children:[i.jsx(E.img,{src:p.thumbnail,alt:p.title,className:"w-full h-full object-cover",loading:"lazy",whileHover:{scale:1.1},transition:{duration:.3}}),i.jsx("div",{className:"absolute -top-1 -right-1 bg-green-500 text-xs px-1.5 py-0.5 rounded-full text-black font-bold",children:i.jsx("i",{className:"fa-solid fa-leaf"})})]}),i.jsxs("div",{className:"flex-grow",children:[i.jsx("h4",{className:"text-white font-medium line-clamp-1",children:p.title}),i.jsx("p",{className:"text-gray-400 text-xs line-clamp-2",children:p.description}),k&&i.jsxs("div",{className:"mt-1",children:[i.jsx("div",{className:"w-full bg-gray-700 rounded-full h-1 overflow-hidden",children:i.jsx(E.div,{className:"bg-green-500 h-full rounded-full",style:{width:`${S}%`},initial:{width:0},animate:{width:`${S}%`},transition:{duration:.8,ease:"easeOut"}})}),i.jsxs("div",{className:"text-right text-xs text-gray-500 mt-0.5",children:[S,"%"]})]})]}),k&&i.jsxs(E.div,{className:"ml-2 text-xs bg-green-500/20 text-green-400 px-1.5 py-0.5 rounded-full",whileHover:{scale:1.1},children:[S,"%"]})]},p.id)})]}),i.jsxs("div",{className:"mb-4",children:[i.jsxs("div",{className:"px-3 py-2 bg-red-900/20 text-red-400 text-sm font-medium flex items-center",children:[i.jsx("i",{className:"fa-solid fa-skull mr-2"}),"僵尸角色"]}),It.filter(p=>p.characterType==="zombie").map((p,y)=>{const b=`side_story_progress_${p.id}`,v=localStorage.getItem(b),k=v&&parseInt(v)>0,S=k?Math.round(parseInt(v)/p.content.length*100):0;return i.jsxs(E.button,{className:`w-full text-left p-3 hover:bg-gray-800 transition-all duration-300 flex items-center ${k?"border-l-2 border-red-500":""}`,onClick:()=>f(p.id,!0),whileHover:{scale:1.02,x:5},whileTap:{scale:.98},initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:y*.05},"aria-label":`查看番外：${p.title}`,children:[i.jsxs("div",{className:"w-12 h-12 rounded-full overflow-hidden mr-3 flex-shrink-0 border border-red-500/50 relative",children:[i.jsx(E.img,{src:p.thumbnail,alt:p.title,className:"w-full h-full object-cover",loading:"lazy",whileHover:{scale:1.1},transition:{duration:.3}}),i.jsx("div",{className:"absolute -top-1 -right-1 bg-red-500 text-xs px-1.5 py-0.5 rounded-full text-black font-bold",children:i.jsx("i",{className:"fa-solid fa-ghost"})})]}),i.jsxs("div",{className:"flex-grow",children:[i.jsx("h4",{className:"text-white font-medium line-clamp-1",children:p.title}),i.jsx("p",{className:"text-gray-400 text-xs line-clamp-2",children:p.description}),k&&i.jsxs("div",{className:"mt-1",children:[i.jsx("div",{className:"w-full bg-gray-700 rounded-full h-1 overflow-hidden",children:i.jsx(E.div,{className:"bg-red-500 h-full rounded-full",style:{width:`${S}%`},initial:{width:0},animate:{width:`${S}%`},transition:{duration:.8,ease:"easeOut"}})}),i.jsxs("div",{className:"text-right text-xs text-gray-500 mt-0.5",children:[S,"%"]})]})]}),k&&i.jsxs(E.div,{className:"ml-2 text-xs bg-red-500/20 text-red-400 px-1.5 py-0.5 rounded-full",whileHover:{scale:1.1},children:[S,"%"]})]},p.id)})]}),i.jsx("div",{className:"px-3 py-4 text-center text-gray-500 text-sm",children:i.jsxs("p",{className:"flex flex-col items-center",children:[i.jsx("i",{className:"fa-solid fa-lock text-2xl mb-2"}),i.jsx("span",{children:"完成更多游戏关卡解锁更多番外剧情"}),i.jsx("span",{className:"mt-2 text-xs",children:"探索每个角色不为人知的故事"})]})})]})}),i.jsxs("div",{className:"p-3 border-t border-gray-700 bg-gray-800 rounded-b-xl flex justify-between items-center",children:[i.jsxs("div",{className:"text-xs text-gray-400",children:[Rt.length," 个章节"]}),i.jsxs("button",{className:"text-xs text-purple-400 hover:text-purple-300 transition-colors duration-200 flex items-center",onClick:()=>n(!1),children:[i.jsx("i",{className:"fa-solid fa-times mr-1"})," 关闭"]})]})]})})]})},N3={qingyuan:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/微信图片_20251016111846_103_92_20251016111910.jpg",shancatleader:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/善•猫教主_20251018115946.jpg",xuqinglan:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/徐清岚(魔法少女)_20251019101043.jpg",su_huai:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/宿槐僵尸_20251017203937.jpg",narrator:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20narrator%20mysterious%20figure%20cloaked%20in%20light%20cute%20chibi%20style&sign=a1c196cd894d1dbf7697e8dc74a74d38",qingxuan:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/青玄_20251020073321.jpg",murongyanfeng:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/慕容言风_20251020080449.jpg",xuqinglan_god:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/徐清岚（神）_20251020165934.jpg",nanaisei:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/奈奈生_20251020220122.jpg"},Sp={qingyuan:"清鸢",shancatleader:"善•猫教主",xuqinglan:"徐清岚",su_huai:"宿槐",narrator:"旁白",qingxuan:"青玄",murongyanfeng:"慕容言风",xuqinglan_god:"徐清岚（神）",nanaisei:"奈奈生"},ba={qingyuan:"from-yellow-600 to-yellow-400",shancatleader:"from-blue-600 to-blue-400",xuqinglan:"from-purple-600 to-purple-400",su_huai:"from-red-600 to-red-400",narrator:"from-gray-600 to-gray-400",xuqinglan_student:"from-purple-600 to-purple-400",ji_zai:"from-purple-600 to-purple-400",li_huo:"from-red-600 to-red-400",xuqinglan_dark:"from-red-600 to-red-400",qingxuan:"from-green-600 to-teal-400",murongyanfeng:"from-purple-900 to-indigo-600",xuqinglan_god:"from-cyan-600 to-blue-400",nanaisei:"from-yellow-500 to-white"},Sl=[{id:"intro-1",character:"narrator",text:"欢迎来到光明与暗影的世界...一场决定命运的战斗即将开始。",delay:1e3},{id:"intro-2",character:"qingyuan",text:"终于来了吗？我感受到了陌生而强大的魔法波动。",emotion:"calm"},{id:"intro-3",character:"xuqinglan",text:"你好！我是来自人类世界的徐清岚。我接收到了来自这个世界的求救信号，是你在呼唤我吗？",emotion:"surprised"},{id:"intro-4",character:"qingyuan",text:"是的，年轻的魔法使。暗影女王宿槐的势力正在侵蚀这片土地，我们需要你的帮助。"},{id:"intro-5",character:"shancatleader",text:"喵呜~又有新伙伴加入了吗？让我们一起将那些讨厌的僵尸赶出去吧！",emotion:"happy"},{id:"wave-1-1",character:"qingyuan",text:"小心！第一波僵尸正在逼近，准备迎敌！",condition:e=>e.currentWave===1&&e.gameStatus==="playing"},{id:"first-kill-1",character:"xuqinglan",text:"成功了！我的魔法生效了！",condition:e=>e.totalZombiesKilled===1,emotion:"happy",choices:[{text:"继续努力！",nextLineId:"first-kill-2"}]},{id:"first-kill-2",character:"shancatleader",text:"做得好！继续保持，我们一定能赢！",emotion:"happy"},{id:"low-sun-1",character:"qingyuan",text:"阳光不足了，多种一些向日葵来收集更多的阳光能量吧。",condition:e=>e.sunCount<100&&e.gameStatus==="playing"&&e.currentWave>0},{id:"wave-3-1",character:"xuqinglan",text:"这些僵尸越来越强了，我需要提升我的魔法强度！",condition:e=>e.currentWave===3&&e.gameStatus==="playing",emotion:"determined"},{id:"wave-5-1",character:"shancatleader",text:"喵！这些僵尸越来越多了，但我们不会轻易认输的！",condition:e=>e.currentWave===5&&e.gameStatus==="playing",emotion:"determined"},{id:"wave-5-2",character:"qingyuan",text:"坚持住！我们已经成功抵御了一半的攻势！"},{id:"half-waves-1",character:"qingyuan",text:"我们已经度过了一半的挑战。坚持住，胜利就在前方！",condition:e=>e.currentWave>0&&e.totalWaves>0&&e.currentWave>=Math.floor(e.totalWaves/2)&&e.currentWave<e.totalWaves&&!Sl.find(n=>n.id==="wave-5-1"&&e.currentWave===5)},{id:"massive-attack-1",character:"qingyuan",text:"小心！大规模僵尸来袭！集中火力消灭它们！",condition:e=>e.currentWave>5&&e.gameStatus==="playing"&&Math.random()>.7,emotion:"angry"},{id:"su-huai-appear-1",character:"su_huai",text:"清鸢，你还是这么执着。难道你看不出来这个世界已经无可救药了吗？",condition:e=>e.selectedLevel>=8,emotion:"angry"},{id:"su-huai-appear-2",character:"qingyuan",text:"宿槐...我依然相信你内心深处还有一丝光明。放弃黑暗吧！",emotion:"calm"},{id:"su-huai-appear-3",character:"su_huai",text:"光明？哈哈哈哈...光明给过我什么？只有背叛和失望！",emotion:"angry"},{id:"qingyuan-upgrade-1",character:"qingyuan",text:"光明之力正在增强！我感觉充满了能量！",condition:e=>e.plants.some(n=>n.type==="qingyuan")&&e.currentWave>2&&e.gameStatus==="playing"&&Math.random()>.8,emotion:"happy"},{id:"xuqinglan-evolve-1",character:"xuqinglan_student",text:"我的星尘之笔正在进化！我感觉我的魔法更加强大了！",condition:e=>e.plants.some(n=>n.type==="xuqinglan_student")&&e.currentWave>4&&e.gameStatus==="playing"&&Math.random()>.8,emotion:"surprised"},{id:"xuqinglan-student-1",character:"xuqinglan_student",text:"清鸢姐姐，我感觉自己正在与这片土地的魔法力量融为一体。这种感觉...很奇妙。",condition:e=>e.plants.some(n=>n.type==="xuqinglan_student")&&e.plants.some(n=>n.type==="qingyuan")&&Math.random()>.7,emotion:"calm"},{id:"xuqinglan-student-2",character:"qingyuan",text:"这是很好的迹象，清岚。当你真正理解并接纳这种力量时，你将变得更加强大。但请记住，力量越大，责任也就越大。",emotion:"calm"},{id:"ji-zai-appear-1",character:"ji_zai",text:"清鸢，你以为找来这个人类女孩就能改变什么吗？太天真了！",condition:e=>e.currentWave>6&&e.gameStatus==="playing"&&Math.random()>.7,emotion:"angry"},{id:"ji-zai-appear-2",character:"qingyuan",text:"季灾！你这个阴险的家伙！离我们远点！",emotion:"angry"},{id:"xuqinglan-dark-appear-1",character:"xuqinglan_dark",text:"清鸢...善•猫教主...你们为什么要抛弃我？",condition:e=>e.selectedLevel>=8&&e.gameStatus==="playing"&&Math.random()>.7,emotion:"angry"},{id:"xuqinglan-dark-appear-2",character:"shancatleader",text:"喵呜~清岚姐姐！你怎么了？我们没有抛弃你啊！",emotion:"sad"},{id:"xuqinglan-dark-appear-3",character:"xuqinglan_dark",text:"没有抛弃？哈哈哈哈...当我在黑暗中挣扎时，你们在哪里？当我最需要帮助时，你们又在哪里？",emotion:"angry"},{id:"xuqinglan-dark-appear-4",character:"qingyuan",text:"清岚，我知道你现在很痛苦。但这不是真正的你！请相信我们，我们一直都在你身边！",emotion:"determined"},{id:"final-wave-1",character:"xuqinglan",text:"这是最后一波了！让我们用全力击溃他们！",condition:e=>e.currentWave===e.totalWaves&&e.gameStatus==="playing"&&e.totalWaves>0,emotion:"determined"},{id:"final-wave-2",character:"shancatleader",text:"喵呜！最后的决战！让我们让这些僵尸见识一下真正的力量！",emotion:"happy"},{id:"victory-1",character:"narrator",text:"恭喜！你成功抵御了僵尸的入侵，光明再次笼罩这片土地。",condition:e=>e.gameStatus==="victory"},{id:"victory-2",character:"qingyuan",text:"谢谢你，徐清岚。你的魔法力量对我们帮助很大。",emotion:"happy"},{id:"victory-3",character:"xuqinglan",text:"这是我的使命。只要这个世界还需要我，我就会回来的！",emotion:"determined",choices:[{text:"我也会永远记住这次冒险。",nextLineId:"victory-4"}]},{id:"victory-4",character:"shancatleader",text:"喵呜~胜利啦！我们是最棒的团队！",emotion:"happy"},{id:"defeat-1",character:"su_huai",text:"哈哈哈...清鸢，你输了。黑暗终将吞噬一切光明！",condition:e=>e.gameStatus==="gameover",emotion:"angry"},{id:"defeat-2",character:"qingyuan",text:"不要灰心，我们还有机会。下次一定能击败宿槐！",emotion:"calm"},{id:"defeat-3",character:"xuqinglan",text:"我...我还不够强。但是下一次，我一定会变得更强！",emotion:"sad"},{id:"partners-1",character:"xuqinglan",text:"善•猫教主，我们配合得真好！",condition:e=>e.plants.some(n=>n.type==="shancatleader")&&e.plants.some(n=>n.type==="xuqinglan")&&Math.random()>.7,emotion:"happy"},{id:"partners-2",character:"shancatleader",text:"喵呜~那当然啦！我们可是最佳搭档！",emotion:"happy"},{id:"advanced-level-1",character:"qingyuan",text:"这是一个充满挑战的关卡，但我相信你的能力。",condition:e=>e.selectedLevel>=7&&e.gameStatus==="playing"},{id:"long-game-1",character:"shancatleader",text:"喵呜~别累坏了！我们慢慢来，一定能赢的！",condition:e=>e.currentWave>8&&e.gameStatus==="playing"&&Math.random()>.8,emotion:"happy"},{id:"qingxuan-intro-1",character:"qingxuan",text:"星界之门的守护者青玄，愿为光明大陆贡献我的力量。即使经历了坠落后的迷茫，我依然记得自己的使命。",condition:e=>e.plants.some(n=>n.type==="qingxuan")&&e.gameStatus==="playing",emotion:"calm"},{id:"qingxuan-combat-1",character:"qingxuan",text:"星界之力，护佑光明！流光伞，绽放你的光芒吧！",condition:e=>e.plants.some(n=>n.type==="qingxuan")&&e.currentWave>3&&e.gameStatus==="playing",emotion:"determined"},{id:"qingxuan-heal-1",character:"qingxuan",text:"让星界的力量治愈你。每一片星光，都是生命的祝福。",condition:e=>e.plants.some(n=>n.type==="qingxuan")&&e.currentWave>1&&e.gameStatus==="playing"&&Math.random()>.8,emotion:"calm"},{id:"qingxuan-with-xuqinglan-1",character:"qingxuan",text:"徐清岚，你的魔法与星界之力有着奇妙的共鸣。或许，你与星界之间也有着不为人知的缘分。",condition:e=>e.plants.some(n=>n.type==="qingxuan")&&e.plants.some(n=>n.type==="xuqinglan")&&Math.random()>.8,emotion:"surprised"},{id:"qingxuan-victory-1",character:"qingxuan",text:"星界的平衡得以维持，光明必将战胜黑暗。这不仅是我的信念，也是所有守护者的共同心愿。",condition:e=>e.plants.some(n=>n.type==="qingxuan")&&e.gameStatus==="victory",emotion:"happy"},{id:"murongyanfeng-intro-1",character:"murongyanfeng",text:"哈哈哈...光明与黑暗的战斗，又开始了吗？真是让人怀念的场景啊。",condition:e=>e.plants.some(n=>n.type==="murongyanfeng")&&e.gameStatus==="playing",emotion:"calm"},{id:"murongyanfeng-combat-1",character:"murongyanfeng",text:"明渊之力，听我号令！黑暗的力量啊，为我所用吧！",condition:e=>e.plants.some(n=>n.type==="murongyanfeng")&&e.currentWave>3&&e.gameStatus==="playing",emotion:"determined"},{id:"murongyanfeng-dark-1",character:"murongyanfeng",text:"黑暗...不过是另一种力量罢了。光明与黑暗，本就是相生相克的存在。",condition:e=>e.plants.some(n=>n.type==="murongyanfeng")&&e.currentWave>1&&e.gameStatus==="playing"&&Math.random()>.8,emotion:"calm"},{id:"murongyanfeng-with-ji_zai-1",character:"murongyanfeng",text:"季灾，我们又见面了。这次，我站在另一边。你我之间的恩怨，也该做个了断了。",condition:e=>e.plants.some(n=>n.type==="murongyanfeng")&&e.gameStatus==="playing"&&Math.random()>.8,emotion:"calm"},{id:"murongyanfeng-victory-1",character:"murongyanfeng",text:"这场战斗...还算有趣。不过，这只是开始。光明与黑暗的故事，还远没有结束。",condition:e=>e.plants.some(n=>n.type==="murongyanfeng")&&e.gameStatus==="victory",emotion:"calm"},{id:"nanaisei-intro-1",character:"nanaisei",text:"命运的齿轮已经开始转动，光明与黑暗的对决将决定这个世界的未来...",condition:e=>e.plants.some(n=>n.type==="nanaisei")&&e.gameStatus==="playing",emotion:"calm"},{id:"nanaisei-foresee-1",character:"nanaisei",text:"我预见到了下一波僵尸的动向。它们会从第三条和第五条路线发起进攻，准备好迎敌！",condition:e=>e.plants.some(n=>n.type==="nanaisei")&&e.currentWave>0&&e.gameStatus==="playing"&&Math.random()>.7,emotion:"determined"},{id:"nanaisei-with-xuqinglan-1",character:"nanaisei",text:"清岚，你的成长远超我的预期。光明之力在你体内流淌，你将成为对抗黑暗的关键。",condition:e=>e.plants.some(n=>n.type==="nanaisei")&&e.plants.some(n=>n.type==="xuqinglan")&&Math.random()>.7,emotion:"happy"},{id:"nanaisei-protect-1",character:"nanaisei",text:"本源守护，开启！愿光明之力护佑所有生命。",condition:e=>e.plants.some(n=>n.type==="nanaisei")&&e.gameStatus==="playing"&&e.currentWave>3&&Math.random()>.8,emotion:"calm"},{id:"nanaisei-victory-1",character:"nanaisei",text:"光明终将战胜黑暗，这是命运的必然。但真正的胜利，是让每个灵魂都能找到属于自己的光明。",condition:e=>e.plants.some(n=>n.type==="nanaisei")&&e.gameStatus==="victory",emotion:"happy"},{id:"nanaisei-dark-appear-1",character:"nanaisei",text:"清岚，我知道你在痛苦中挣扎。但请记住，在你内心最深处，永远有一缕光明在等待着被重新点燃。",condition:e=>e.plants.some(n=>n.type==="nanaisei")&&e.selectedLevel>=8&&e.gameStatus==="playing"&&Math.random()>.7,emotion:"sad"},{id:"nanaisei-with-god-1",character:"nanaisei",text:"命运的轮回已经完成，光明的意志将继续传承。清岚，你终于找到了真正的自己。",condition:e=>e.plants.some(n=>n.type==="nanaisei")&&e.plants.some(n=>n.type==="xuqinglan_god")&&Math.random()>.8,emotion:"happy"}],S3=({gameState:e})=>{const n=fr(),[t,s]=j.useState(null),[o,c]=j.useState([]),[u,f]=j.useState(!1),[h,m]=j.useState(""),[p,y]=j.useState(!1),[b,v]=j.useState(null),[k,S]=j.useState([]),N=j.useRef([]),C=j.useRef(null),[M,_]=j.useState("expanded"),[T,R]=j.useState(null);j.useEffect(()=>{const le=Sl.filter(je=>!o.includes(je.id)&&(!je.condition||je.condition(e)));if(le.length>0){le.sort((Te,$e)=>{const De=de=>{const ie=de.match(/\d+/);return ie?parseInt(ie[0]):0},xe=De(Te.id),Y=De($e.id);return xe<Y?-1:xe>Y?1:0});const je=le.filter(Te=>!Te.id.includes("followup")),Ae=le.filter(Te=>Te.id.includes("followup"));N.current=[...N.current,...je,...Ae],!t&&N.current.length>0&&A()}},[e,o,t]);const A=()=>{if(N.current.length===0){setTimeout(()=>{_("minimized")},1e3);return}const le=N.current.shift(),je=O(le.character);s(le),c($e=>[...$e,le.id]),f(!0),m(""),C.current&&clearTimeout(C.current);let Ae=0;const Te=()=>{if(Ae<le.text.length){const $e=Math.random(),De=$e>.95?100:$e>.9?50:je;m(xe=>xe+le.text[Ae]),Ae++,C.current=setTimeout(Te,De)}else f(!1),le.choices&&le.choices.length>0&&y(!0)};le.delay?setTimeout(Te,le.delay):Te()},O=le=>{switch(le){case"su_huai":return 45;case"qingyuan":return 35;case"xuqinglan":return 30;case"shancatleader":return 25;case"narrator":return 40;case"xuqinglan_god":return 32;case"nanaisei":return 28;default:return 30}},U=()=>{u&&t?(C.current&&clearTimeout(C.current),m(t.text),f(!1),t.choices&&t.choices.length>0&&y(!0)):p&&(t!=null&&t.choices)?ae(t.choices[0].nextLineId):A()},ae=le=>{y(!1);const je=Sl.find(Ae=>Ae.id===le);je&&N.current.unshift(je),A()};if(j.useEffect(()=>()=>{C.current&&clearTimeout(C.current)},[]),j.useEffect(()=>{t&&(R(b),v(t.character),S(le=>[...le.slice(-5),t]))},[t,b]),n.pathname!=="/")return null;const H=M==="minimized";return i.jsx(dr,{children:!H&&t?i.jsxs(E.div,{className:"fixed bottom-4 left-0 right-0 flex justify-center items-center z-50 pointer-events-none",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.3},children:[i.jsx(E.div,{className:`absolute inset-0 bg-gradient-to-r ${ba[t.character]} opacity-5 rounded-full blur-3xl`,animate:{scale:[1,1.2,1],opacity:[.05,.08,.05]},transition:{duration:3,repeat:1/0,ease:"easeInOut"}}),i.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:Array.from({length:8}).map((le,je)=>i.jsx(E.div,{className:`absolute rounded-full bg-${(ba[t.character]||"from-purple-600 to-purple-400").split(" ")[1].split("-")[0]}-400 opacity-30`,style:{width:Math.random()*8+2,height:Math.random()*8+2,left:`${Math.random()*100}%`,top:`${Math.random()*100}%`},animate:{y:[0,-Math.random()*30-10],opacity:[.3,0]},transition:{duration:Math.random()*3+2,repeat:1/0,repeatType:"loop",delay:Math.random()*2}},je))}),i.jsxs(E.div,{className:"bg-gray-900 bg-opacity-90 backdrop-blur-md rounded-xl p-4 max-w-2xl w-full pointer-events-auto shadow-2xl border border-gray-700 relative overflow-hidden",onClick:U,whileHover:{scale:1.02},whileTap:{scale:.98},transition:{duration:.2},children:[i.jsxs("div",{className:"absolute inset-0 opacity-5",children:[i.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${ba[t.character]}`}),i.jsx(E.div,{className:"absolute top-1/2 left-1/2 w-3/4 h-3/4 -translate-x-1/2 -translate-y-1/2 rounded-full bg-white",animate:{scale:[1,1.2,1],opacity:[.1,.2,.1]},transition:{duration:3,repeat:1/0,ease:"easeInOut"}})]}),i.jsx(E.button,{className:"absolute bottom-3 left-3 bg-gray-800 bg-opacity-80 hover:bg-opacity-100 text-white rounded-full p-2 z-20 backdrop-blur-sm border border-gray-700 shadow-lg",whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>_("minimized"),"aria-label":"收起对话",children:i.jsx("i",{className:"fa-solid fa-chevron-down"})}),i.jsxs("div",{className:"flex items-start relative z-10",children:[i.jsxs(E.div,{className:`w-14 h-14 rounded-full overflow-hidden flex-shrink-0 border-2 ${t.character==="su_huai"?"border-red-500 ring-2 ring-red-500":`border-${(ba[t.character]||"from-purple-600 to-purple-400").split(" ")[1].split("-")[0]}-500 ring-2 ring-transparent`}`,style:{boxShadow:`0 0 20px ${t.character==="su_huai"?"rgba(239, 68, 68, 0.4)":"rgba(79, 70, 229, 0.4)"}`},initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:500,damping:30},whileHover:{scale:1.05,rotate:5},children:[i.jsx("img",{src:N3[t.character],alt:Sp[t.character],className:"w-full h-full object-cover",loading:"lazy"}),t.emotion&&i.jsxs(E.div,{className:"absolute -top-2 -right-2 bg-black bg-opacity-70 rounded-full w-7 h-7 flex items-center justify-center text-white text-xs font-bold",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:400,damping:10},whileHover:{scale:1.2},children:[t.emotion==="happy"&&"😊",t.emotion==="sad"&&"😢",t.emotion==="angry"&&"😠",t.emotion==="surprised"&&"😮",t.emotion==="calm"&&"😌",t.emotion==="determined"&&"😤",t.emotion==="curious"&&"🤔"]})]}),i.jsxs("div",{className:"flex-grow ml-4",children:[i.jsxs(E.div,{className:`font-bold text-sm mb-2 inline-flex items-center px-3 py-1 rounded-full ${t.character==="su_huai"?"bg-red-900/50 text-red-300 border border-red-700/50":"bg-gray-800/80 text-white border border-gray-700"}`,initial:{x:-10,opacity:0},animate:{x:0,opacity:1},transition:{delay:.1},children:[i.jsx("span",{className:`mr-1.5 inline-block w-2 h-2 rounded-full ${t.character==="su_huai"?"bg-red-400":"bg-blue-400"}`}),Sp[t.character]]}),i.jsxs(E.div,{className:"relative",initial:{y:10,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},children:[i.jsx("div",{className:`absolute -left-4 top-2 w-4 h-4 rotate-45 ${t.character==="su_huai"?"bg-red-900/20 border-t border-l border-red-700/50":"bg-gray-800/20 border-t border-l border-gray-700"}`}),i.jsxs("p",{className:"text-white text-base mb-3 leading-relaxed bg-gray-800/20 backdrop-blur-sm p-4 rounded-xl border border-gray-700 shadow-inner",children:[h,u&&i.jsx(E.span,{className:"inline-block w-2 h-4 bg-white ml-1 rounded-full",animate:{opacity:[1,0,1]},transition:{repeat:1/0,duration:1}})]}),u&&i.jsx("div",{className:"flex space-x-1.5 justify-end -mt-2 mb-2 mr-2",children:[1,2,3].map(le=>i.jsx(E.div,{className:"w-1.5 h-1.5 bg-gray-500 rounded-full",animate:{scale:[1,1.5,1],opacity:[.5,1,.5]},transition:{duration:1.2,repeat:1/0,delay:le*.2,repeatType:"reverse"}},le))})]}),i.jsx(dr,{children:p&&t.choices&&i.jsx(E.div,{className:"mt-4 space-y-3",initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},children:t.choices.map((le,je)=>i.jsxs(E.button,{className:`w-full text-left bg-gradient-to-r ${je===0?"from-purple-900/80 to-indigo-900/80 hover:from-purple-800/80 hover:to-indigo-800/80 border-purple-700/50":"from-gray-800/80 to-gray-900/80 hover:from-gray-700/80 hover:to-gray-800/80 border-gray-700"} text-white p-3.5 rounded-xl border transition-all duration-300 shadow-lg backdrop-blur-sm group`,whileHover:{scale:1.02,x:6},whileTap:{scale:.97},onClick:()=>ae(le.nextLineId),disabled:le.condition&&!le.condition(e),initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:je*.15},children:[i.jsxs("span",{className:"mr-3 font-bold text-lg text-purple-300",children:[je+1,"."]}),i.jsx("span",{className:"group-hover:text-purple-200 transition-colors duration-200",children:le.text}),le.condition&&!le.condition(e)&&i.jsx("span",{className:"ml-2 text-xs text-gray-400 bg-gray-700/50 px-2 py-0.5 rounded-full",children:"条件未满足"}),i.jsx(E.span,{className:"inline-block ml-2 opacity-70",animate:{x:[0,3,0]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"},children:i.jsx("i",{className:"fa-solid fa-arrow-right"})})]},je))})}),i.jsxs("div",{className:"text-xs text-gray-400 text-right flex flex-wrap justify-between items-center mt-3 gap-2",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("i",{className:"fa-solid fa-hand-pointer mr-1.5"}),u?i.jsx("span",{children:"点击快速显示"}):p?i.jsx("span",{children:"选择一个选项"}):i.jsx("span",{children:"点击继续"})]}),i.jsxs("div",{className:"flex items-center bg-gray-800/50 px-2 py-1 rounded-full",children:[i.jsx("span",{className:"text-xs text-gray-500 mr-2",children:"进度:"}),i.jsxs("div",{className:"w-20 h-1.5 bg-gray-700 rounded-full overflow-hidden",children:[i.jsx(E.div,{className:`h-full bg-gradient-to-r ${ba[t.character]}`,style:{width:`${h.length/((t==null?void 0:t.text.length)||1)*100}%`},initial:{width:0},animate:{width:`${h.length/((t==null?void 0:t.text.length)||1)*100}%`},transition:{duration:.1,ease:"linear"}}),i.jsx(E.div,{className:"absolute h-full w-6 bg-white/20 blur-sm",animate:{x:[0,"100%"],opacity:[0,.7,0]},transition:{repeat:1/0,duration:1.5,ease:"easeInOut",repeatDelay:.5},style:{pointerEvents:"none"}})]})]})]})]})]}),i.jsx(E.div,{className:`absolute -bottom-10 -right-10 w-40 h-40 rounded-full blur-3xl opacity-20 bg-gradient-to-br ${ba[t.character]}`,animate:{scale:[1,1.2,1],opacity:[.1,.3,.1]},transition:{duration:5,repeat:1/0,ease:"easeInOut"}}),i.jsx(E.div,{className:`absolute top-1/4 -left-10 w-20 h-20 rounded-full blur-2xl opacity-10 bg-gradient-to-br ${ba[t.character]}`,animate:{scale:[1,1.3,1],opacity:[.1,.2,.1]},transition:{duration:4,repeat:1/0,ease:"easeInOut"}})]})]}):i.jsx(E.div,{className:"fixed bottom-6 right-6 z-50 pointer-events-auto",initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:.3},onClick:()=>{if(_("expanded"),N.current.length>0)A();else{const le=Sl.filter(je=>!o.includes(je.id)&&(!je.condition||je.condition(e)));le.length>0&&(le.sort((je,Ae)=>{const Te=xe=>{const Y=xe.match(/\d+/);return Y?parseInt(Y[0]):0},$e=Te(je.id),De=Te(Ae.id);return $e<De?-1:$e>De?1:0}),N.current=le,A())}},whileHover:{scale:1.15,rotate:5},whileTap:{scale:.9},children:i.jsxs("div",{className:"relative group",children:[i.jsx(E.div,{className:"absolute inset-0 rounded-full bg-gradient-to-r from-purple-600 to-indigo-600 blur-xl opacity-70 group-hover:opacity-100 transition-opacity duration-300",animate:{scale:[1,1.15,1]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}}),i.jsxs(E.div,{className:"relative bg-gradient-to-r from-purple-600 to-indigo-600 w-14 h-14 rounded-full flex items-center justify-center shadow-lg border-2 border-white/20",whileHover:{y:-3},children:[i.jsx("i",{className:"fa-solid fa-comment text-white text-2xl animate-pulse"}),N.current.length>0&&i.jsx(E.div,{className:"absolute -top-1 -right-1 w-6 h-6 rounded-full bg-red-500 flex items-center justify-center text-white text-xs font-bold border-2 border-white",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:400,damping:10},children:N.current.length})]})]})})})},q={gridSize:{rows:6,cols:15},cellSize:{width:80,height:80},maxSun:9999,initialSun:200,sunProductionRate:1500,sunValue:30,maxZombiesPerWave:{easy:8,medium:10,hard:12,expert:15},waveInterval:25e3,gameSpeed:1,plantCooldownMultiplier:.7,zombieSpeedMultiplier:.75,meteoriteCooldown:1e4,gameTipsInterval:15e3,comboMultiplierThreshold:3,comboMultiplier:1.5,zombieTypeWeights:{easy:{su_huai:10},medium:{su_huai:10},hard:{su_huai:10},expert:{su_huai:10}}},tt={shancatleader:{name:"善•猫教主",cost:350,cooldown:2500,health:15e3,damage:2e3,attackRange:2,attackSpeed:600,specialEffect:'可以移动的植物，每1秒向右移动一格，遇到僵尸时停止移动并进行战斗；对猫教主僵尸造成额外800%伤害；击杀僵尸后获得额外150阳光奖励；移动时免疫攻击和负面效果；受到致命伤害时会回到初始位置并恢复100%生命值，并且在接下来的5秒内获得无敌状态；每消灭1个僵尸后进入"圣猫形态"，持续12秒，移动速度提升150%，攻击力提升100%，且在形态期间免疫所有负面效果；普通攻击有60%几率触发"光明冲击"，对目标造成额外伤害并眩晕4秒；每8秒可以使用一次"光明冲刺"，立即向前移动8格并对路径上的所有僵尸造成伤害，且在冲刺过程中无敌；在场时，周围6格内的植物获得30%攻击速度加成和25%伤害提升；新增高级被动技能：光明之怒，每次攻击有40%几率召唤光明能量波，对前方3格内的所有僵尸造成伤害；新增终极技能：猫神降临，每消灭8个僵尸后，可以释放一次全屏AOE伤害并恢复自身70%生命值；新增被动技能：光明守护，每2秒恢复自身3%最大生命值；新增被动技能：灵魂净化，每次攻击有20%几率净化目标，使其受到的伤害增加20%，持续5秒；新增特性：在圣猫形态下，攻击范围扩大至3格。',rarity:"传说",category:"光明使者"},qingyuan:{name:"清鸢",cost:500,cooldown:3e3,health:1e5,damage:1e3,attackRange:99,attackSpeed:500,specialEffect:"每0.8秒产生80阳光；场上出现僵尸时，自动攻击，攻击数量为场上僵尸数+3；免疫减速、控制效果和所有负面状态；对特殊僵尸造成额外100%伤害；每消灭8个僵尸获得一个神圣护盾，可抵挡一次致命伤害；每10秒释放一次神圣光波，清除全屏负面效果；每30秒召唤一次神圣领域，持续5秒，期间所有植物攻击力提升50%；对所有类型僵尸造成额外伤害（巨人+30%、飞行+40%、潜水+50%、特殊+100%）；周围3格内的植物获得20%伤害减免；死亡时触发神圣爆发，对全屏僵尸造成3000点伤害并眩晕3秒；拥有自动瞄准系统，优先攻击血量最高的僵尸；受到攻击时有30%概率反弹50%伤害"},xuqinglan:{name:"徐清岚（魔法少女）",cost:400,cooldown:3e3,health:8e3,damage:1500,attackRange:6,attackSpeed:800,specialEffect:'成长型植物，拥有三级进化阶段：一级时通过笔墨写符咒攻击前方；二级时形成魔法阵，多只笔作宝剑和符咒一起攻击，攻击速度提升至原来的2倍，攻击范围扩大至周围1格，变为范围型攻击；三级时进化为法杖形态，继续多只笔一起成宝剑魔法阵攻击，进入终极阶段，大范围攻击（前方3x3区域），同时伴有增幅己方植物攻击力25%、削弱僵尸防御力20%的作用；对火属性僵尸造成额外150%伤害；每次攻击有30%几率触发"魔法连击"，额外发射一道符咒攻击；随着游戏时间推移，自动提升至更高等级，每20秒自动升级一级；达到三级后，每消灭5个僵尸可获得一次额外的魔法能量爆发，短暂提升所有能力（攻击速度+50%、伤害+30%，持续8秒）；免疫所有减速和控制效果；普通攻击有20%几率造成"魔法标记"，使目标受到的后续魔法伤害增加10%，持续5秒；三级形态时，每15秒释放一次"光明守护"，为周围3格内所有植物恢复10%最大生命值；与善•猫教主同时在场时，两人获得20%伤害减免和15%攻击速度提升，形成"光明搭档"效果。',rarity:"传说",category:"魔法使者"},xuqinglan_student:{name:"徐清岚（修习者）",cost:450,cooldown:3500,health:6e3,damage:1800,attackRange:7,attackSpeed:700,specialEffect:'徐清岚的另一形态，拥有比"徐清岚（魔法少女）"更强的元素魔法，能将魔法发挥到极致；每次攻击有40%几率触发"元素爆发"，额外发射一道强大的元素魔法，对目标造成额外伤害；对黑暗魔法增强的僵尸造成额外200%伤害；受到攻击时有20%几率触发"魔法护盾"，免疫下一次伤害；每消灭3个僵尸获得一次魔法能量积累，达到3层时释放一次全屏魔法能量爆发，对所有僵尸造成当前伤害值的50%伤害；与善•猫教主同时在场时，两人获得25%伤害减免和20%攻击速度提升，形成"强化光明搭档"效果；三级形态时，每12秒释放一次"魔力守护"，为周围4格内所有植物恢复15%最大生命值；每10秒随机获得一种元素强化（火、水、风、土），持续15秒，各元素强化提供不同效果；拥有极高的魔法天赋，但血量较少，需要其他植物保护。',rarity:"传说",category:"魔法使者"},yijiu:{name:"屹九",cost:150,cooldown:1500,health:500,damage:30,attackRange:3,attackSpeed:2e3,specialEffect:"来自于人类世界，喜欢吃糖葫芦，呆萌的形象让敌人对其的攻击减半；当受到攻击时，有30%几率使攻击者陷入迷惑状态，持续3秒；周围3格内的植物获得15%伤害减免；对巨人僵尸的攻击减半效果提升至70%；免疫所有控制效果；每消灭1个僵尸恢复自身5%最大生命值；受到致命伤害时会进入防御姿态，持续5秒，期间受到的伤害减少80%",rarity:"普通",category:"防御型植物"},mumu:{name:"沐沐",cost:650,cooldown:3500,health:15e4,damage:2500,attackRange:99,attackSpeed:600,specialEffect:'冰属性攻击，对暗影属性敌人造成额外200%伤害；每次攻击有60%几率触发"冰之束缚"，使目标减速50%，持续3秒；每消灭1个僵尸获得一个"冰之护盾"，可抵挡一次伤害；每12秒释放一次"冰雪领域"，清除全屏负面效果并为所有植物提供15%伤害减免，持续8秒；在场时，周围8格内的所有植物受到的冰属性伤害提升20%；免疫减速和控制效果；受到攻击时有70%几率反弹50%伤害并减速攻击者；新增主动技能："冰之封锁"，可手动触发，立即对所有僵尸造成4000点伤害并附加冰冻效果，冷却时间30秒；新增被动技能："冰雪之心"，每秒恢复自身1.5%最大生命值；新增特性：当生命值低于30%时，获得"冰茧守护"，免疫所有伤害，持续5秒，每场战斗只能触发一次。',rarity:"史诗",category:"冰属性法师"}},Rl={su_huai:{name:"宿槐",health:5e4,speed:.35,damage:3e3,reward:1e4,armor:5e3,specialAbility:"1.成长型僵尸：随出现在场上的时间增加而增强，当出现时间达到3分钟时，“宿槐”属性达到最大，之后属性不在增长，在3分钟内，每次增强，“宿槐”状态均会恢复到最好;2.召唤僵尸：“宿槐”可以召唤其他种类僵尸加入战场;3.暗影护盾：每20秒生成一个暗影护盾，吸收3000点伤害;4.诅咒光环：周围5格内的植物攻击速度降低30%;5.生命吸取：每次攻击恢复自身20%造成的伤害",description:"宿槐是拥有神秘力量的成长型终极BOSS级僵尸，曾经是光明大陆备受尊崇的精灵公主。在被黑暗力量侵蚀后，她获得了操控暗影的强大能力，并成为暗影世界的绝对统治者。随着战斗时间的推移，她的力量会不断增强，同时还能召唤各种强大的随从僵尸为她作战。宿槐的出现预示着一场空前艰难的战斗即将开始，她强大的暗影护盾、诅咒光环和生命汲取能力使她成为所有植物的噩梦，只有最强大、最策略性的植物防线才能有希望抵挡她的进攻。"},ji_zai:{name:"季灾",health:15e3,speed:.5,damage:1200,armor:2e3,reward:3e3,specialAbility:"暗影领域：每15秒生成一个暗影领域，范围内的植物攻击力降低40%，持续8秒；虚弱诅咒：每次攻击有30%概率使目标植物的防御力降低30%，持续5秒；生命汲取：每次攻击恢复自身10%造成的伤害；暗影之盾：免疫减速和控制效果；暗影亲和：当宿槐在场上时，季灾获得25%伤害减免和15%移动速度加成；极致的暗：对光明属性的植物造成额外120%伤害",description:"季灾是暗影大陆的顶级阴阳师，代表极致的暗。他与离火是双胞胎，两人在暗影大陆诞生时就已存在，但踪迹极少有人清楚。季灾拥有极强的削弱植物能力，能通过暗影领域和诅咒大幅降低植物的战斗能力，是宿槐进攻人类世界的重要助力。"},li_huo:{name:"离火",health:12e3,speed:.6,damage:1e3,armor:1500,reward:2500,specialAbility:"火焰领域：每20秒生成一个火焰领域，范围内的僵尸获得25%攻击力提升和15%移动速度提升，持续10秒；燃烧之魂：每次攻击使目标植物燃烧，每秒受到相当于自身攻击力15%的额外伤害，持续3秒；生命强化：每消灭一个植物，周围5格内的所有僵尸恢复20%最大生命值；火焰亲和：当宿槐在场上时，离火获得20%攻击力提升和20%生命恢复速度加成；极致的火：对冰系植物造成额外150%伤害",description:"离火是暗影大陆的顶级阴阳师，代表极致的火。他与季灾是双胞胎，两人在暗影大陆诞生时就已存在，但踪迹极少有人清楚。离火拥有极强的增益僵尸能力，能通过火焰领域和强化效果大幅提升僵尸的战斗能力，是宿槐进攻人类世界的重要助力。"}},zt={1:{waves:3,zombieTypes:["su_huai"],difficulty:"easy"},2:{waves:5,zombieTypes:["su_huai"],difficulty:"medium"},3:{waves:7,zombieTypes:["su_huai"],difficulty:"hard"},4:{waves:10,zombieTypes:["su_huai"],difficulty:"hard"},5:{waves:12,zombieTypes:["su_huai"],difficulty:"hard"},6:{waves:15,zombieTypes:["su_huai"],difficulty:"expert"},7:{waves:18,zombieTypes:["su_huai"],difficulty:"expert"},8:{waves:20,zombieTypes:["su_huai"],difficulty:"expert"},9:{waves:999,zombieTypes:["su_huai"],difficulty:"expert",isEndless:!0},10:{waves:15,zombieTypes:["su_huai"],difficulty:"expert",isHighIntensityCustom:!0},xuqinglan_god:{name:"徐清岚（神）",cost:650,cooldown:2e3,health:2e5,damage:2500,attackRange:99,attackSpeed:400,specialEffect:"神秘的终极形态，拥有超越常规的能力；每0.3秒产生150阳光；场上出现僵尸时，自动攻击，攻击数量为场上僵尸数+8；免疫减速、控制效果和所有负面状态；对所有类型的僵尸造成额外200%伤害；每消灭2个僵尸获得一个神圣护盾，可抵挡一次致命伤害；每8秒释放一次神秘光波，清除全屏负面效果并恢复所有植物10%最大生命值；每20秒召唤一次神秘领域，持续12秒，期间所有植物攻击力提升100%，防御力提升50%；对所有类型僵尸造成额外伤害（巨人+80%、飞行+90%、潜水+100%、特殊+250%）；周围8格内的植物获得60%伤害减免和20%攻击速度提升；死亡时触发神秘爆发，对全屏僵尸造成10000点伤害并眩晕10秒；受到攻击时有80%概率反弹100%伤害；新增主动技能：神秘净化，可手动触发，立即清除全屏负面效果并对所有僵尸造成5000点伤害，冷却时间30秒；新增被动技能：神秘守护，每秒恢复自身3%最大生命值",rarity:"传说",category:"神秘使者"}};class Si{constructor(n,t,s,o,c){Q(this,"id");Q(this,"x");Q(this,"y");Q(this,"width");Q(this,"height");Q(this,"health");Q(this,"maxHealth");this.id=Math.random().toString(36).substr(2,9),this.x=n,this.y=t,this.width=s,this.height=o,this.health=c,this.maxHealth=c}isColliding(n){return this.x<n.x+n.width&&this.x+this.width>n.x&&this.y<n.y+n.height&&this.y+this.height>n.y}takeDamage(n){return this.health-=n,this.health<=0}render(n){}update(n){}}class k3 extends Si{constructor(t,s,o){const{width:c,height:u}=q.cellSize,f=s*c,h=o*u;super(f,h,c,u,tt[t].health);Q(this,"type");Q(this,"cost");Q(this,"cooldown");Q(this,"lastAttackTime");Q(this,"lastSunProductionTime");Q(this,"gridX");Q(this,"gridY");Q(this,"lastMoveTime");this.type=t,this.cost=tt[t].cost,this.cooldown=tt[t].cooldown,this.lastAttackTime=0,this.lastSunProductionTime=0,this.gridX=s,this.gridY=o,this.lastMoveTime=Date.now()}canAttack(t){return tt[this.type].attackSpeed?t-this.lastAttackTime>=tt[this.type].attackSpeed:!1}canProduceSun(t){return this.type==="sunflower"?t-this.lastSunProductionTime>=8e3:this.type==="sunshroom"?t-this.lastSunProductionTime>=1e4:!1}attack(){if(this.type==="peashooter"||this.type==="snowpea"||this.type==="cattail"||this.type==="qingyuan"){const t=this.x+this.width/2,s=this.y+this.height/4,o=tt[this.type].damage||0,c=this.type==="snowpea";return new ks(t,s,o,c)}return null}explode(){return this.type==="cherrybomb"}render(t){t.save();const s=this.x+this.width/2,o=this.y+this.height/2;t.shadowColor="rgba(0, 0, 0, 0.3)",t.shadowBlur=10,t.shadowOffsetX=5,t.shadowOffsetY=5;const c={sunflower:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20sunflower%20magical%20girl%20yellow%20dress%20flower%20hat%20smiling%20cute%20big%20eyes%20chibi%20style&sign=a5ef4dc2f92c2d489618b68e7c3f699c",peashooter:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20peashooter%20green%20outfit%20peapod%20weapon%20smiling%20cute%20big%20eyes%20chibi%20style&sign=60927ea48d86beda8af15dd3912ac5c1",wallnut:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20nut%20defender%20brown%20outfit%20nut%20hat%20strong%20cute%20big%20eyes%20chibi%20style&sign=68ce72d463b91d52b23d9123c10e8c68",snowpea:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20ice%20magical%20girl%20blue%20dress%20snowflake%20weapon%20smiling%20cute%20big%20eyes%20chibi%20style&sign=3ccbae69a757ee008c31db76d6b4b95a",cherrybomb:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20cherry%20bomb%20pink%20dress%20explosive%20magic%20smiling%20cute%20big%20eyes%20chibi%20style&sign=4a2114b9bcf6be8d13df05c80d1f8b03",qingyuan:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/微信图片_20251016111846_103_92_20251016111910.jpg",chomper:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20big%20mouth%20green%20dress%20plant%20character%20smiling%20cute%20big%20eyes%20chibi%20style&sign=c5c4eed326f0abacb990a10dd8d4efc8",repeater:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20twin%20peashooters%20green%20dress%20twin%20weapons%20smiling%20cute%20big%20eyes%20chibi%20style&sign=2f8d0cd12c2ce4ecfc1208fd041e79e5",jalapeno:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20fire%20magical%20girl%20red%20dress%20flame%20weapon%20smiling%20cute%20big%20eyes%20chibi%20style&sign=f62cbd69bdd6a0f3cb3da7a7e5dc06b9",tallnut:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20tall%20nut%20defender%20brown%20outfit%20tall%20nut%20hat%20strong%20cute%20big%20eyes%20chibi%20style&sign=d854a3ac1cc7cb8827e41eb33f237fe4",cattail:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20purple%20wizard%20purple%20dress%20homing%20missile%20magic%20smiling%20cute%20big%20eyes%20chibi%20style&sign=f5d211a24b054f8c2293ae9415895e6c",cobcannon:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20artillery%20cannon%20yellow%20dress%20cannon%20weapon%20smiling%20cute%20big%20eyes%20chibi%20style&sign=76b64a2a9bcdad707ee9b44bcedd6118",wintermelon:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20ice%20melon%20blue%20dress%20aoe%20magic%20smiling%20cute%20big%20eyes%20chibi%20style&sign=f7defc18a8177fb09be001a777f8db1f",potatomine:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20potato%20mine%20brown%20outfit%20explosive%20magic%20cute%20big%20eyes%20chibi%20style&sign=e01f02a9c2a719d08a27b7a4e402e8ee",squash:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20squash%20orange%20dress%20heavy%20weight%20cute%20big%20eyes%20chibi%20style&sign=211b9f0e19790fdd93e2f62077f951bd",blover:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20clover%20green%20dress%20wind%20magic%20cute%20big%20eyes%20chibi%20style&sign=8a6aee0ec8470f76b65084f071735ef5",garlic:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20garlic%20white%20dress%20scent%20magic%20cute%20big%20eyes%20chibi%20style&sign=1b07197826255348262350f134c615eb",pumpkin:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20pumpkin%20orange%20dress%20protective%20magic%20cute%20big%20eyes%20chibi%20style&sign=ad601a7c09a7760936ae513ba06e2e71",magnetshroom:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20magnet%20purple%20dress%20magnetic%20magic%20cute%20big%20eyes%20chibi%20style&sign=a71da8630dab8c4497d6179725e4231c",sunshroom:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20sun%20mushroom%20yellow%20dress%20small%20cute%20big%20eyes%20chibi%20style&sign=67f17fb9bd446012284b6e86eecb9c97",fumeshroom:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20fume%20mushroom%20purple%20dress%20poison%20magic%20cute%20big%20eyes%20chibi%20style&sign=33fbfa1a2cd23569f24006799e2d32d6",doomshroom:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20doom%20mushroom%20black%20dress%20dark%20magic%20cute%20big%20eyes%20chibi%20style&sign=b838e6167afb0a5243def608804344e1",hypnoshroom:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20hypno%20mushroom%20purple%20dress%20mind%20control%20magic%20cute%20big%20eyes%20chibi%20style&sign=bb95e4233440ef8f7b589b7a405bcd04",lilypad:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20lily%20pad%20green%20dress%20water%20magic%20cute%20big%20eyes%20chibi%20style&sign=3579033884c104c99ee405a21a9e130d",plantern:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20lantern%20yellow%20dress%20light%20magic%20cute%20big%20eyes%20chibi%20style&sign=5599f762bff857457956f814cc5e9ea6",tanglekelp:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20tangle%20kelp%20blue%20dress%20seaweed%20magic%20cute%20big%20eyes%20chibi%20style&sign=fc8242786a81034205909b979ebcbee8",seaweed:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20seaweed%20blue%20dress%20ocean%20magic%20cute%20big%20eyes%20chibi%20style&sign=5e496bc4f74368846bd4800ba7621b9d",goldenflower:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20golden%20flower%20gold%20dress%20treasure%20magic%20cute%20big%20eyes%20chibi%20style&sign=ca3605135a40903fda7cf46a8cd7d6ea",spitfirepea:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20fire%20pea%20shooter%20red%20dress%20flame%20magic%20cute%20big%20eyes%20chibi%20style&sign=ed537720847c3c477a68c114201c818e",explodeonut:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20exploding%20nut%20brown%20dress%20explosive%20defense%20cute%20big%20eyes%20chibi%20style&sign=84e7630d2f1c1207d9939c22f348f6b8",electricpea:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20electric%20pea%20shooter%20blue%20dress%20electricity%20magic%20cute%20big%20eyes%20chibi%20style&sign=bc076d601c5d9e1b6abfa4acb9db3cf8",poisonivy:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20poison%20ivy%20green%20dress%20poison%20magic%20cute%20big%20eyes%20chibi%20style&sign=ac7c4d81852c214b6c160ae96c279c20",laserbean:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20laser%20bean%20cyan%20dress%20laser%20magic%20cute%20big%20eyes%20chibi%20style&sign=90e61b50922a5fbba0a098eb94a25cd1",goldmagnet:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20gold%20magnet%20yellow%20dress%20gold%20attraction%20magic%20cute%20big%20eyes%20chibi%20style&sign=3b16a8a0a356ff85c9b2d565af5b098b",shancatleader:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/善•猫教主_20251018115946.jpg"},u=new Image;if(u.src=c[this.type],(()=>{const h=new Image;h.src=c[this.type];const m={shancatleader:"#FFD700",sunflower:"#FFFACD",peashooter:"#98FB98",wallnut:"#D2691E",snowpea:"#87CEFA",cherrybomb:"#FFB6C1",chomper:"#228B22",repeater:"#98FB98",jalapeno:"#FFA07A",tallnut:"#D2691E",cattail:"#E6E6FA",cobcannon:"#FFF8DC",wintermelon:"#B0E0E6",potatomine:"#A0522D",squash:"#FFA500",blover:"#90EE90",garlic:"#FFFFF0",pumpkin:"#FF8C00",magnetshroom:"#9370DB",sunshroom:"#FFFFE0",fumeshroom:"#8A2BE2",doomshroom:"#4B0082",hypnoshroom:"#BA55D3",lilypad:"#7CFC00",plantern:"#FFD700",tanglekelp:"#0000CD",seaweed:"#006400",goldenflower:"#FFD700",spitfirepea:"#FF6347",explodeonut:"#A0522D",electricpea:"#00CED1",poisonivy:"#32CD32",laserbean:"#40E0D0",goldmagnet:"#DAA520",qingyuan:"#FF69B4"};if(t.fillStyle="rgba(0, 0, 0, 0.2)",t.beginPath(),t.ellipse(s,o+20,30,15,0,0,Math.PI*2),t.fill(),h.complete)try{t.save(),t.shadowColor="rgba(0, 0, 0, 0.3)",t.shadowBlur=10,t.shadowOffsetX=5,t.shadowOffsetY=5,t.drawImage(h,s-30,o-30,60,60),t.restore()}catch(p){console.error(`Failed to draw plant image for ${this.type}:`,p),t.fillStyle=m[this.type]||"#808080",t.beginPath(),t.ellipse(s,o,30,40,0,0,Math.PI*2),t.fill()}else t.fillStyle=m[this.type]||"#808080",t.beginPath(),t.ellipse(s,o,30,40,0,0,Math.PI*2),t.fill();switch(t.fillStyle="white",t.font="bold 12px Arial",t.textAlign="center",t.textBaseline="middle",t.fillText(tt[this.type].name,s,o),t.fillStyle="rgba(255, 255, 255, 0.3)",t.beginPath(),t.ellipse(s-10,o-10,15,10,0,0,Math.PI*2),t.fill(),this.type){case"sunflower":t.fillStyle="rgba(255, 215, 0, 0.4)";for(let v=0;v<8;v++){const k=v*Math.PI/4,S=s+Math.cos(k)*35,N=o+Math.sin(k)*35,C=s+Math.cos(k)*50,M=o+Math.sin(k)*50;t.beginPath(),t.moveTo(S,N),t.lineTo(C,M),t.lineWidth=3,t.strokeStyle="rgba(255, 215, 0, 0.6)",t.stroke()}break;case"snowpea":t.strokeStyle="rgba(135, 206, 255, 0.8)",t.lineWidth=2,t.beginPath(),t.arc(s,o,40,0,Math.PI*2),t.stroke();break;case"jalapeno":t.fillStyle="rgba(255, 69, 0, 0.3)",t.beginPath(),t.ellipse(s,o,45,50,0,0,Math.PI*2),t.fill();break;case"wintermelon":t.strokeStyle="rgba(135, 206, 255, 0.8)",t.lineWidth=2,t.beginPath(),t.arc(s,o,45,0,Math.PI*2),t.stroke();break;case"goldenflower":t.fillStyle="rgba(255, 215, 0, 0.3)",t.beginPath(),t.ellipse(s,o,40,40,0,0,Math.PI*2),t.fill();break;case"electricpea":t.strokeStyle="rgba(0, 206, 209, 0.8)",t.lineWidth=2,t.beginPath(),t.arc(s,o,40,0,Math.PI*2),t.stroke();break;case"poisonivy":t.strokeStyle="rgba(0, 255, 0, 0.6)",t.lineWidth=2,t.beginPath(),t.arc(s,o,40,0,Math.PI*2),t.stroke();break;case"laserbean":t.strokeStyle="rgba(64, 224, 208, 0.8)",t.lineWidth=2,t.beginPath(),t.moveTo(s+30,o),t.lineTo(s+60,o),t.stroke();break;case"qingyuan":const p=t.createRadialGradient(s,o,0,s,o,60);p.addColorStop(0,"rgba(255, 215, 0, 0.5)"),p.addColorStop(.5,"rgba(255, 105, 180, 0.3)"),p.addColorStop(1,"rgba(255, 215, 0, 0.1)"),t.fillStyle=p,t.beginPath(),t.ellipse(s,o,60,60,0,0,Math.PI*2),t.fill();const y=65+Math.sin(Date.now()/500)*5;t.strokeStyle="rgba(255, 105, 180, 0.6)",t.lineWidth=2,t.beginPath(),t.ellipse(s,o,y,y,0,0,Math.PI*2),t.stroke(),t.strokeStyle="rgba(255, 105, 180, 0.9)",t.lineWidth=3,t.setLineDash([]);const b=5;for(let v=0;v<b;v++){const k=v*Math.PI/(b-1)-Math.PI/2,S=40+Math.random()*20,N=s+Math.cos(k)*35,C=o+Math.sin(k)*35,M=s+Math.cos(k)*(35+S),_=o+Math.sin(k)*(35+S);t.beginPath(),t.moveTo(N,C),t.lineTo(M,_),t.stroke(),t.fillStyle="rgba(255, 215, 0, 0.9)",t.beginPath(),t.arc(M,_,3,0,Math.PI*2),t.fill()}t.fillStyle="rgba(255, 255, 255, 0.7)",t.beginPath(),t.arc(s,o,10,0,Math.PI*2),t.fill();break}})(),t.shadowColor="transparent",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0,this.health<this.maxHealth){const h=t.createLinearGradient(this.x,this.y-12,this.x,this.y-6);h.addColorStop(0,"rgba(0, 0, 0, 0.7)"),h.addColorStop(1,"rgba(0, 0, 0, 0.4)"),t.fillStyle=h,t.beginPath(),t.roundRect(this.x,this.y-12,this.width,8,4),t.fill();const m=this.health/this.maxHealth;let p;m>.7?p="#4CAF50":m>.3?p="#FFC107":p="#F44336";const y=t.createLinearGradient(this.x,this.y-12,this.x,this.y-6);y.addColorStop(0,p),y.addColorStop(1,`${p}AA`),t.fillStyle=y;const b=this.health/this.maxHealth*(this.width-4);if(t.beginPath(),t.roundRect(this.x+2,this.y-10,b,4,2),t.fill(),t.strokeStyle="rgba(255, 255, 255, 0.8)",t.lineWidth=1,t.beginPath(),t.roundRect(this.x,this.y-12,this.width,8,4),t.stroke(),m<.7){t.fillStyle="white",t.font="bold 9px Arial",t.textAlign="center",t.textBaseline="middle";const v=Math.round(m*100);t.fillText(`${v}%`,this.x+this.width/2,this.y-8)}}t.restore()}update(t){if(this.type==="shancatleader"){const s=Date.now();if(s-this.lastMoveTime>=3e3){const o=G.current;if(o){const c=o.zombies.some(h=>Math.floor(h.y/q.cellSize.height)===this.gridY&&h.x<this.x+this.width),u=o.plants.some(h=>h.gridX===this.gridX+1&&h.gridY===this.gridY);!c&&!u&&this.gridX+1<q.gridSize.cols&&(this.gridX+=1,this.x=this.gridX*q.cellSize.width,this.lastMoveTime=s)}}}}}class ri extends Si{constructor(t,s){var b;const{width:o,height:c}=q.cellSize,u=q.gridSize.cols*o,f=s*c,h=Rl[t]||{health:1e3,speed:1,damage:100,armor:0},m=h.health;let p=m;const y=G.current;y&&y.currentLevel&&((b=zt[y.currentLevel])!=null&&b.isHighIntensityCustom)&&(p=Math.floor(m*1.5));super(u,f,o,c,p);Q(this,"type");Q(this,"speed");Q(this,"damage");Q(this,"armor");Q(this,"isSlowed");Q(this,"slowDuration");Q(this,"slowTime");Q(this,"lastAttackTime");Q(this,"attackCooldown");Q(this,"isEating");Q(this,"animationOffset");Q(this,"hitEffect");Q(this,"lastSummonTime",0);Q(this,"summonCooldown",15e3);this.type=t,this.speed=h.speed,this.damage=h.damage,this.armor=h.armor||0,this.isSlowed=!1,this.slowDuration=0,this.slowTime=0,this.lastAttackTime=0,this.attackCooldown=1500,this.isEating=!1,this.animationOffset={x:0,y:0},this.hitEffect={active:!1,time:0},t==="su_huai"&&(this.lastSummonTime=0,this.summonCooldown=15e3)}canAttack(t){return t-this.lastAttackTime>=this.attackCooldown}canSummon(t){return this.type!=="su_huai"?!1:t-this.lastSummonTime>=this.summonCooldown}summonZombies(){const t=[],s=this.health<this.maxHealth*.5,o=s?3:1;for(let c=0;c<o;c++){let u;const f=Math.random();s?f<.4?u="cat_leader":f<.75?u="vexithra":f<.9?u="ji_zai":u="li_huo":f<.5?u="cat_leader":f<.8?u="vexithra":f<.9?u="ji_zai":u="li_huo",t.push(u)}return this.lastSummonTime=Date.now(),t}takeDamage(t,s=!1){let o=t;if(this.hitEffect.active=!0,this.hitEffect.time=Date.now(),this.armor>0){const c=Math.min(o,this.armor);this.armor-=c,o-=c}if(this.health-=o,this.type==="vexithra"){const c=G.current;if(c&&c.zombies.some(f=>f.type==="su_huai")){const f=Math.floor(o*.2);this.health+=f}}return s&&this.type!=="giant"&&(this.isSlowed=!0,this.slowDuration=3e3,this.slowTime=Date.now()),this.health<=0}update(t,s){this.isSlowed&&Date.now()-this.slowTime>this.slowDuration&&(this.isSlowed=!1);let o=this.speed*q.zombieSpeedMultiplier;this.isSlowed&&(o*=.5);let c=!1;for(const u of s)if(u.gridY===Math.floor(this.y/q.cellSize.height)&&u.x+u.width>=this.x){if(c=!0,this.isEating=!0,this.canAttack(Date.now())){if(this.x+=5,setTimeout(()=>{this.x&&(this.x-=5)},100),u.takeDamage(this.damage))continue;this.lastAttackTime=Date.now()}break}if(this.type==="su_huai"&&this.canSummon(Date.now())){const u=this.summonZombies();console.log("宿槐召唤了:",u),this.summonedZombies=u,this.lastSummonTime=Date.now()}if(c){const u=Math.sin(Date.now()/200)*2;this.animationOffset={x:0,y:u}}else{this.isEating=!1,this.x-=o*t*.1;const u=Math.sin(Date.now()/300)*3;this.animationOffset={x:0,y:u*(this.type==="giant"?1.5:1)}}}render(t){t.save(),t.translate(this.animationOffset.x,this.animationOffset.y);const s=this.x+this.width/2,o=this.y+this.height/2,c=Date.now();this.hitEffect.active&&c-this.hitEffect.time<200&&(t.globalAlpha=.7,t.fillStyle="white",t.fillRect(this.x,this.y,this.width,this.height)),t.shadowColor="rgba(0, 0, 0, 0.4)",t.shadowBlur=12,t.shadowOffsetX=6,t.shadowOffsetY=6;const u={su_huai:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/宿槐僵尸_20251017203937.jpg",normal:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20zombie%20girl%20brown%20dress%20long%20black%20hair%20big%20eyes%20stitched%20mouth%20cute%20chibi%20style&sign=db0af1699f179fd8804f68342b3f53d2",conehead:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20zombie%20girl%20cone%20hat%20brown%20dress%20big%20eyes%20stitched%20mouth%20cute%20chibi%20style&sign=ae8102749a1e061acf95b82c9ba135a7",buckethead:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20zombie%20girl%20bucket%20hat%20brown%20dress%20big%20eyes%20stitched%20mouth%20cute%20chibi%20style&sign=2afe17f251143ab72b3d0465d66b50db",flag:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20zombie%20girl%20flag%20leader%20red%20dress%20big%20eyes%20stitched%20mouth%20cute%20chibi%20style&sign=3d60eb09ac7590d106fd4d5b24cd2d1a",giant:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20giant%20zombie%20girl%20big%20size%20brown%20dress%20big%20eyes%20stitched%20mouth%20cute%20chibi%20style&sign=9e40db829449d7d51fb73b3400d1a0d8",balloon:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20zombie%20girl%20balloon%20flying%20brown%20dress%20big%20eyes%20stitched%20mouth%20cute%20chibi%20style&sign=e52a7907567e4a66ce13a9e677ca4c11",bungee:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20zombie%20girl%20bungee%20hat%20gray%20dress%20big%20eyes%20stitched%20mouth%20cute%20chibi%20style&sign=689a9dd43b75bcf36ff9b31a4c46600a",digger:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20zombie%20girl%20miner%20hat%20brown%20dress%20big%20eyes%20stitched%20mouth%20cute%20chibi%20style&sign=3a71b5644022a8e75da739413429413c",dolphinrider:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20zombie%20girl%20dolphin%20rider%20blue%20dress%20big%20eyes%20stitched%20mouth%20cute%20chibi%20style&sign=ff9cc0d7159c0c707e0d9af01a70242c",newspaper:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20zombie%20girl%20newspaper%20reader%20brown%20dress%20big%20eyes%20stitched%20mouth%20cute%20chibi%20style&sign=3401262367b5e08310fd8ec13bd8b0a1",screen:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20zombie%20girl%20metal%20shield%20brown%20dress%20big%20eyes%20stitched%20mouth%20cute%20chibi%20style&sign=b9ef3dad752527ceea82200251f6761d",polevaulter:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20zombie%20girl%20pole%20vaulter%20brown%20dress%20big%20eyes%20stitched%20mouth%20cute%20chibi%20style&sign=1a755691b0db205180de64806a15bea4",ladder:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20zombie%20girl%20ladder%20carrier%20brown%20dress%20big%20eyes%20stitched%20mouth%20cute%20chibi%20style&sign=e4b8dd4d106efe59402575332435e1f4",backupdancer:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20zombie%20girl%20dancer%20brown%20dress%20big%20eyes%20dancing%20cute%20chibi%20style&sign=47e079f83b3072a32f502ac8d19e65ad",imp:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20zombie%20girl%20small%20size%20brown%20dress%20big%20eyes%20cute%20chibi%20style&sign=2bfb418c969eb9b19610e7062954693c",impmustache:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20zombie%20girl%20small%20size%20mustache%20brown%20dress%20big%20eyes%20cute%20chibi%20style&sign=b8616bcf2f462253db77e6257b4229f7",jackinthebox:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20zombie%20girl%20jack%20in%20box%20brown%20dress%20big%20eyes%20present%20box%20cute%20chibi%20style&sign=ad169c188f09507e5bccb85c4ef5feef",pogo:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20zombie%20girl%20pogo%20stick%20brown%20dress%20big%20eyes%20jumping%20cute%20chibi%20style&sign=6a4a4457e9d8d2918874d817a05a343b",catapult:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20zombie%20girl%20catapult%20operator%20brown%20dress%20big%20eyes%20cute%20chibi%20style&sign=2f41e284217da106818b7dfaa58091ad",football:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20zombie%20girl%20football%20player%20brown%20uniform%20big%20eyes%20cute%20chibi%20style&sign=e9a370732f4b879265dc27bff81ad7a5",dancer:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20zombie%20girl%20dancer%20leader%20brown%20dress%20big%20eyes%20dancing%20cute%20chibi%20style&sign=5abd5452cb87995b05d81b29d63873da",surfer:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20zombie%20girl%20surfer%20blue%20dress%20surfboard%20big%20eyes%20cute%20chibi%20style&sign=e74175d9e4ef93450f78e3365b0d1bb3",zombiefish:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20zombie%20girl%20fish%20blue%20dress%20fish%20tail%20big%20eyes%20cute%20chibi%20style&sign=d207c67f4b5410d192c8346ab7e2e367",snorkel:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20zombie%20girl%20snorkel%20blue%20dress%20diving%20gear%20big%20eyes%20cute%20chibi%20style&sign=05720b3306bcfc2016f1b2391bc9ef50",gargantuar:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20zombie%20girl%20gargantuar%20giant%20size%20brown%20dress%20big%20eyes%20cute%20chibi%20style&sign=d5a235429cb72f1a88bd7710a904cca1",zombotany:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20zombie%20girl%20plant%20brown%20dress%20flower%20on%20head%20big%20eyes%20cute%20chibi%20style&sign=dbe5fcd5df65bb87ac7bb9d25439e128",octozombie:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20zombie%20girl%20octopus%20blue%20dress%20tentacles%20big%20eyes%20cute%20chibi%20style&sign=3ee0def538b19bc8859f5bbd3f711c07",glasses:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20zombie%20girl%20glasses%20brown%20dress%20nerd%20big%20eyes%20cute%20chibi%20style&sign=44c75f9a0b8c8ee4680e152cf6b83783",mermaid:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20zombie%20girl%20mermaid%20blue%20dress%20fish%20tail%20big%20eyes%20cute%20chibi%20style&sign=5ebeac624c49eeb8bdb0a32251c1b546",pirate:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20zombie%20girl%20pirate%20brown%20dress%20pirate%20hat%20big%20eyes%20cute%20chibi%20style&sign=1e7996cab59e3f947ef2141429f4b5ef",captain:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20zombie%20girl%20captain%20pirate%20brown%20coat%20captain%20hat%20big%20eyes%20cute%20chibi%20style&sign=5e0ea24af97cfc1424613664f1cb8722",vexithra:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/Vexithra_20251018182402.jpg"},f=new Image;if(f.src=u[this.type],(()=>{const m=new Image;m.src=u[this.type];const p={normal:"#8B4513",conehead:"#8B4513",buckethead:"#8B4513",flag:"#DC143C",giant:"#6B4226",balloon:"#8B4513",bungee:"#708090",digger:"#A0522D",dolphinrider:"#4682B4",newspaper:"#8B4513",screen:"#8B4513",polevaulter:"#8B4513",ladder:"#8B4513",backupdancer:"#8B4513",imp:"#8B4513",impmustache:"#8B4513",jackinthebox:"#8B4513",pogo:"#8B4513",catapult:"#8B4513",football:"#8B4513",dancer:"#8B4513",surfer:"#4682B4",zombiefish:"#4682B4",snorkel:"#4682B4",gargantuar:"#6B4226",zombotany:"#8B4513",octozombie:"#4682B4",glasses:"#8B4513",mermaid:"#4682B4",pirate:"#8B4513",captain:"#8B4513"};if(t.fillStyle="rgba(0, 0, 0, 0.3)",t.beginPath(),t.ellipse(s,o+20,35,18,0,0,Math.PI*2),t.fill(),m.complete)try{t.save(),t.shadowColor="rgba(0, 0, 0, 0.4)",t.shadowBlur=12,t.shadowOffsetX=6,t.shadowOffsetY=6;let y=60;this.type==="giant"||this.type==="gargantuar"?y=90:this.type==="imp"&&(y=40),t.drawImage(m,s-y/2,o-y/2,y,y),t.restore()}catch(y){console.error(`Failed to draw zombie image for ${this.type}:`,y),t.fillStyle=p[this.type]||"#8B4513",t.beginPath(),t.ellipse(s,o,35,45,0,0,Math.PI*2),t.fill()}else t.fillStyle=p[this.type]||"#8B4513",t.beginPath(),t.ellipse(s,o,35,45,0,0,Math.PI*2),t.fill();switch(this.type){case"normal":t.fillStyle="#000000",t.beginPath(),t.moveTo(s-40,o-20),t.quadraticCurveTo(s-50,o+20,s-25,o+35),t.moveTo(s+40,o-20),t.quadraticCurveTo(s+50,o+20,s+25,o+35),t.fill();break;case"conehead":t.fillStyle="#FF8C00",t.beginPath(),t.moveTo(s-30,o-50),t.lineTo(s+30,o-50),t.lineTo(s+20,o-15),t.lineTo(s-20,o-15),t.closePath(),t.fill();break;case"buckethead":t.fillStyle="#4682B4",t.beginPath(),t.arc(s,o-40,28,0,Math.PI),t.fill(),t.fillRect(s-28,o-40,56,30);break;case"flag":t.strokeStyle="#8B4513",t.lineWidth=4,t.beginPath(),t.moveTo(s+30,o-55),t.lineTo(s+30,o+20),t.stroke(),t.fillStyle="#DC143C",t.beginPath(),t.moveTo(s+30,o-55),t.lineTo(s+50,o-50),t.lineTo(s+30,o-45),t.closePath(),t.fill();break;case"balloon":t.fillStyle="#87CEEB",t.beginPath(),t.arc(s,o-60,18,0,Math.PI*2),t.fill(),t.strokeStyle="black",t.lineWidth=1.5,t.beginPath(),t.moveTo(s,o-42),t.lineTo(s,o-20),t.stroke();break;case"giant":case"gargantuar":t.strokeStyle="#8B4513",t.lineWidth=5,t.beginPath(),t.moveTo(s-45,o+25),t.lineTo(s+45,o+25),t.stroke();break;case"imp":case"impmustache":t.fillStyle="#FFD700",t.beginPath(),t.arc(s,o-25,10,0,Math.PI*2),t.fill();break;case"mermaid":t.fillStyle="#4682B4",t.beginPath(),t.moveTo(s-20,o+30),t.quadraticCurveTo(s,o+60,s+20,o+30),t.closePath(),t.fill();break;case"pirate":case"captain":t.fillStyle="black",t.beginPath(),t.moveTo(s-20,o-15),1499|t.lineTo(s-5,o-15),t.lineTo(s-5,o-5),t.lineTo(s-20,o-5),t.closePath(),t.fill();break}t.strokeStyle="rgba(139, 0, 0, 0.9)",t.lineWidth=2.5,t.beginPath(),t.moveTo(s-15,o+10),t.lineTo(s+15,o+10),t.stroke();for(let y=0;y<4;y++){const b=s-15+y*10;t.fillStyle="rgba(139, 0, 0, 0.9)",t.beginPath(),t.arc(b,o+8,1.5,0,Math.PI*2),t.fill(),t.beginPath(),t.arc(b,o+12,1.5,0,Math.PI*2),t.fill()}t.fillStyle="white",t.beginPath(),t.ellipse(s-15,o-10,12,10,0,0,Math.PI*2),t.fill(),t.beginPath(),t.ellipse(s+15,o-10,12,10,0,0,Math.PI*2),t.fill(),t.fillStyle="black",t.beginPath(),t.ellipse(s-15,o-15,6,6,0,0,Math.PI*2),t.ellipse(s+15,o-15,6,6,0,0,Math.PI*2),t.fill(),t.fillStyle="rgba(255, 255, 255, 0.7)",t.beginPath(),t.ellipse(s-12,o-17,2,2,0,0,Math.PI*2),t.ellipse(s+18,o-17,2,2,0,0,Math.PI*2),t.fill(),t.fillStyle="rgba(0, 100, 0, 0.4)",t.beginPath(),t.arc(s+20,o,5,0,Math.PI*2),t.arc(s-10,o+15,4,0,Math.PI*2),t.fill()})(),t.shadowColor="transparent",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0,this.armor>0){t.fillStyle="rgba(0, 0, 0, 0.5)",t.fillRect(this.x,this.y-14,this.width,6),t.fillStyle="#C0C0C0";const m=this.armor/(Rl[this.type].armor||0)*this.width;t.fillRect(this.x,this.y-14,m,6),t.strokeStyle="white",t.lineWidth=1,t.strokeRect(this.x,this.y-14,this.width,6)}if(this.isSlowed&&(t.strokeStyle="#87CEFA",t.lineWidth=3,t.setLineDash([5,5]),t.beginPath(),t.arc(s,o,50,0,Math.PI*2),t.stroke(),t.setLineDash([]),t.strokeStyle="#87CEFA",t.lineWidth=3,t.strokeRect(this.x-4,this.y-4,this.width+8,this.height+8)),this.health<this.maxHealth){const m=t.createLinearGradient(this.x,this.y-10,this.x,this.y-4);m.addColorStop(0,"rgba(0, 0, 0, 0.7)"),m.addColorStop(1,"rgba(0, 0, 0, 0.4)"),t.fillStyle=m,t.beginPath(),t.roundRect(this.x,this.y-10,this.width,8,4),t.fill();const p=this.health/this.maxHealth;let y;p>.7?y="#4CAF50":p>.3?y="#FFC107":y="#F44336";const b=t.createLinearGradient(this.x,this.y-10,this.x,this.y-4);b.addColorStop(0,y),b.addColorStop(1,`${y}AA`),t.fillStyle=b;const v=this.health/this.maxHealth*(this.width-4);if(t.beginPath(),t.roundRect(this.x+2,this.y-8,v,4,2),t.fill(),t.strokeStyle="rgba(255, 255, 255, 0.8)",t.lineWidth=1,t.beginPath(),t.roundRect(this.x,this.y-10,this.width,8,4),t.stroke(),p<.7){t.fillStyle="white",t.font="bold 9px Arial",t.textAlign="center",t.textBaseline="middle";const k=Math.round(p*100);t.fillText(`${k}%`,this.x+this.width/2,this.y-6)}}t.globalAlpha=1,t.restore()}}class ks extends Si{constructor(t,s,o,c=!1,u=!1,f=null){super(t-5,s-5,10,10,1);Q(this,"damage");Q(this,"speed");Q(this,"isFrozen");Q(this,"targetZombie");Q(this,"isHoming");this.damage=o,this.speed=u?15:10,this.isFrozen=c,this.isHoming=u,this.targetZombie=f}update(t){if(this.isHoming&&this.targetZombie){const s=this.targetZombie.x+this.targetZombie.width/2,o=this.targetZombie.y+this.targetZombie.height/2,c=s-(this.x+5),u=o-(this.y+5),f=Math.sqrt(c*c+u*u);f>0&&(this.x+=c/f*this.speed*t*.1,this.y+=u/f*this.speed*t*.1)}else this.x+=this.speed*t*.1}render(t){if(t.save(),this.isHoming)t.shadowColor="rgba(0, 0, 0, 0.3)",t.shadowBlur=4,t.shadowOffsetX=2,t.shadowOffsetY=2,t.fillStyle="#8A2BE2",t.beginPath(),t.moveTo(this.x+5,this.y),t.lineTo(this.x+10,this.y+5),t.lineTo(this.x+5,this.y+10),t.lineTo(this.x,this.y+5),t.closePath(),t.fill(),t.fillStyle="#9932CC",t.beginPath(),t.moveTo(this.x+5,this.y+1),t.lineTo(this.x+9,this.y+5),t.lineTo(this.x+5,this.y+9),t.lineTo(this.x+1,this.y+5),t.closePath(),t.fill(),t.fillStyle="rgba(255, 255, 255, 0.6)",t.beginPath(),t.arc(this.x+6,this.y+3,1,0,Math.PI*2),t.fill(),t.shadowColor="transparent",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0;else{t.shadowColor="rgba(0, 0, 0, 0.2)",t.shadowBlur=3,t.shadowOffsetX=1,t.shadowOffsetY=1;const s=this.isFrozen?"#87CEFA":"#7FFF00";t.fillStyle=s,t.beginPath(),t.arc(this.x+5,this.y+5,5,0,Math.PI*2),t.fill();const o=this.isFrozen?"#4682B4":"#228B22";t.fillStyle=o,t.beginPath(),t.arc(this.x+5,this.y+5,3,0,Math.PI*2),t.fill(),t.fillStyle="rgba(255, 255, 255, 0.7)",t.beginPath(),t.arc(this.x+3,this.y+3,2,0,Math.PI*2),t.fill(),t.fillStyle=`${s}66`,t.beginPath(),t.moveTo(this.x+5,this.y+5),t.lineTo(this.x-10,this.y+5),t.lineTo(this.x-5,this.y+8),t.lineTo(this.x+5,this.y+8),t.closePath(),t.fill(),t.shadowColor="transparent",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0}t.restore()}}class Xu extends Si{constructor(t,s,o=q.sunValue){super(t-15,s-15,30,30,1);Q(this,"value");Q(this,"speed");Q(this,"maxLifeTime");Q(this,"lifeTime");Q(this,"targetX");Q(this,"targetY");Q(this,"isAttracting");this.value=o,this.speed=.5,this.maxLifeTime=15e3,this.lifeTime=0,this.targetX=this.x,this.targetY=-50,this.isAttracting=!1}update(t){if(this.isAttracting){const s=this.targetX-(this.x+15),o=this.targetY-(this.y+15),c=Math.sqrt(s*s+o*o);if(c<5)this.lifeTime=this.maxLifeTime;else{const u=5*t*.1;this.x+=s/c*u,this.y+=o/c*u}}else this.y-=this.speed*t*.05;this.lifeTime>2e3&&!this.isAttracting&&(this.isAttracting=!0,this.targetX=100,this.targetY=50),this.lifeTime+=t}isExpired(){return this.lifeTime>=this.maxLifeTime}render(t){t.save(),this.isAttracting?(t.shadowColor="rgba(255, 215, 0, 0.9)",t.shadowBlur=15):(t.shadowColor="rgba(255, 215, 0, 0.5)",t.shadowBlur=8);const s=t.createRadialGradient(this.x+15,this.y+15,0,this.x+15,this.y+15,18);s.addColorStop(0,"rgba(255, 255, 255, 0.9)"),s.addColorStop(.4,this.isAttracting?"rgba(255, 255, 0, 1)":"rgba(255, 215, 0, 0.9)"),s.addColorStop(.8,this.isAttracting?"rgba(255, 215, 0, 0.8)":"rgba(255, 165, 0, 0.7)"),s.addColorStop(1,"rgba(255, 140, 0, 0.2)"),t.fillStyle=s,t.beginPath(),t.arc(this.x+15,this.y+15,15,0,Math.PI*2),t.fill(),t.fillStyle="rgba(255, 255, 255, 0.7)",t.beginPath(),t.arc(this.x+12,this.y+12,4,0,Math.PI*2),t.fill(),t.strokeStyle="rgba(255, 255, 255, 0.5)",t.lineWidth=1;for(let o=0;o<8;o++){const c=o*Math.PI/4,u=this.x+15+Math.cos(c)*18,f=this.y+15+Math.sin(c)*18,h=this.x+15+Math.cos(c)*15,m=this.y+15+Math.sin(c)*15;t.beginPath(),t.moveTo(h,m),t.lineTo(u,f),t.stroke()}t.shadowColor="transparent",t.shadowBlur=0,t.fillStyle="white",t.font="bold 12px Arial",t.textAlign="center",t.textBaseline="middle",t.shadowColor="rgba(0, 0, 0, 0.5)",t.shadowBlur=2,t.shadowOffsetX=1,t.shadowOffsetY=1,t.fillText(`${this.value}`,this.x+15,this.y+15),t.shadowColor="transparent",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0,t.restore()}}class _3 extends Si{constructor(t){const s=q.cellSize.width,o=q.gridSize.cols*s-s/2-10;super(o,-50,30,30,1);Q(this,"row");Q(this,"targetY");Q(this,"speed");Q(this,"isExploding");Q(this,"explodeRadius");Q(this,"explodeProgress");this.row=t,this.targetY=t*q.cellSize.height+q.cellSize.height/2,this.speed=20,this.isExploding=!1,this.explodeRadius=q.cellSize.width*1.5,this.explodeProgress=0}update(t){if(this.isExploding)this.explodeProgress+=t*.001;else{const s=this.targetY-this.y;Math.abs(s)<10?this.isExploding=!0:this.y+=s/Math.abs(s)*this.speed*t*.1}}isFinished(){return this.explodeProgress>=1}render(t){if(t.save(),this.isExploding){const s=1-this.explodeProgress,o=this.explodeRadius*this.explodeProgress;t.fillStyle=`rgba(255, 215, 0, ${s*.4})`,t.beginPath(),t.arc(this.x+15,this.targetY,o*1.5,0,Math.PI*2),t.fill(),t.fillStyle=`rgba(255, 165, 0, ${s*.6})`,t.beginPath(),t.arc(this.x+15,this.targetY,o*1.2,0,Math.PI*2),t.fill(),t.fillStyle=`rgba(255, 165, 0, ${s*.8})`,t.beginPath(),t.arc(this.x+15,this.targetY,o,0,Math.PI*2),t.fill(),t.fillStyle=`rgba(255, 69, 0, ${s})`,t.beginPath(),t.arc(this.x+15,this.targetY,o*.7,0,Math.PI*2),t.fill(),t.fillStyle=`rgba(255, 255, 0, ${s*.9})`,t.beginPath(),t.arc(this.x+15,this.targetY,o*.4,0,Math.PI*2),t.fill();for(let c=0;c<20;c++){const u=Math.random()*Math.PI*2,f=o*(.5+Math.random()*.5),h=this.x+15+Math.cos(u)*f,m=this.targetY+Math.sin(u)*f,p=2+Math.random()*4;t.save(),t.translate(h,m),t.rotate(this.explodeProgress*Math.PI*2);const y=0,b=90+Math.random()*10,v=40+Math.random()*20;t.fillStyle=`hsla(${y}, ${b}%, ${v}%, ${s*.7})`,t.beginPath(),t.arc(0,0,p,0,Math.PI*2),t.fill(),t.fillStyle=`hsla(${y}, ${b}%, ${v+20}%, ${s*.9})`,t.beginPath(),t.arc(-p*.3,-p*.3,p*.3,0,Math.PI*2),t.fill(),t.restore()}for(let c=0;c<3;c++){const u=o*(1.1+c*.2),f=s*(.3-c*.1);t.strokeStyle=`rgba(255, 215, 0, ${f})`,t.lineWidth=3-c,t.beginPath(),t.arc(this.x+15,this.targetY,u,0,Math.PI*2),t.stroke()}}else{t.shadowColor="rgba(0, 0, 0, 0.6)",t.shadowBlur=12,t.shadowOffsetX=5,t.shadowOffsetY=5,t.fillStyle="#696969",t.beginPath(),t.moveTo(this.x+15,this.y),t.bezierCurveTo(this.x+30,this.y+5,this.x+25,this.y+30,this.x+15,this.y+28),t.bezierCurveTo(this.x+5,this.y+30,this.x,this.y+5,this.x+15,this.y),t.closePath(),t.fill(),t.strokeStyle="#808080",t.lineWidth=1.5;for(let s=0;s<6;s++){const o=Math.random()*Math.PI*2,c=this.x+15+Math.cos(o)*8,u=this.y+15+Math.sin(o)*8,f=this.x+15+Math.cos(o+Math.PI)*8,h=this.y+15+Math.sin(o+Math.PI)*8;t.beginPath(),t.moveTo(c,u),t.lineTo(f,h),t.stroke()}t.fillStyle="#505050";for(let s=0;s<4;s++){const o=this.x+5+Math.random()*20,c=this.y+5+Math.random()*20,u=2+Math.random()*3;t.beginPath(),t.arc(o,c,u,0,Math.PI*2),t.fill(),t.fillStyle="#404040",t.beginPath(),t.arc(o+.5,c+.5,u*.7,0,Math.PI*2),t.fill()}t.fillStyle="#A0A0A0",t.beginPath(),t.ellipse(this.x+20,this.y+10,5,3,0,0,Math.PI*2),t.fill(),t.fillStyle="#C0C0C0",t.beginPath(),t.ellipse(this.x+22,this.y+8,3,2,0,0,Math.PI*2),t.fill(),t.shadowColor="transparent",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0;for(let s=0;s<20;s++){const o=this.x+15-Math.random()*25,c=this.y+30+Math.random()*40,u=1+Math.random()*4,f=0+Math.random()*30,h=90+Math.random()*10,m=40+Math.random()*20,p=.8-Math.random()*.4;t.fillStyle=`hsla(${f}, ${h}%, ${m}%, ${p})`,t.beginPath(),t.arc(o,c,u,0,Math.PI*2),t.fill()}t.fillStyle="rgba(255, 255, 0, 0.5)",t.beginPath(),t.moveTo(this.x+12,this.y+30),t.lineTo(this.x+15,this.y+60),t.lineTo(this.x+18,this.y+30),t.closePath(),t.fill(),t.fillStyle="rgba(255, 165, 0, 0.7)",t.beginPath(),t.moveTo(this.x+10,this.y+30),t.lineTo(this.x+15,this.y+55),t.lineTo(this.x+20,this.y+30),t.closePath(),t.fill(),t.fillStyle="rgba(255, 69, 0, 0.8)",t.beginPath(),t.moveTo(this.x+8,this.y+30),t.lineTo(this.x+15,this.y+50),t.lineTo(this.x+22,this.y+30),t.closePath(),t.fill();for(let s=0;s<8;s++){const o=this.x+15-Math.random()*30,c=this.y+30+Math.random()*30,u=4+Math.random()*5;t.fillStyle=`rgba(128, 128, 128, ${.3-Math.random()*.2})`,t.beginPath(),t.arc(o,c,u,0,Math.PI*2),t.fill(),t.fillStyle=`rgba(169, 169, 169, ${.15-Math.random()*.1})`,t.beginPath(),t.arc(o,c,u*.6,0,Math.PI*2),t.fill()}t.strokeStyle="rgba(255, 69, 0, 0.3)",t.lineWidth=8,t.lineCap="round",t.beginPath(),t.moveTo(this.x+15,this.y-50),t.lineTo(this.x+15,this.y),t.stroke(),t.strokeStyle="rgba(255, 165, 0, 0.2)",t.lineWidth=5,t.beginPath(),t.moveTo(this.x+15,this.y-60),t.lineTo(this.x+15,this.y-10),t.stroke()}t.restore()}}class C3{constructor(n){Q(this,"canvas");Q(this,"ctx");Q(this,"plants",[]);Q(this,"zombies",[]);Q(this,"bullets",[]);Q(this,"suns",[]);Q(this,"meteorites",[]);Q(this,"summonRequests",[]);Q(this,"autoAttackers",[]);Q(this,"sun",q.initialSun);Q(this,"selectedPlants",[]);Q(this,"selectedZombies",[]);Q(this,"selectedPlantType",null);Q(this,"lastSunProductionTime",0);Q(this,"lastWaveTime",0);Q(this,"currentWave",0);Q(this,"totalWaves",3);Q(this,"gameStatus","ready");Q(this,"gameSpeed",q.gameSpeed);Q(this,"lastTime",0);Q(this,"plantCooldowns",{qingyuan:0});Q(this,"currentLevel",1);Q(this,"highestLevel",1);Q(this,"meteoriteTriggeredRows",{});Q(this,"achievements",{light_awakening:!1,sun_avatar:!1,shadow_hunter:!1,unbreakable_light:!1,light_army_commander:!1,light_defender:!1,light_retribution:!1,life_force:!1,shadow_reaper:!1,light_combo:!1,light_barrier:!1,shadow_resister:!1,water_defender:!1,light_victory:!1,light_descend:!1,shancat_redemption:!1,su_huai_fall:!1});Q(this,"lastTipTime",0);Q(this,"currentCombo",0);Q(this,"lastZombieKillTime",0);Q(this,"totalZombiesKilled",0);Q(this,"totalSunsCollected",0);Q(this,"totalDefensePlantsUsed",0);Q(this,"plantsUsed",new Set);Q(this,"gameTips",["向日葵是阳光的主要来源，记得多种植一些！","不同的僵尸有不同的弱点，合理选择植物应对！","寒冰射手可以减速僵尸，配合其他攻击植物效果更好！","坚果墙是优秀的防御植物，可以为后排植物争取时间！","僵尸接近基地时会触发陨石攻击，这是最后的防线！","香蒲可以追踪全图的僵尸，是对付气球僵尸的利器！","收集足够的阳光再种植高级植物，不要浪费资源！","赛罗奥特曼会自动攻击全图的僵尸，是你的得力助手！","记得关注植物的冷却时间，合理安排种植节奏！","每关的波次结束后会有短暂的休息时间，可以利用这段时间补充防线！"]);Q(this,"timeOfDay","day");Q(this,"currentWeather","sunny");Q(this,"lastWeatherChangeTime",0);Q(this,"currentEvent",null);Q(this,"lastEventTime",0);Q(this,"plantUpgrades",new Map);Q(this,"isNightLevel",!1);Q(this,"isPoolLevel",!1);Q(this,"isRoofLevel",!1);Q(this,"isFogLevel",!1);Q(this,"GAME_CONFIG",{dayNightCycleDuration:6e4,weatherChangeChance:.3,specialEventChance:.15});Q(this,"sunProductionRateModifier",1);Q(this,"zombieSpawnCooldown",0);this.canvas=n,this.ctx=n.getContext("2d"),this.loadGameData(),this.resizeCanvas(),window.addEventListener("resize",()=>this.resizeCanvas())}loadGameData(){const n=localStorage.getItem("pvzHighestLevel");n?this.highestLevel=parseInt(n):(this.highestLevel=6,localStorage.setItem("pvzHighestLevel","6"));const t=localStorage.getItem("pvzAchievements");t&&(this.achievements={...this.achievements,...JSON.parse(t)})}saveGameData(){this.currentLevel>this.highestLevel&&(this.highestLevel=this.currentLevel,localStorage.setItem("pvzHighestLevel",this.highestLevel.toString())),localStorage.setItem("pvzAchievements",JSON.stringify(this.achievements))}checkAchievements(){this.gameStatus==="victory"&&!this.achievements.light_awakening&&(this.achievements.light_awakening=!0,this.showAchievementToast("光明的觉醒","光明之力在你手中苏醒，成功抵御了暗影世界的首次入侵！")),this.totalSunsCollected>=1e3&&!this.achievements.sun_avatar&&(this.achievements.sun_avatar=!0,this.showAchievementToast("太阳使者","你已成为太阳之力的化身，掌控了1000点纯净的生命能量！")),this.totalZombiesKilled>=100&&!this.achievements.shadow_hunter&&(this.achievements.shadow_hunter=!0,this.showAchievementToast("暗影猎手","你已成为令暗影世界胆寒的猎手，成功净化了100个被暗影侵蚀的生命！")),this.gameStatus==="victory"&&this.plants.length>0&&!this.achievements.unbreakable_light&&(this.achievements.unbreakable_light=!0,this.showAchievementToast("不可逾越的光明","你的光明防线坚不可摧，在没有损失任何守护者的情况下彻底净化了暗影大军！")),this.plantsUsed.size===Object.keys(tt).length&&!this.achievements.light_army_commander&&(this.achievements.light_army_commander=!0,this.showAchievementToast("光明军团统帅","你已掌握了所有光明守护者的力量，成为了名副其实的光明统帅！")),this.gameStatus==="victory"&&this.currentLevel>=4&&!this.achievements.light_defender&&(this.achievements.light_defender=!0,this.showAchievementToast("光明捍卫者","即使在最黑暗的时刻，你依然坚守光明，成为了光明大陆真正的守护者！")),this.totalZombiesKilled>=1&&!this.achievements.light_retribution&&(this.achievements.light_retribution=!0,this.showAchievementToast("光明的惩戒","你的第一次净化，象征着光明对暗影的正义惩戒！")),this.totalSunsCollected>=100&&!this.achievements.life_force&&(this.achievements.life_force=!0,this.showAchievementToast("生命之力","你收集了100点来自太阳的生命能量，光明之力在你体内流淌！")),this.totalZombiesKilled>=50&&!this.achievements.shadow_reaper&&(this.achievements.shadow_reaper=!0,this.showAchievementToast("暗影收割者","你如收割者般净化了50个暗影生物，成为光明大陆的清道夫！")),this.currentCombo>=10&&!this.achievements.light_combo&&(this.achievements.light_combo=!0,this.showAchievementToast("光明连击","连续10次净化暗影生物，光明力量在你手中绽放出璀璨的光芒！")),this.totalDefensePlantsUsed>=10&&!this.achievements.light_barrier&&(this.achievements.light_barrier=!0,this.showAchievementToast("光明壁垒","你构建了坚不可摧的光明壁垒，任何暗影生物都无法轻易突破！")),this.gameStatus==="victory"&&this.currentLevel>=3&&!this.achievements.shadow_resister&&(this.achievements.shadow_resister=!0,this.showAchievementToast("暗影抵御者","你成功抵御了暗影世界的多次大规模入侵，证明了自己的实力！")),this.gameStatus==="victory"&&this.currentLevel>=5&&!this.achievements.water_defender&&(this.achievements.water_defender=!0,this.showAchievementToast("水域守护者","你成功净化了被暗影污染的水域，恢复了大自然的平衡！")),this.gameStatus==="victory"&&this.currentLevel>=8&&!this.achievements.light_victory&&(this.achievements.light_victory=!0,this.showAchievementToast("光明的胜利","你彻底击败了宿槐和她的暗影大军，光明大陆重获永恒的和平！")),this.gameStatus==="victory"&&this.plants.some(n=>n.type==="qingyuan")&&!this.achievements.light_descend&&(this.achievements.light_descend=!0,this.showAchievementToast("光明的降临","传说中的守护者清鸢响应了你的召唤，与你并肩作战，共同对抗暗影！")),this.gameStatus==="victory"&&this.plants.some(n=>n.type==="shancatleader")&&!this.achievements.shancat_redemption&&(this.achievements.shancat_redemption=!0,this.showAchievementToast("善•猫的救赎","你见证了善•猫教主的救赎之路，曾经的暗影使者如今成为了光明的守护者！")),this.totalZombiesKilled>=10&&!this.achievements.su_huai_fall&&(this.achievements.su_huai_fall=!0,this.showAchievementToast("宿槐的陨落","你多次击败了暗影女王宿槐，证明了光明终将战胜黑暗！")),this.saveGameData()}showAchievementToast(n,t){console.log(`🏆 成就解锁: ${n} - ${t}`);const s=document.createElement("div");s.className="fixed top-4 right-4 bg-gradient-to-r from-yellow-600 to-yellow-400 text-black px-6 py-4 rounded-lg shadow-2xl z-50 transform transition-all duration-700 ease-out translate-x-full",s.innerHTML=`
      <div class="flex items-center">
        <div class="text-2xl mr-3 animate-bounce">🏆</div>
        <div>
          <div class="font-bold text-lg">成就解锁: ${n}</div>
          <div class="text-sm opacity-90">${t}</div>
        </div>
      </div>
    `,document.body.appendChild(s);const o=document.createElement("style");o.textContent=`
      @keyframes float {
        0% { transform: translateY(0px); }
        50% { transform: translateY(-10px); }
        100% { transform: translateY(0px); }
      }
      @keyframes glow {
        0% { box-shadow: 0 0 10px rgba(255, 193, 7, 0.5); }
        50% { box-shadow: 0 0 20px rgba(255, 193, 7, 0.8); }
        100% { box-shadow: 0 0 10px rgba(255, 193, 7, 0.5); }
      }
      .animate-glow {
        animation: glow 2s infinite ease-in-out;
      }
    `,document.head.appendChild(o),setTimeout(()=>{s.classList.remove("translate-x-full"),s.classList.add("animate-glow")},100),setTimeout(()=>{s.style.animation="float 2s infinite ease-in-out"},600),setTimeout(()=>{s.classList.add("translate-x-full"),s.style.animation="none",s.classList.remove("animate-glow"),setTimeout(()=>{document.body.removeChild(s),document.head.removeChild(o)},500)},6e3)}showGameTip(){const n=Date.now();if(n-this.lastTipTime>=q.gameTipsInterval&&this.gameStatus==="playing"){const t=this.gameTips[Math.floor(Math.random()*this.gameTips.length)];this.lastTipTime=n;const s=document.createElement("div");s.className="fixed bottom-4 left-0 right-0 max-w-md mx-auto bg-blue-900 bg-opacity-90 text-white px-4 py-3 rounded-lg shadow-lg z-40 transform transition-all duration-500 translate-y-full",s.innerHTML=`
        <div class="flex items-start">
          <div class="text-lg mr-2 mt-1">💡</div>
          <div class="text-sm">${t}</div>
        </div>
      `,document.body.appendChild(s),setTimeout(()=>{s.classList.remove("translate-y-full")},100),setTimeout(()=>{s.classList.add("translate-y-full"),setTimeout(()=>{document.body.removeChild(s)},500)},8e3)}}checkCombo(){try{Date.now()-this.lastZombieKillTime>2e3&&(this.currentCombo=0)}catch(n){console.error("检查连击系统失败:",n)}}resizeCanvas(){const n=this.canvas.parentElement;if(!n)return;const t=n.clientWidth,s=n.clientHeight,o=q.gridSize.cols*q.cellSize.width,c=q.gridSize.rows*q.cellSize.height;let u=1;(t<o||s<c)&&(u=Math.min(t/o,s/c)),this.canvas.width=o*u,this.canvas.height=c*u,this.ctx.scale(u,u)}startGame(n=1){this.currentLevel=n,this.totalWaves=zt[n].waves,this.currentWave=0;const t=zt[n];let s=q.initialSun;const o=t.isHighIntensityCustom||!1;n>=4&&n<=4?(s=Math.floor(q.initialSun*.8),this.sunProductionRateModifier=1.2):n>=5&&n<=5?s=Math.floor(q.initialSun*1.1):n>=7&&n<=7?s=Math.floor(q.initialSun*.9):n>=8&&n<=8?s=Math.floor(q.initialSun*1.2):n===9?s=Math.floor(q.initialSun*1.5):o&&(s=Math.floor(q.initialSun*1.3)),this.sun=s,this.plants=[],this.zombies=[],this.bullets=[],this.suns=[],this.meteorites=[],this.selectedPlantType=null,this.lastSunProductionTime=Date.now(),this.lastWaveTime=Date.now()+5e3,this.lastTipTime=Date.now(),this.lastZombieKillTime=Date.now(),this.gameStatus="playing",this.lastTime=Date.now(),this.currentCombo=0,this.meteoriteTriggeredRows={};for(let c=0;c<q.gridSize.rows;c++)this.meteoriteTriggeredRows[c]=!1;this.isNightLevel=n===4,this.isPoolLevel=n===5,this.isRoofLevel=n===6,this.isFogLevel=n===7,setTimeout(()=>{if(this.gameStatus==="playing"){const c=Math.floor(s*.4);this.sun=Math.min(this.sun+c,q.maxSun),this.createVisualFeedback("sun_bonus",this.canvas.width/2,this.canvas.height/2,c,"开局奖励！"),setTimeout(()=>{this.gameStatus==="playing"&&(this.generateSun(),this.generateSun(),this.generateSun())},1e3);let u=0;const f=8,h=setInterval(()=>{u<f&&this.gameStatus==="playing"?(this.generateSun(),u++):clearInterval(h)},2e3)}},3e3),Object.keys(this.plantCooldowns).forEach(c=>{this.plantCooldowns[c]=0}),this.addAutoAttacker("ultraman_zero"),this.gameLoop(),this.currentLevel===9&&zt[this.currentLevel].isEndless&&this.startEndlessMode()}addAutoAttacker(n){const t=new T3(n);this.autoAttackers.push(t)}pauseGame(){this.gameStatus==="playing"?this.gameStatus="paused":this.gameStatus==="paused"&&(this.gameStatus="playing",this.lastTime=Date.now(),this.gameLoop())}gameOver(){this.gameStatus="gameover",this.saveGameData()}saveGameProgress(){this.saveGameData(),console.log("游戏进度已保存")}gameVictory(){this.gameStatus="victory",this.saveGameData()}selectPlant(n){this.sun>=tt[n].cost&&this.plantCooldowns[n]<=0&&(this.selectedPlantType=n)}plantAtGrid(n,t){if(!this.selectedPlantType||this.gameStatus!=="playing")return;const s=this.selectedPlantType;if(this.selectedPlants.length>0&&!this.selectedPlants.includes(s)||this.sun<tt[s].cost)return;for(const u of this.plants)if(u.gridX===n&&u.gridY===t)return;const o=new k3(s,n,t);this.plants.push(o),this.sun-=tt[s].cost,this.plantCooldowns[s]=tt[s].cooldown*q.plantCooldownMultiplier,this.selectedPlantType=null,this.playSound("plant"),this.plantsUsed.add(s),["wallnut","tallnut"].includes(s)&&this.totalDefensePlantsUsed++,this.createVisualFeedback("plant_success",o.x,o.y)}collectSun(n){this.sun=Math.min(this.sun+n.value,q.maxSun);const t=this.suns.indexOf(n);t!==-1&&this.suns.splice(t,1),this.playSound("collect"),this.totalSunsCollected+=n.value,this.createVisualFeedback("sun_collect",n.x,n.y,n.value)}generateWave(){var u;if(!((u=zt[this.currentLevel])!=null&&u.isEndless)&&this.currentWave>=this.totalWaves)return;this.currentWave++;const n=zt[this.currentLevel],t=n.isHighIntensityCustom||!1;let s=this.calculateBaseZombieCount();const o=typeof q.maxZombiesPerWave=="object"?q.maxZombiesPerWave[n.difficulty]*(t?1.6:1):q.maxZombiesPerWave*(t?1.6:1);let c=Math.min(s,o);if(t&&this.selectedZombies.length>0){const f={...n,zombieTypes:this.selectedZombies};this.generateZombiesWithStrategy(c,f)}else this.generateZombiesWithStrategy(c,n);this.lastWaveTime=Date.now(),this.createVisualFeedback("wave_start",this.canvas.width/2,50,0,`第 ${this.currentWave} 波僵尸来袭！`)}calculateBaseZombieCount(){var f;const n=zt[this.currentLevel],t=n.isHighIntensityCustom||!1,s=((f=zt[this.currentLevel])==null?void 0:f.isEndless)||!1,o=typeof q.maxZombiesPerWave=="object"?q.maxZombiesPerWave[n.difficulty]:q.maxZombiesPerWave;let c=4+Math.floor((this.currentWave-1)*1.5)+Math.floor(Math.random()*3);switch(n.difficulty){case"easy":c=Math.max(3,Math.min(c,o));break;case"medium":c=Math.max(5,Math.min(c,o));break;case"hard":c=Math.max(7,Math.min(c,o));break;case"expert":c=Math.max(9,Math.min(c,o));break}if(t){c=Math.floor(c*1.4);const h=typeof q.maxZombiesPerWave=="object"?q.maxZombiesPerWave[n.difficulty]*1.6:q.maxZombiesPerWave*1.6;c=Math.min(c,Math.floor(h))}if(s){const h=1+(this.currentWave-1)*.015;c=Math.floor(c*Math.pow(1.08,h));const m=1+Math.floor((this.currentWave-1)/5)*.08;c=Math.floor(c*m);const p=typeof q.maxZombiesPerWave=="object"?q.maxZombiesPerWave[n.difficulty]*2.5:q.maxZombiesPerWave*2.5;c=Math.min(c,Math.floor(p))}this.sun>1e3?c=Math.floor(c*1.2):this.sun>500?c=Math.floor(c*1.05):this.sun<200&&(c=Math.floor(c*.9));const u=this.plants.filter(h=>h.damage).length;return u>15?c=Math.floor(c*1.2):u>8?c=Math.floor(c*1.1):u<3&&(c=Math.floor(c*.85)),Math.max(3,Math.min(c,typeof q.maxZombiesPerWave=="object"?q.maxZombiesPerWave[n.difficulty]*(t?1.6:1)*(s?2.5:1):q.maxZombiesPerWave*(t?1.6:1)*(s?2.5:1)))}generateZombiesWithStrategy(n,t){const s=this.analyzeGameState(),o=this.createZombieGenerationPlan(n,t,s);this.executeZombieGenerationPlan(o,t)}analyzeGameState(){const n={};this.plants.forEach(c=>{n[c.type]=(n[c.type]||0)+1});const t=new Array(q.gridSize.rows).fill(0);this.plants.forEach(c=>{["wallnut","tallnut","pumpkin"].includes(c.type)&&(t[c.gridY]+=3),c.damage&&(t[c.gridY]+=2),["magnetshroom","coffeebean"].includes(c.type)&&(t[c.gridY]+=1)});const s=t.indexOf(Math.min(...t)),o=this.plants.some(c=>c.type==="qingyuan");return{plantTypeCounts:n,laneStrengths:t,weakestLane:s,hasQingYuan:o,totalPlants:this.plants.length,attackPlantCount:this.plants.filter(c=>c.damage).length,defensePlantCount:this.plants.filter(c=>["wallnut","tallnut","pumpkin"].includes(c.type)).length,sunProductionRate:this.calculateSunProductionRate()}}calculateSunProductionRate(){const n=this.plants.filter(o=>o.type==="sunflower").length,t=this.plants.filter(o=>o.type==="sunshroom").length,s=this.plants.filter(o=>o.type==="qingyuan").length;return 1+n*.5+t*.3+s*2}createZombieGenerationPlan(n,t,s){const o=t.difficulty,c=q.zombieTypeWeights[o]||q.zombieTypeWeights.easy,u=this.createDynamicWeights(c,s),f=.7,h=.2,m=this.currentWave===1,p=!t.isEndless&&this.currentWave===t.waves;let y=f,b=h;m?(y=1,b=0):p&&(y=.5,b=.2);const v=Math.floor(n*y),k=Math.floor(n*b),S=n-v-k,N=this.selectZombieTypesByWeight(v,u.main,t.zombieTypes),C=this.selectZombieTypesByWeight(k,u.support,t.zombieTypes),M=this.selectZombieTypesByWeight(S,u.elite,t.zombieTypes),_=this.generateSpecialTimingZombies(s,t.zombieTypes);return{mainTypes:N,supportTypes:C,eliteTypes:M,specialTiming:_}}createDynamicWeights(n,t){const s={...n},o={imp:3,backupdancer:2,newspaper:2,glasses:2},c={giant:2,buckethead:3,screen:3,gargantuar:1,football:2,captain:2,cowbot:2};return t.defensePlantCount>5&&(s.buckethead&&(s.buckethead*=1.5),s.screen&&(s.screen*=1.5),c.football&&(c.football*=1.5)),t.attackPlantCount>8&&(s.buckethead&&(s.buckethead*=1.3),c.giant&&(c.giant*=1.3),c.gargantuar&&(c.gargantuar*=1.3)),t.sunProductionRate>5&&(s.digger&&(s.digger*=1.4),s.pogo&&(s.pogo*=1.4)),t.hasQingYuan&&(Object.keys(s).forEach(u=>{s[u]*=1.2}),c.giant&&(c.giant*=1.5),c.gargantuar&&(c.gargantuar*=1.5)),this.isPoolLevel&&["dolphinrider","snorkel","mermaid","zombiefish"].forEach(f=>{s[f]&&(s[f]*=1.5)}),this.isNightLevel&&["digger","pogo"].forEach(f=>{s[f]&&(s[f]*=1.3)}),{main:s,support:o,elite:c}}selectZombieTypesByWeight(n,t,s){if(n<=0)return[];const o=[];for(const[u,f]of Object.entries(t))if(s.includes(u))for(let h=0;h<f;h++)o.push(u);if(o.length===0)return[];const c={};for(let u=0;u<n;u++){const f=Math.floor(Math.random()*o.length),h=o[f];c[h]=(c[h]||0)+1}return Object.entries(c).map(([u,f])=>({type:u,count:f}))}generateSpecialTimingZombies(n,t,s=!1){var u,f;const o=[];if(n.laneStrengths[n.weakestLane]<5){let h="normal";n.attackPlantCount>5&&n.defensePlantCount<3?t.includes("buckethead")?h="buckethead":t.includes("conehead")&&(h="conehead"):n.attackPlantCount<3&&n.defensePlantCount<3&&(t.includes("digger")?h="digger":t.includes("pogo")&&(h="pogo"));const m=Math.floor(Math.random()*2e4)+5e3;o.push({type:h,timing:m,lane:n.weakestLane}),n.laneStrengths[n.weakestLane]<2&&o.push({type:h,timing:m+2e3,lane:n.weakestLane})}if(n.hasQingYuan){const h=t.filter(m=>["giant","gargantuar","football","captain"].includes(m));if(h.length>0){const m=h[Math.floor(Math.random()*h.length)],p=Math.floor(Math.random()*15e3)+15e3;let y;do y=Math.floor(Math.random()*q.gridSize.rows);while(y===n.weakestLane);o.push({type:m,timing:p,lane:y})}}if(n.hasShanCatLeader&&t.includes("cat_leader")){const h=Math.floor(Math.random()*1e4)+1e4,m=((u=this.plants.find(p=>p.type==="shancatleader"))==null?void 0:u.gridY)||n.weakestLane;o.push({type:"cat_leader",timing:h,lane:m})}if(s&&(this.isPoolLevel&&t.includes("dolphinrider")?o.push({type:"dolphinrider",timing:1e4,lane:Math.floor(Math.random()*q.gridSize.rows)}):this.isNightLevel&&t.includes("newspaper")&&o.push({type:"newspaper",timing:15e3,lane:Math.floor(Math.random()*q.gridSize.rows)}),(f=zt[this.currentLevel])!=null&&f.isHighIntensityCustom&&o.length>0)){const h=o[Math.floor(Math.random()*o.length)];o.push({...h,timing:h.timing+3e3})}n.favorRightSide&&t.includes("digger")&&o.push({type:"digger",timing:5e3,lane:Math.floor(Math.random()*q.gridSize.rows)});const c=Math.min(3,Math.max(1,Math.floor(10/10)));return o.slice(0,c)}executeZombieGenerationPlan(n,t){this.currentWaveConfiguration={zombieTypesUsed:[...n.mainTypes,...n.supportTypes,...n.eliteTypes].map(m=>m.type),zombiesDeployed:n.mainTypes.reduce((m,p)=>m+p.count,0)+n.supportTypes.reduce((m,p)=>m+p.count,0)+n.eliteTypes.reduce((m,p)=>m+p.count,0)+n.specialTiming.length,timestamp:Date.now(),gameStateSnapshot:{}};let s=0;for(const{type:m,count:p}of n.mainTypes)for(let y=0;y<p;y++)this.scheduleZombieSpawn(m,s,t),s+=400+Math.random()*300;const o=s/(n.supportTypes.length+1);let c=o;for(const{type:m,count:p}of n.supportTypes)for(let y=0;y<p;y++)this.scheduleZombieSpawn(m,c,t),c+=o;const u=s*.6,f=s*.4/(n.eliteTypes.reduce((m,p)=>m+p.count,0)+1);let h=u;for(const{type:m,count:p}of n.eliteTypes)for(let y=0;y<p;y++)this.scheduleZombieSpawn(m,h,t,!0),h+=f;for(const{type:m,timing:p,lane:y}of n.specialTiming)this.scheduleZombieSpawnAtSpecificTime(m,p,y,t,!0)}recordWaveConfiguration(n,t){const s={waveNumber:this.currentWave,timestamp:Date.now(),zombieTypes:[...n.mainTypes,...n.supportTypes,...n.eliteTypes].map(o=>({type:o.type,count:o.count})),specialTiming:n.specialTiming,gameState:{plantTypeCounts:t.plantTypeCounts,laneStrengths:t.laneStrengths,totalPlants:t.totalPlants,sunProductionRate:t.sunProductionRate,hasQingYuan:t.hasQingYuan,hasShanCatLeader:t.hasShanCatLeader},plantsDestroyed:0,zombiesDestroyed:0,zombiesReachedEnd:0};this.waveConfigurations.push(s),this.waveConfigurations.length>10&&this.waveConfigurations.shift()}scheduleZombieSpawn(n,t,s,o=!1){setTimeout(()=>{if(this.gameStatus==="playing"){let c=this.chooseOptimalLaneForZombie(n);const u=new ri(n,c);o&&(u.health=Math.floor(u.health*1.5),u.speed=Math.min(u.speed*1.2,2.5));const f=1+(this.currentWave-1)*.05;u.health=Math.floor(u.health*f),this.zombies.push(u),(this.currentLevel>=5||this.currentWave>10)&&Math.random()<.3&&["giant","gargantuar","captain"].includes(n)&&setTimeout(()=>{if(this.gameStatus==="playing"){const m=["imp","backupdancer"].find(p=>s.zombieTypes.includes(p));if(m){const p=new ri(m,c);this.zombies.push(p)}}},300+Math.random()*500)}},t)}scheduleZombieSpawnAtSpecificTime(n,t,s,o,c=!1){setTimeout(()=>{if(this.gameStatus==="playing"){const u=new ri(n,s);c&&(u.health=Math.floor(u.health*1.5),u.speed=Math.min(u.speed*1.2,2.5));const f=1+(this.currentWave-1)*.05;u.health=Math.floor(u.health*f),this.zombies.push(u)}},t)}chooseOptimalLaneForZombie(n){const t=new Array(q.gridSize.rows).fill(0);for(const c of this.zombies){const u=Math.floor(c.y/q.cellSize.height);u>=0&&u<q.gridSize.rows&&t[u]++}if(["dolphinrider","snorkel","mermaid","zombiefish"].includes(n)&&this.isPoolLevel){const u=[2,3].filter(f=>f<q.gridSize.rows);if(u.length>0){let f=1/0,h=u[0];for(const m of u)t[m]<f&&(f=t[m],h=m);return h}}const s=Math.min(...t),o=t.map((c,u)=>u).filter(c=>t[c]===s);return o[Math.floor(Math.random()*o.length)]}playSound(n){console.log(`Play sound: ${n}`),n==="meteorite"&&console.log("播放陨石音效：呼啸声和爆炸声")}checkAndTriggerMeteorites(){const t=q.cellSize.width,s=0*t;for(let o=0;o<q.gridSize.rows;o++){if(this.meteoriteTriggeredRows[o])continue;let c=!1;for(const u of this.zombies)if(Math.floor(u.y/q.cellSize.height)===o&&u.x<=s+t&&u.x>=s){c=!0;break}if(c){this.meteoriteTriggeredRows[o]=!0;const u=new _3(o);this.meteorites.push(u),this.playSound("meteorite"),setTimeout(()=>{this.clearRowZombies(o)},500);break}}}clearRowZombies(n){for(let t=this.zombies.length-1;t>=0;t--){const s=this.zombies[t];Math.floor(s.y/q.cellSize.height)===n&&(this.zombies.splice(t,1),this.playSound("zombiedie"))}}gameLoop(){var c,u;if(this.gameStatus!=="playing")return;const n=Date.now(),t=(n-this.lastTime)*this.gameSpeed;for(this.lastTime=n,this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.drawBackground(),Object.keys(this.plantCooldowns).forEach(f=>{const h=f;this.plantCooldowns[h]>0&&(this.plantCooldowns[h]-=t)}),this.plants.filter(f=>f.type==="qingyuan").length>0&&(n-this.lastTipTime>=1e4&&(this.zombies.forEach(f=>{f.isSlowed=!1}),this.createVisualFeedback("holy_wave",this.canvas.width/2,this.canvas.height/2,0,"神圣光波清除了所有负面效果！"),this.lastTipTime=n),n-this.lastWaveTime>=3e4&&(this.createVisualFeedback("holy_field",this.canvas.width/2,this.canvas.height/2,0,"神圣领域！所有植物攻击力提升50%！"),this.lastWaveTime=n));this.summonRequests.length>0;){const f=this.summonRequests.shift();if(f){const{zombieType:h,lane:m}=f;try{const p=new ri(h,m);this.zombies.push(p),this.createVisualFeedback("summon_zombie",this.canvas.width-50,p.y,0,`宿槐召唤了 ${Rl[h].name}!`)}catch(p){console.error(`Failed to summon zombie: ${p}`)}}}const o=q.sunProductionRate/this.sunProductionRateModifier;if(n-this.lastSunProductionTime>=o&&(this.generateSun(),this.lastSunProductionTime=n,this.currentWeather==="sunny"&&Math.random()<.2&&setTimeout(()=>{this.gameStatus==="playing"&&this.generateSun()},500)),this.checkAndTriggerMeteorites(),this.currentWave<this.totalWaves&&n-this.lastWaveTime>=q.waveInterval&&this.generateWave(),!((c=zt[this.currentLevel])!=null&&c.isEndless)&&this.currentWave>=this.totalWaves&&this.zombies.length===0){this.gameVictory();return}for(let f=this.plants.length-1;f>=0;f--){const h=this.plants[f];if(h.type==="qingyuan"){if(Math.random()<.3){const m=this.zombies.filter(p=>{const y=Math.floor(p.y/q.cellSize.height),b=h.gridY;return y===b&&p.x<=h.x+h.width&&p.x+p.width>=h.x});if(m.length>0){const p=m[Math.floor(Math.random()*m.length)],y=Math.floor((tt[h.type].damage||0)*.5);this.createVisualFeedback("damage_reflect",p.x,p.y,y),p.health-=y}}if(h.health<=0){for(let m=this.zombies.length-1;m>=0;m--){const p=this.zombies[m];p.health-=3e3,p.speed*=.1,setTimeout(()=>{p.speed&&(p.speed*=10)},3e3)}this.playSound("explosion"),this.plants.splice(f,1)}}else if(h.health<=0){this.plants.splice(f,1),this.playSound("plantdie");continue}if(h.update(t),h.canProduceSun(n)){const m=new Xu(h.x+h.width/2,h.y);this.suns.push(m),h.lastSunProductionTime=n}if(h.type==="qingyuan"&&n-h.lastSunProductionTime>=800){const m=new Xu(h.x+h.width/2,h.y,80);this.suns.push(m),h.lastSunProductionTime=n}if(h.canAttack(n)){let m=null;if(h.type==="peashooter"||h.type==="snowpea"){if(m=h.attack(),m&&(this.bullets.push(m),h.type==="repeater")){const p=new ks(m.x,m.y+10,m.damage,m.isFrozen);this.bullets.push(p)}}else if(h.type==="cattail"||h.type==="qingyuan"){let p=null,y=1/0;for(const b of this.zombies){const v=b.x+b.width/2-(h.x+h.width/2),k=b.y+b.height/2-(h.y+h.height/4),S=Math.sqrt(v*v+k*k);S<y&&(y=S,p=b)}if(p&&(m=new ks(h.x+h.width/2,h.y+h.height/4,tt[h.type].damage||0,!1,!0,p),this.bullets.push(m),h.type==="qingyuan")){const b=Math.min(this.zombies.length+3,10);for(let v=1;v<b;v++){const k=Math.floor(Math.random()*this.zombies.length),S=this.zombies[k];if(S){const N=new ks(h.x+h.width/2,h.y+h.height/4,tt[h.type].damage||0,!1,!0,S);this.bullets.push(N)}}}}else if(h.type==="wintermelon"){const p=q.cellSize.width*2,y=h.x+h.width/2,b=h.y+h.height/2;for(const v of this.zombies){const k=v.x+v.width/2-y,S=v.y+v.height/2-b;Math.sqrt(k*k+S*S)<=p&&(v.takeDamage(tt[h.type].damage||0,!0),this.playSound("shoot"))}}else if(h.type==="cobcannon"){let p=null,y=1/0;for(const b of this.zombies)b.x<y&&(y=b.x,p=b);if(p){const b=p.x+p.width/2,v=p.y+p.height/2,k=q.cellSize.width*1.5;for(let S=this.zombies.length-1;S>=0;S--){const N=this.zombies[S],C=N.x+N.width/2-b,M=N.y+N.height/2-v;Math.sqrt(C*C+M*M)<=k&&N.takeDamage(tt[h.type].damage||0)&&(this.zombies.splice(S,1),this.playSound("zombiedie"))}this.playSound("explosion")}}m&&(h.lastAttackTime=n,this.playSound("shoot"))}if((h.type==="cherrybomb"||h.type==="jalapeno")&&n-h.lastAttackTime>=1e3&&h.explode()){const m=tt[h.type].damage||0;if(h.type==="cherrybomb"){const p=q.cellSize.width*1.5,y=h.x+h.width/2,b=h.y+h.height/2;for(let v=this.zombies.length-1;v>=0;v--){const k=this.zombies[v],S=Math.abs(k.x+k.width/2-y),N=Math.abs(k.y+k.height/2-b);S<=p&&N<=p&&k.takeDamage(m)&&(this.zombies.splice(v,1),this.playSound("zombiedie"))}}else if(h.type==="jalapeno"){const p=Math.floor(h.y/q.cellSize.height);for(let y=this.zombies.length-1;y>=0;y--){const b=this.zombies[y];Math.floor(b.y/q.cellSize.height)===p&&b.takeDamage(m)&&(this.zombies.splice(y,1),this.playSound("zombiedie"))}}this.plants.splice(f,1),this.playSound("explosion")}h.render(this.ctx)}for(let f=this.zombies.length-1;f>=0;f--){const h=this.zombies[f];if(h){if(h.update(t,this.plants),h.type==="su_huai"&&h.lastSummonTime===n&&(h.summonedZombies||[]).forEach(p=>{const y=Math.floor(h.y/q.cellSize.height);this.summonRequests.push({zombieType:p,lane:y})}),h.type==="balloon"){let m=!1;for(const p of this.plants)if(p.gridY===Math.floor(h.y/q.cellSize.height)&&p.x+p.width>=h.x&&p.type==="tallnut"){m=!0,h.isEating=!0,h.canAttack(Date.now())&&(p.takeDamage(h.damage),h.lastAttackTime=Date.now());break}m||(h.isEating=!1,h.x-=h.speed*q.zombieSpeedMultiplier*t*.1)}else if(h.type==="digger")h.x>q.gridSize.cols*q.cellSize.width?h.x-=h.speed*q.zombieSpeedMultiplier*t*.1:h.x>q.gridSize.cols*q.cellSize.width*.5?h.y+=h.speed*q.zombieSpeedMultiplier*t*.05:h.x>0&&(h.y-=h.speed*q.zombieSpeedMultiplier*t*.05,h.x+=h.speed*q.zombieSpeedMultiplier*t*.1);else if(h.type==="dolphinrider"){let m=!1;for(const p of this.plants)if(p.gridY===Math.floor(h.y/q.cellSize.height)&&p.x+p.width>=h.x&&!m){h.x=p.x+p.width+10,m=!0;break}}if(h.x<=0||h.type==="digger"&&h.x>q.gridSize.cols*q.cellSize.width&&h.y>q.gridSize.rows*q.cellSize.height){this.gameOver();return}h.render(this.ctx)}}for(let f=this.bullets.length-1;f>=0;f--){const h=this.bullets[f];if(h.update(t),h.x>this.canvas.width){this.bullets.splice(f,1);continue}let m=!1;for(let p=this.zombies.length-1;p>=0;p--){const y=this.zombies[p];if(h.isColliding(y)){const b=h.x<500;let v=h.damage;if(b&&(["giant","gargantuar"].includes(y.type)?v=Math.floor(v*1.3):["balloon","bungee"].includes(y.type)?v=Math.floor(v*1.4):["dolphinrider","zombiefish","snorkel","mermaid"].includes(y.type)?v=Math.floor(v*1.5):["flag","scientist","impmustache","captain"].includes(y.type)&&(v=Math.floor(v*2))),y.takeDamage(v,h.isFrozen)){if(this.zombies.splice(p,1),this.playSound("zombiedie"),(u=zt[this.currentLevel])!=null&&u.isEndless&&this.totalZombiesKilled>0&&this.totalZombiesKilled%10===0){const S=50+Math.floor(this.currentWave/5)*10;this.sun=Math.min(this.sun+S,q.maxSun),this.createVisualFeedback("endless_bonus",y.x,y.y,S)}this.totalZombiesKilled++;const k=Date.now();if(k-this.lastZombieKillTime<2e3){if(this.currentCombo++,this.currentCombo>=q.comboMultiplierThreshold){const S=Math.floor(5*q.comboMultiplier);this.sun=Math.min(this.sun+S,q.maxSun),this.createVisualFeedback("combo_bonus",y.x,y.y,S)}}else this.currentCombo=1;this.lastZombieKillTime=k,this.createVisualFeedback("zombie_death",y.x,y.y)}this.bullets.splice(f,1),m=!0;break}}m||h.render(this.ctx)}for(let f=this.suns.length-1;f>=0;f--){const h=this.suns[f];if(h.update(t),h.isExpired()){this.sun=Math.min(this.sun+h.value,q.maxSun),this.suns.splice(f,1),this.playSound("collect"),this.totalSunsCollected+=h.value;continue}h.render(this.ctx)}for(let f=this.meteorites.length-1;f>=0;f--){const h=this.meteorites[f];if(h.update(t),h.isFinished()){this.meteorites.splice(f,1);continue}h.render(this.ctx)}for(const f of this.autoAttackers){try{f.update(t,this.zombies,this.bullets)}catch(h){console.error("自动攻击者更新失败:",h)}try{f.render(this.ctx)}catch(h){console.error("自动攻击者渲染失败:",h)}}this.checkAchievements(),this.updateWeatherAndTime(n),this.checkAndTriggerSpecialEvents(n),this.checkPlantUpgrades(),this.showGameTip(),this.checkCombo(),requestAnimationFrame(()=>this.gameLoop())}updateWeatherAndTime(n){if(n-this.lastWeatherChangeTime>=this.GAME_CONFIG.dayNightCycleDuration){if(this.timeOfDay=this.timeOfDay==="day"?"night":"day",Math.random()<this.GAME_CONFIG.weatherChangeChance){const s=["sunny","rainy","foggy","sandstorm","snowy"];this.currentWeather=s[Math.floor(Math.random()*s.length)]}this.lastWeatherChangeTime=n;let t="";switch(this.currentWeather){case"sunny":t="阳光明媚的一天！阳光产量增加！";break;case"rainy":t="开始下雨了！某些植物效果减弱！";break;case"foggy":t="雾气弥漫！视野范围减小！";break;case"sandstorm":t="沙尘暴来袭！植物生长速度减慢！";break;case"snowy":t="下雪了！僵尸移动速度减慢！";break}this.createVisualFeedback("weather_change",this.canvas.width/2,50,0,t)}}checkAndTriggerSpecialEvents(n){if(this.currentEvent===null&&n-this.lastEventTime>=this.GAME_CONFIG.dayNightCycleDuration&&Math.random()<this.GAME_CONFIG.specialEventChance){const t=["boss_battle","sun_storm","zombie_invasion"];switch(this.currentEvent=t[Math.floor(Math.random()*t.length)],this.lastEventTime=n,this.currentEvent){case"boss_battle":this.triggerBossBattle();break;case"sun_storm":this.triggerSunStorm();break;case"zombie_invasion":this.triggerZombieInvasion();break}}}triggerBossBattle(){this.createVisualFeedback("boss_battle",this.canvas.width/2,50,0,"僵尸Boss来袭！准备战斗！"),setTimeout(()=>{if(this.gameStatus==="playing"){const n=new ri("giant",Math.floor(Math.random()*q.gridSize.rows));n.health*=2,n.damage*=1.5,this.zombies.push(n)}},3e3)}triggerSunStorm(){this.createVisualFeedback("sun_storm",this.canvas.width/2,50,0,"阳光风暴来袭！收集额外阳光！");const n=1e4,t=setInterval(()=>{if(this.gameStatus==="playing"){this.generateSun();for(let s=0;s<2;s++)this.generateSun()}else clearInterval(t)},500);setTimeout(()=>{clearInterval(t),this.currentEvent=null},n)}triggerZombieInvasion(){this.createVisualFeedback("zombie_invasion",this.canvas.width/2,50,0,"僵尸大规模入侵！小心防守！");const n=15e3,t=setInterval(()=>{if(this.gameStatus==="playing")for(let s=0;s<3;s++){const o=Math.floor(Math.random()*q.gridSize.rows),c=new ri("normal",o);this.zombies.push(c)}else clearInterval(t)},800);setTimeout(()=>{clearInterval(t),this.currentEvent=null},n)}checkPlantUpgrades(){const n=new Map;this.plants.forEach(t=>{const s=n.get(t.type)||0;n.set(t.type,s+1)}),n.forEach((t,s)=>{var c;const o=((c=this.plantUpgrades.get(s))==null?void 0:c.level)||1;if(t>=3*o&&o<3){const u=o+1;this.plantUpgrades.set(s,{level:u,path:"offense"}),this.createVisualFeedback("plant_upgrade",this.canvas.width/2,50,0,`${tt[s].name} 升级到了 ${u} 级！`)}})}createVisualFeedback(n,t,s,o,c){if(n==="summon_zombie"){const u=document.createElement("div");u.className="fixed pointer-events-none z-40 font-bold text-red-400 animate-fade-up",u.innerHTML=`<div>${c}</div>`,u.style.left=`${t}px`,u.style.top=`${s}px`,document.body.appendChild(u);const f=document.createElement("style");f.textContent=`
        @keyframes fade-up {
          0% { opacity: 1; transform: translateY(0); }
          100% { opacity: 0; transform: translateY(-30px); }
        }
        .animate-fade-up {
          animation: fade-up 1s forwards;
        }
      `,document.head.appendChild(f),setTimeout(()=>{document.body.removeChild(u),document.head.removeChild(f)},1e3);return}try{if(n==="wave_start"){const v=document.createElement("div");v.className="fixed pointer-events-none z-50 font-bold text-xl text-red-500 animate-pulse",v.innerHTML=`<div class="drop-shadow-lg">${c}</div>`,v.style.left=`${t-100}px`,v.style.top=`${s-20}px`,v.style.width="200px",v.style.textAlign="center",document.body.appendChild(v);const k=document.createElement("style");k.textContent=`
          @keyframes pulse-wave {
            0% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.7; transform: scale(1.1); }
            100% { opacity: 1; transform: scale(1); }
          }
          .animate-pulse {
            animation: pulse-wave 2s forwards;
          }
        `,document.head.appendChild(k),setTimeout(()=>{document.body.removeChild(v),document.head.removeChild(k)},2e3);return}if(n==="sun_bonus"){const v=document.createElement("div");v.className="fixed pointer-events-none z-50 font-bold text-yellow-400",v.innerHTML=`
          <div class="flex flex-col items-center">
            <div class="text-3xl mb-1">☀️</div>
            <div class="text-xl">+${o} 阳光</div>
            <div class="text-sm mt-1 text-yellow-300">${c}</div>
          </div>
        `,v.style.left=`${t-50}px`,v.style.top=`${s-50}px`,document.body.appendChild(v);const k=document.createElement("style");k.textContent=`
          @keyframes float-up {
            0% { opacity: 1; transform: translateY(0); }
            100% { opacity: 0; transform: translateY(-100px); }
          }
          .animate-float-up {
            animation: float-up 2s forwards;
          }
        `,document.head.appendChild(k),v.classList.add("animate-float-up"),setTimeout(()=>{document.body.removeChild(v),document.head.removeChild(k)},2e3);return}const u=this.canvas.getBoundingClientRect(),f=q.cellSize.width,h=q.cellSize.height,m=u.left+t*u.width/(q.gridSize.cols*f),p=u.top+s*u.height/(q.gridSize.rows*h),y=document.createElement("div");switch(y.className="fixed pointer-events-none z-40 font-bold text-lg",n){case"plant_success":y.innerHTML='<div class="text-green-400 animate-fade-up">🌱 种植成功！</div>';break;case"sun_collect":y.innerHTML=`<div class="text-yellow-400 animate-fade-up">☀️ +${o}</div>`;break;case"zombie_death":y.innerHTML='<div class="text-red-400 animate-fade-up">💀 僵尸消灭！</div>';break;case"combo_bonus":y.innerHTML=`<div class="text-purple-400 animate-fade-up">✨ 连击奖励 +${o}！</div>`;break;case"endless_start":y.innerHTML=`<div class="text-purple-400 animate-fade-up text-xl font-bold">🌌 ${c}</div>`,y.style.width="300px",y.style.textAlign="center";break;case"endless_bonus":y.innerHTML=`<div class="text-purple-400 animate-fade-up">🎁 无尽奖励 +${o}！</div>`;break;case"weather_change":y.innerHTML=`<div class="text-blue-400 animate-fade-up">🌤️ ${c}</div>`;break;case"boss_battle":y.innerHTML=`<div class="text-orange-400 animate-fade-up">👑 ${c}</div>`;break;case"sun_storm":y.innerHTML=`<div class="text-yellow-400 animate-fade-up">🌪️ ${c}</div>`;break;case"zombie_invasion":y.innerHTML=`<div class="text-red-400 animate-fade-up">🧟 ${c}</div>`;break;case"plant_upgrade":y.innerHTML=`<div class="text-green-400 animate-fade-up">📈 ${c}</div>`;break}y.style.left=`${m-25}px`,y.style.top=`${p-50}px`,document.body.appendChild(y);const b=document.createElement("style");b.textContent=`
        @keyframes fade-up {
          0% { opacity: 1; transform: translateY(0); }
          100% { opacity: 0; transform: translateY(-30px); }
        }
        .animate-fade-up {
          animation: fade-up 1s forwards;
        }
      `,document.head.appendChild(b),setTimeout(()=>{document.body.removeChild(y),document.head.removeChild(b)},1e3)}catch(u){console.error("Error creating visual feedback:",u)}}drawBackground(){const n=new Image;n.src="https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/屏幕截图 2025-10-14 112623_20251015210520.png";const t=q.gridSize.cols*q.cellSize.width,s=q.gridSize.rows*q.cellSize.height;this.ctx.fillStyle="black",this.ctx.fillRect(0,0,t,s),this.createOptimizedBackgroundImage(n,t,s);const o=()=>{const c=document.createElement("canvas"),u=c.getContext("2d");if(u){c.width=t*2,c.height=s*2,u.imageSmoothingEnabled=!0,u.imageSmoothingQuality="high";const f=n.width/n.height,h=t/s;let m=t*2,p=s*2,y=0,b=0;f>h?(p=s*2,m=p*f,y=(t*2-m)/2):(m=t*2,p=m/f,b=(s*2-p)/2),u.drawImage(n,y,b,m,p),this.applyAdvancedSharpening(u,y,b,m,p),this.enhanceImageContrast(u,y,b,m,p),this.ctx.imageSmoothingEnabled=!0,this.ctx.imageSmoothingQuality="high",this.ctx.drawImage(c,0,0,c.width,c.height,0,0,t,s),this.drawOptimizedGridLines()}};n.complete?o():(n.onload=o,n.onerror=()=>{console.error("Failed to load background image"),this.ctx.fillStyle="#1a1a1a",this.ctx.fillRect(0,0,t,s),this.ctx.fillStyle="white",this.ctx.font="20px Arial",this.ctx.textAlign="center",this.ctx.textBaseline="middle",this.ctx.fillText("背景图片加载失败",t/2,s/2),this.drawOptimizedGridLines()})}createOptimizedBackgroundImage(n,t,s){try{const o=document.createElement("canvas"),c=o.getContext("2d");if(!c)return null;o.width=t*1.5,o.height=s*1.5,c.imageSmoothingEnabled=!0,c.imageSmoothingQuality="high";const u=n.width/n.height,f=t/s;let h=o.width,m=o.height,p=0,y=0;return u>f?(m=o.height,h=m*u,p=(o.width-h)/2):(h=o.width,m=h/u,y=(o.height-m)/2),c.drawImage(n,p,y,h,m),o}catch(o){return console.error("Failed to create optimized background image:",o),null}}applyAdvancedSharpening(n,t,s,o,c){try{const f=n.getImageData(Math.round(t),Math.round(s),Math.round(o),Math.round(c)).data,h=new Uint8ClampedArray(f.length),m=[-1,-1,-1,-1,9,-1,-1,-1,-1];for(let y=0;y<c;y++)for(let b=0;b<o;b++){const v=(y*o+b)*4;if(y===0||y===c-1||b===0||b===o-1){h[v]=f[v],h[v+1]=f[v+1],h[v+2]=f[v+2],h[v+3]=f[v+3];continue}let k=0,S=0,N=0;for(let C=-1;C<=1;C++)for(let M=-1;M<=1;M++){const _=m[(C+1)*3+(M+1)],T=((y+C)*o+(b+M))*4;k+=f[T]*_,S+=f[T+1]*_,N+=f[T+2]*_}h[v]=Math.min(255,Math.max(0,k)),h[v+1]=Math.min(255,Math.max(0,S)),h[v+2]=Math.min(255,Math.max(0,N)),h[v+3]=f[v+3]}const p=new ImageData(h,o,c);n.putImageData(p,Math.round(t),Math.round(s)),this.applySubtleSharpening(n,t,s,o,c)}catch(u){console.log("Advanced image sharpening skipped due to browser limitations:",u),this.applyFallbackSharpening(n,t,s,o,c)}}applySubtleSharpening(n,t,s,o,c){try{const f=n.getImageData(Math.round(t),Math.round(s),Math.round(o),Math.round(c)).data,h=new Uint8ClampedArray(f.length),m=[0,0,-.5,0,0,0,-.5,3,-.5,0,-.5,3,8,3,-.5,0,-.5,3,-.5,0,0,0,-.5,0,0],p=m.reduce((b,v)=>b+v,0);for(let b=0;b<c;b++)for(let v=0;v<o;v++){const k=(b*o+v)*4;if(b<2||b>c-3||v<2||v>o-3){h[k]=f[k],h[k+1]=f[k+1],h[k+2]=f[k+2],h[k+3]=f[k+3];continue}let S=0,N=0,C=0;for(let M=-2;M<=2;M++)for(let _=-2;_<=2;_++){const T=m[(M+2)*5+(_+2)],R=((b+M)*o+(v+_))*4;S+=f[R]*T,N+=f[R+1]*T,C+=f[R+2]*T}S/=p,N/=p,C/=p,h[k]=Math.min(255,Math.max(0,S)),h[k+1]=Math.min(255,Math.max(0,N)),h[k+2]=Math.min(255,Math.max(0,C)),h[k+3]=f[k+3]}const y=new ImageData(h,o,c);n.putImageData(y,Math.round(t),Math.round(s))}catch(u){console.log("Subtle sharpening skipped:",u)}}applyFallbackSharpening(n,t,s,o,c){try{n.save(),n.filter="sharpness(1.5)",n.drawImage(n.canvas,Math.round(t),Math.round(s),Math.round(o),Math.round(c),Math.round(t),Math.round(s),Math.round(o),Math.round(c)),n.restore()}catch(u){console.log("Fallback sharpening skipped:",u)}}enhanceImageContrast(n,t,s,o,c){try{const u=n.getImageData(Math.round(t),Math.round(s),Math.round(o),Math.round(c)),f=u.data;let h=0,m=0;for(let v=0;v<f.length;v+=4){const k=.299*f[v]+.587*f[v+1]+.114*f[v+2];h+=k,m++}const p=h/m;let y=1.2;p>128?y=1.1:y=1.3;const b=v=>Math.min(255,Math.max(0,(v-128)*y+128));for(let v=0;v<f.length;v+=4)f[v]=b(f[v]),f[v+1]=b(f[v+1]),f[v+2]=b(f[v+2]);n.putImageData(u,Math.round(t),Math.round(s))}catch(u){console.log("Contrast enhancement skipped:",u)}}drawOptimizedGridLines(){const n=q.gridSize.cols*q.cellSize.width,t=q.gridSize.rows*q.cellSize.height;this.ctx.save(),this.ctx.imageSmoothingEnabled=!0,this.ctx.imageSmoothingQuality="high";let s="rgba(0, 0, 0, 0.6)",o="rgba(255, 255, 255, 0.3)";this.isNightLevel?(s="rgba(255, 255, 255, 0.2)",o="rgba(255, 255, 255, 0.1)"):this.isPoolLevel?(s="rgba(255, 255, 255, 0.4)",o="rgba(255, 255, 255, 0.2)"):this.isRoofLevel&&(s="rgba(0, 0, 0, 0.4)",o="rgba(0, 0, 0, 0.2)"),this.ctx.strokeStyle=s,this.ctx.lineWidth=1.5,this.ctx.lineCap="round";for(let u=1;u<q.gridSize.cols;u++){const f=u*q.cellSize.width;this.ctx.beginPath(),this.ctx.moveTo(f,0),this.ctx.lineTo(f,t),this.ctx.stroke()}for(let u=1;u<q.gridSize.rows;u++){const f=u*q.cellSize.height;this.ctx.beginPath(),this.ctx.moveTo(0,f),this.ctx.lineTo(n,f),this.ctx.stroke()}this.ctx.strokeStyle=o,this.ctx.lineWidth=.8,this.ctx.setLineDash([5,15]);for(let u=1;u<q.gridSize.cols;u++){const f=u*q.cellSize.width;this.ctx.beginPath(),this.ctx.moveTo(f,0),this.ctx.lineTo(f,t),this.ctx.stroke()}for(let u=1;u<q.gridSize.rows;u++){const f=u*q.cellSize.height;this.ctx.beginPath(),this.ctx.moveTo(0,f),this.ctx.lineTo(n,f),this.ctx.stroke()}this.ctx.setLineDash([]);let c="rgba(255, 255, 255, 0.5)";this.isRoofLevel&&(c="rgba(0, 0, 0, 0.5)"),this.ctx.fillStyle=c;for(let u=1;u<q.gridSize.cols;u++)for(let f=1;f<q.gridSize.rows;f++){const h=u*q.cellSize.width,m=f*q.cellSize.height;this.ctx.beginPath(),this.ctx.arc(h,m,1,0,Math.PI*2),this.ctx.fill()}this.ctx.restore()}startEndlessMode(){this.currentWave=0,this.totalWaves=999,this.createVisualFeedback("endless_start",this.canvas.width/2,this.canvas.height/2,0,"无尽模式开启！波次将无限进行，难度会逐渐增加！")}generateSun(){const n=Math.random()*(q.gridSize.cols*q.cellSize.width-60)+30,t=-30,s=new Xu(n,t);this.suns.push(s)}handleClick(n,t){if(this.gameStatus==="playing"){for(const s of this.suns)if(n>=s.x&&n<=s.x+s.width&&t>=s.y&&t<=s.y+s.height){this.collectSun(s);return}if(this.selectedPlantType){const s=Math.floor(n/q.cellSize.width),o=Math.floor(t/q.cellSize.height);s>=0&&s<q.gridSize.cols&&o>=0&&o<q.gridSize.rows&&this.plantAtGrid(s,o)}}}}class T3 extends Si{constructor(t){const s=q.cellSize,o=-80*.7,c=(q.gridSize.rows/2-.5)*s.height,u=tt.peashooter.damage||30;super(o,c,s.width*1.4,s.height*1.6,9999);Q(this,"type");Q(this,"attackSpeed");Q(this,"lastAttackTime");Q(this,"damage");Q(this,"attackRange");Q(this,"animationOffset");Q(this,"attackEffect");Q(this,"神圣护盾",0);Q(this,"last神圣光波Time",0);this.type=t,this.attackSpeed=2e3,this.lastAttackTime=0,this.damage=u,this.attackRange=9999,this.animationOffset={x:0,y:0},this.attackEffect={active:!1,time:0},t==="ultraman_zero"&&(this.神圣护盾=0,this.last神圣光波Time=0)}canAttack(t){return t-this.lastAttackTime>=this.attackSpeed}findTarget(t){if(t.length===0)return null;let s=null,o=1/0;for(const c of t){const u=c.x+c.width/2-(this.x+this.width/2),f=c.y+c.height/2-(this.y+this.height/2),h=Math.sqrt(u*u+f*f);h<o&&h<=this.attackRange&&(o=h,s=c)}return s}attack(t,s){const o=Date.now();if(!this.canAttack(o))return;const c=new ks(this.x+this.width,this.y+this.height/2,this.damage,!1,!0,t);s.push(c),this.lastAttackTime=o,this.attackEffect.active=!0,this.attackEffect.time=o,this.playSound("shoot")}playSound(t){console.log(`Play sound: ${t}`)}update(t,s,o){const c=Date.now();this.attackEffect.active&&c-this.attackEffect.time>300&&(this.attackEffect.active=!1);const u=Math.sin(c/1e3)*2;this.animationOffset={x:this.attackEffect.active?5:0,y:u};const f=this.findTarget(s);f&&this.gameStatus==="playing"&&this.attack(f,o)}render(t){t.save(),t.translate(this.animationOffset.x,this.animationOffset.y);const s=this.x+this.width/2,o=this.y+this.height/2;t.shadowColor="rgba(0, 0, 0, 0.4)",t.shadowBlur=12,t.shadowOffsetX=6,t.shadowOffsetY=6,(()=>{t.fillStyle="#3498db",t.beginPath(),t.ellipse(s,o,35,55,0,0,Math.PI*2),t.fill(),t.fillStyle="#e74c3c",t.beginPath(),t.arc(s,o-40,25,0,Math.PI*2),t.fill(),t.fillStyle="white",t.beginPath(),t.ellipse(s-10,o-45,8,12,0,0,Math.PI*2),t.ellipse(s+10,o-45,8,12,0,0,Math.PI*2),t.fill(),t.fillStyle="black",t.beginPath(),t.arc(s-10,o-45,3,0,Math.PI*2),t.arc(s+10,o-45,3,0,Math.PI*2),t.fill(),t.fillStyle="#f39c12",t.beginPath(),t.arc(s,o-20,8,0,Math.PI*2),t.fill(),t.fillStyle="#2ecc71",t.beginPath(),t.moveTo(s-25,o),t.lineTo(s,o-20),t.lineTo(s+25,o),t.closePath(),t.fill(),t.fillStyle="#3498db",t.fillRect(s-15,o+25,10,30),t.fillRect(s+5,o+25,10,30),t.fillRect(s-40,o-10,15,20),t.fillRect(s+25,o-10,15,20),this.attackEffect.active&&(t.strokeStyle="#00ffff",t.lineWidth=4,t.setLineDash([]),t.shadowColor="#00ffff",t.shadowBlur=15,t.beginPath(),t.moveTo(s+40,o-5),t.lineTo(s+80,o-20),t.stroke(),t.shadowColor="rgba(0, 0, 0, 0.4)",t.shadowBlur=12),t.fillStyle="rgba(0, 0, 0, 0.7)",t.beginPath(),t.roundRect(s-35,o+60,70,20,10),t.fill(),t.fillStyle="white",t.font="bold 12px Arial",t.textAlign="center",t.textBaseline="middle",t.fillText("赛罗奥特曼",s,o+70)})(),t.shadowColor="transparent",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0,t.restore()}get gameStatus(){return"playing"}}let G;function kp(){var mr,Kr,pr,jn,Gr,In,Rn,Ea,Xr,Zr,Ma,gr,xr,yr,V,te,ue,J,fe,oe,be,Xe,on,ln,Ze,cn,Xn,Nn,ki,Zn,Qr,Jr,Aa,Gs,Xs,Zs,Dn,_i,Ci,Qs,Ti,zi,Pi,Ei,Js,eo,nt,to,Ia,Mi,ea,no,Ai,ta,Jt,ro,qt,ao,io,so,na,ra,br,aa;const e=Kn();j.useEffect(()=>{try{n()}catch(W){console.error("初始化游戏数据失败:",W)}},[]);const n=()=>{localStorage.setItem("pvzPlants",JSON.stringify(tt)),localStorage.setItem("pvzZombies",JSON.stringify(Rl)),localStorage.setItem("pvzLevels",JSON.stringify(zt));const W=localStorage.getItem("pvzHighestLevel");(!W||parseInt(W)<10)&&(localStorage.setItem("pvzHighestLevel","10"),p(10))},t=j.useRef(null);G=j.useRef(null);const[s,o]=j.useState("ready"),[c,u]=j.useState(1),[f,h]=j.useState(!0),[m,p]=j.useState(1),[y,b]=j.useState(q.initialSun),[v,k]=j.useState(""),[S,N]=j.useState(!1),[C,M]=j.useState(localStorage.getItem("pvzPlayerName")||""),[_,T]=j.useState([]),[R,A]=j.useState([]),[O,U]=j.useState(null),[ae,H]=j.useState(!1),[le,je]=j.useState(!1),[Ae,Te]=j.useState("rooms"),[$e,De]=j.useState(!1),[xe,Y]=j.useState([]);j.useEffect(()=>{const W=t.current;if(W){try{G.current=new C3(W);const ce=10;p(ce),localStorage.setItem("pvzHighestLevel",ce.toString())}catch(ce){console.error("游戏引擎初始化失败:",ce),pt("游戏加载失败，请刷新页面重试")}const ke=ce=>{if(G.current&&W&&(G.current.gameStatus==="playing"||s==="ready")){const ve=W.getBoundingClientRect(),He=(ce.clientX-ve.left)*(W.width/ve.width),Lt=(ce.clientY-ve.top)*(W.height/ve.height),Ln=W.width/(q.gridSize.cols*q.cellSize.width);G.current.handleClick(He/Ln,Lt/Ln)}};return W.addEventListener("click",ke),()=>{W.removeEventListener("click",ke)}}},[]),j.useEffect(()=>{const ke=setInterval(()=>{G.current&&(s!==G.current.gameStatus&&o(G.current.gameStatus),G.current.sun!==y&&b(G.current.sun))},50);return()=>clearInterval(ke)},[s,y]),j.useEffect(()=>{const W=()=>{const ce=new Date,ve=ce.getHours().toString().padStart(2,"0"),He=ce.getMinutes().toString().padStart(2,"0"),Lt=ce.getSeconds().toString().padStart(2,"0");k(`${ve}:${He}:${Lt}`)};W();const ke=setInterval(W,1e3);return()=>clearInterval(ke)},[]);const de=j.useCallback(W=>{u(W),h(!1),pt(`正在加载关卡 ${W}...`),setTimeout(()=>{De(!0)},300)},[]),ie=j.useCallback(W=>{var ce;if(Y(W),De(!1),((ce=zt[c])==null?void 0:ce.isHighIntensityCustom)||!1)setTimeout(()=>{N(!0)},300);else if(G.current)try{if(!G.current){console.error("游戏引擎未初始化"),pt("游戏引擎初始化失败，请刷新页面重试");return}G.current.selectedPlants=W,W.forEach(ve=>{G.current&&(G.current.plantCooldowns[ve]=0)}),pt("游戏开始！准备战斗！"),G.current&&G.current.startGame(c),o("playing"),b(q.initialSun),setTimeout(()=>{b(ve=>ve)},100)}catch(ve){console.error("游戏启动失败:",ve),pt("游戏启动失败，请刷新页面重试"),De(!0)}},[c]),L=j.useCallback(()=>{G.current&&G.current.pauseGame()},[]),K=j.useCallback(()=>{G.current&&(G.current.startGame(c),o("playing"))},[c]),ze=j.useCallback(()=>{h(!0),o("ready")},[]),Pe=j.useCallback(W=>{if(G.current)try{Object.keys(tt).includes(W)?(G.current.selectPlant(W),pt(`已选择 ${tt[W].name}`)):(console.error(`尝试选择无效的植物类型: ${W}`),pt(`无法选择 ${W}，植物类型无效`))}catch(ke){console.error(`选择植物时出错: ${ke}`),pt("选择植物时出错，请重试")}},[]),Me=W=>{const ke={sunflower:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20with%20sunflower%20hat%20cute%20big%20eyes%20smiling%20green%20dress%20flower%20princess&sign=85e96d77d1615b56710362f10a7552e9",peashooter:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20with%20pea%20shooter%20cute%20green%20outfit%20big%20eyes%20smiling%20plant%20magic&sign=2247bde5b2c08c5f627c97aba69ff5c6",wallnut:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20with%20nut%20hat%20strong%20cute%20brown%20outfit%20big%20eyes%20defender&sign=6dfda4def363ee91d906e66313fc4acc",snowpea:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20with%20ice%20powers%20blue%20dress%20cute%20big%20eyes%20snowflake%20magic%20smiling&sign=4e2aff77708202f1b219343e317c25e8",cherrybomb:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20with%20cherry%20hair%20pink%20dress%20cute%20big%20eyes%20smiling%20explosive%20magic&sign=bbdd925134285adcd4e25a26e64e98c1",chomper:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20with%20big%20mouth%20green%20dress%20cute%20big%20eyes%20smiling%20plant%20character&sign=ecfdcea3f2669b474a2f4e37b1b89dc7",repeater:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20with%20twin%20peashooters%20green%20dress%20cute%20big%20eyes%20double%20weapon%20smiling&sign=2501ff25b9a28fa4328f2e0964a81592",jalapeno:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20with%20fire%20powers%20red%20dress%20cute%20big%20eyes%20flame%20magic%20smiling&sign=5f7da59675c2cde80917e7dd0a153b63",tallnut:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20tall%20nut%20hat%20brown%20outfit%20cute%20big%20eyes%20tall%20defender%20smiling&sign=be62d9765f879c86defe93333d1b1902",cattail:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20with%20purple%20magic%20dress%20cute%20big%20eyes%20homing%20missile%20smiling%20wizard&sign=21de1a1e335e2f617779d7b5033a7a02",cobcannon:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20with%20cannon%20weapon%20cute%20big%20eyes%20yellow%20dress%20explosive%20smiling%20artillery&sign=91bedae4ccba0cbc54aaa0f7a241898a",wintermelon:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20with%20ice%20melon%20blue%20dress%20cute%20big%20eyes%20aoe%20magic%20smiling%20snow&sign=a78185bcb839fd17aae2393ffe43dd66",potatomine:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20potato%20mine%20brown%20outfit%20explosive%20magic%20cute%20big%20eyes%20smiling&sign=b43bb81fc1580121be8e06dc579f0f23",squash:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20squash%20orange%20dress%20heavy%20weight%20cute%20big%20eyes%20smiling&sign=dcd988def52a37dfb0bdd812a56d8122",blover:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20clover%20green%20dress%20wind%20magic%20cute%20big%20eyes%20smiling&sign=362043b77a00a4084b5f3171e14a14f2",garlic:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20garlic%20white%20dress%20scent%20magic%20cute%20big%20eyes%20smiling&sign=cbbcf2f39e2c00bc72a645cf238bc502",pumpkin:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20pumpkin%20orange%20dress%20protective%20magic%20cute%20big%20eyes%20smiling&sign=c9533ee4e8ac7dd036e6c1abacb56404",magnetshroom:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20magnet%20purple%20dress%20magnetic%20magic%20cute%20big%20eyes%20smiling&sign=04eeaaea9fa99dac1ed1b317232b89d2",sunshroom:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20sun%20mushroom%20yellow%20dress%20small%20cute%20big%20eyes%20smiling&sign=3dd601c31200364b6ade009a14bb0ebf",fumeshroom:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20fume%20mushroom%20purple%20dress%20poison%20magic%20cute%20big%20eyes%20smiling&sign=d11e7034f7c2073e01b76d75e13eeb3a",gravebuster:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20grave%20buster%20brown%20dress%20eater%20cute%20big%20eyes%20smiling&sign=9634f302f445e4bb7f9f493f3fc3d06a",coffeebean:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20coffee%20bean%20brown%20dress%20energy%20magic%20cute%20big%20eyes%20smiling&sign=2d6df7eb1f14f53fabeaec27ec2afabd",starfruit:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20star%20fruit%20yellow%20dress%20star%20shape%20cute%20big%20eyes%20chibi%20style&sign=39cf8f92030071b49fc50bcaf1e723d1",kernelpult:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20corn%20thrower%20yellow%20dress%20corn%20hat%20cute%20big%20eyes%20chibi%20style&sign=37342c2b863a76b80a786cb2932bebf1",umbrellaleaf:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20umbrella%20leaf%20green%20dress%20umbrella%20hat%20cute%20big%20eyes%20chibi%20style&sign=299de600ddd01ebbb6e272b4655e3744",spikerock:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20spike%20rock%20brown%20dress%20spikes%20cute%20big%20eyes%20chibi%20style&sign=07457bbad26aaff609ad15c522140570",threepeater:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20three%20peashooters%20green%20dress%20multiple%20weapons%20cute%20big%20eyes%20chibi%20style&sign=c9e40a3e4aec6a8ecf0bb2ddd5a975c4",splitpea:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20split%20pea%20green%20dress%20two%20faces%20cute%20big%20eyes%20chibi%20style&sign=7d5f5ab706f3bb9f423830d4974e310d",iceberglettuce:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20ice%20lettuce%20blue%20dress%20ice%20crystals%20cute%20big%20eyes%20chibi%20style&sign=3ec4e890ee893d0bf8f646f9dcc5cdbb",goldmagnet:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20magnet%20gold%20yellow%20dress%20cute%20big%20eyes%20smiling%20attractive%20power&sign=f18531886f420329d1f0c68d3d625ecf",qingyuan:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/微信图片_20251016111846_103_92_20251016111910.jpg",shancatleader:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/善•猫教主_20251018115946.jpg",xuqinglan:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/徐清岚(魔法少女)_20251019101043.jpg",yijiu:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/屹九_20251020101211.jpg",xuqinglan_god:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/徐清岚（神）_20251020165934.jpg",xuqinglan_dream:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/徐清岚“梦”_20251021232653.jpg",mumu:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/沐沐_20251022233255.png"};return i.jsx("img",{src:ke[W]||"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20plant%20default%20green%20dress%20cute%20big%20eyes%20smiling&sign=6eb1b4993755f954e03abac0038ae131",alt:tt[W].name,className:"w-full h-full object-contain",loading:"lazy"})},Ie=()=>{if(!G.current||f||$e||s==="ready")return null;const{plantCooldowns:W,selectedPlantType:ke}=G.current;return i.jsxs("div",{className:"bg-gray-800 rounded-lg p-3 md:p-4 flex flex-wrap justify-center gap-3 w-full max-w-5xl mt-4",children:[i.jsxs("div",{className:"text-yellow-300 font-bold text-xl mr-4",children:[i.jsx("i",{className:"fa-solid fa-sun"})," 阳光: ",y]}),Object.entries(tt).map(([ce,ve])=>{const He=ce;if(xe.length>0&&!xe.includes(He))return null;const Lt=ke===He,Ln=(W[He]||0)>0,ia=y>=ve.cost;return Ln&&1-W[He]/ve.cooldown,i.jsxs("div",{className:`relative cursor-pointer rounded-xl p-3 transition-all duration-300 flex flex-col items-center justify-between bg-gray-800/80 border border-gray-700
                 ${Lt?"ring-2 ring-yellow-400 bg-gray-700/80":""}
                 ${!ia||Ln?"opacity-60 grayscale cursor-not-allowed":"hover:brightness-110 hover:shadow-lg hover:border-gray-600"}
                 w-full sm:w-auto`,onClick:()=>{!Ln&&ia?Pe(He):Ln?pt(`${ve.name}正在冷却中，请稍候...`):ia||pt(`阳光不足，需要${ve.cost}阳光`)},children:[i.jsxs("div",{className:"relative w-14 h-14 flex items-center justify-center rounded-lg overflow-hidden bg-gray-900 mb-2",children:[Me(He),ve.rarity==="传说"&&i.jsx("div",{className:"absolute top-1 right-1 w-3 h-3 bg-orange-500 rounded-full animate-pulse-glow"}),ve.rarity==="史诗"&&i.jsx("div",{className:"absolute top-1 right-1 w-3 h-3 bg-purple-500 rounded-full"})]}),i.jsx("div",{className:"text-center text-white font-medium text-xs sm:text-sm mb-1 min-h-[18px]",children:ve.name}),i.jsxs("div",{className:"flex items-center text-yellow-300 font-bold text-xs sm:text-sm mb-1",children:[i.jsx("i",{className:"fa-solid fa-sun mr-1 text-[10px]"}),ve.cost]}),ve.specialEffect&&i.jsx("div",{className:"text-center text-xs sm:text-xs text-blue-300 line-clamp-1 mb-1 max-w-[100px]",children:Pa(He,ve.specialEffect)}),Ln&&i.jsxs("div",{className:"absolute inset-0 bg-black bg-opacity-70 rounded-xl flex flex-col items-center justify-center",children:[i.jsx("div",{className:"w-10 h-10 rounded-full border-2 border-gray-600 border-t-blue-400 animate-spin mb-1"}),i.jsxs("div",{className:"text-white font-bold text-sm",children:[Math.ceil(W[He]/1e3),"s"]})]}),ve.attackRange===99&&i.jsxs("div",{className:"absolute -top-1 -right-1 bg-purple-600 text-white text-xs font-bold px-2 py-0.5 rounded-full shadow-lg z-10",children:[i.jsx("i",{className:"fa-solid fa-crosshairs mr-0.5 text-[10px]"})," 全图"]}),ve.attackRange&&ve.attackRange<99&&i.jsxs("div",{className:"absolute -bottom-1 left-1/2 transform -translate-x-1/2 bg-gray-700 text-white text-xs px-2 py-0.5 rounded-full z-10",children:[i.jsx("i",{className:"fa-solid fa-ruler-combined mr-0.5 text-[10px]"})," ",ve.attackRange,"格"]})]},ce)})]})},Fe=()=>{var ke;if(f||((ke=G.current)==null?void 0:ke.currentCombo)<q.comboMultiplierThreshold)return null;const W=G.current.currentCombo;return i.jsx("div",{className:"absolute top-20 left-4 z-10 bg-gradient-to-r from-purple-600 to-blue-500 px-4 py-2 rounded-lg shadow-lg animate-pulse",children:i.jsxs("div",{className:"flex items-center text-white font-bold",children:[i.jsx("i",{className:"fa-solid fa-bolt mr-2 text-yellow-300"}),"连击 x",W,"!"]})})},Le=()=>{if(f||s==="ready")return null;const W=()=>{G.current&&(G.current.saveGameData(),pt("游戏进度已保存！"))};return i.jsxs(E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},className:"flex flex-wrap justify-center gap-4 mt-4 w-full max-w-3xl",children:[s==="playing"&&i.jsxs("div",{className:"flex flex-wrap justify-center gap-4 w-full",children:[i.jsxs(E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:L,className:"bg-gradient-to-r from-yellow-500 to-yellow-600 hover:from-yellow-600 hover:to-yellow-700 text-white font-bold py-3 px-8 rounded-xl shadow-lg shadow-yellow-900/30 transition-all duration-300 flex items-center justify-center",children:[i.jsx("i",{className:"fa-solid fa-pause mr-2"})," 暂停游戏"]}),i.jsxs(E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:W,className:"bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white font-bold py-3 px-8 rounded-xl shadow-lg shadow-blue-900/30 transition-all duration-300 flex items-center justify-center",children:[i.jsx("i",{className:"fa-solid fa-floppy-disk mr-2"})," 保存进度"]})]}),(s==="paused"||s==="gameover"||s==="victory")&&i.jsxs("div",{className:"flex flex-wrap justify-center gap-4 w-full",children:[s==="paused"&&i.jsxs(i.Fragment,{children:[i.jsxs(E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:L,className:"bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white font-bold py-3 px-8 rounded-xl shadow-lg shadow-green-900/30 transition-all duration-300 flex items-center justify-center",children:[i.jsx("i",{className:"fa-solid fa-play mr-2"})," 继续游戏"]}),i.jsxs(E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:W,className:"bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white font-bold py-3 px-8 rounded-xl shadow-lg shadow-blue-900/30 transition-all duration-300 flex items-center justify-center",children:[i.jsx("i",{className:"fa-solid fa-floppy-disk mr-2"})," 保存进度"]})]}),s==="paused"&&c>0&&i.jsx("div",{className:"w-full h-px bg-gray-700 my-2"}),i.jsxs("div",{className:"flex flex-wrap justify-center gap-4 w-full",children:[i.jsxs(E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:K,className:`font-bold py-3 px-8 rounded-xl shadow-lg transition-all duration-300 flex items-center justify-center ${s==="gameover"?"bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white shadow-red-900/30":"bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white shadow-blue-900/30"}`,children:[i.jsx("i",{className:"fa-solid fa-rotate mr-2"}),s==="gameover"?"重新挑战":"重新开始"]}),i.jsxs(E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:ze,className:"bg-gradient-to-r from-gray-600 to-gray-700 hover:from-gray-700 hover:to-gray-800 text-white font-bold py-3 px-8 rounded-xl shadow-lg shadow-gray-900/30 transition-all duration-300 flex items-center justify-center",children:[i.jsx("i",{className:"fa-solid fa-door-open mr-2"})," 返回选关"]})]})]})]})},We=()=>f?i.jsxs("div",{className:"absolute inset-0 bg-black bg-opacity-80 z-10 overflow-hidden",children:[i.jsxs("div",{className:"h-full overflow-y-auto scrollbar-thin scrollbar-thumb-gray-700 scrollbar-track-transparent scroll-smooth p-6",style:{backgroundImage:"url(https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/双生蓝紫少女_20251026111203.jpg)",backgroundSize:"cover",backgroundPosition:"center",backgroundAttachment:"fixed"},children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/30 via-black/20 to-black/40 backdrop-blur-sm"}),i.jsxs("div",{className:"min-h-full flex flex-col items-center justify-center relative z-10",children:[i.jsxs("div",{className:"mb-12 text-center",children:[i.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-green-500 mb-3 drop-shadow-md",children:"选择关卡"}),i.jsx("div",{className:"h-1 w-32 bg-gradient-to-r from-green-400 to-green-600 mx-auto rounded-full"})]}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 md:gap-6 mb-10 w-full max-w-2xl",children:[1,2,3,4,5,6,7,8,9,10].map(W=>i.jsxs("button",{onClick:()=>de(W),disabled:W>m,className:`relative aspect-square rounded-xl flex flex-col items-center justify-center transition-all duration-300 ease-out
                    ${W<=m?"bg-gradient-to-br from-green-500 to-green-700 hover:from-green-600 hover:to-green-800 shadow-lg hover:shadow-xl hover:scale-105 active:scale-95":"bg-gray-500 opacity-50 cursor-not-allowed"}`,children:[i.jsxs("div",{className:"absolute inset-0 flex items-center justify-center opacity-30",children:[i.jsx("div",{className:"absolute w-[30px] h-[30px] rounded-full bg-gradient-to-br from-green-500/05 to-green-700/02 animate-pulse"}),i.jsx("i",{className:"fa-solid fa-map-location-dot text-[18px] text-green-400/08 animate-pulse relative z-10"}),i.jsx("div",{className:"absolute w-[24px] h-[24px] rounded-full bg-green-400/05 blur-xl animate-pulse"})]}),i.jsx("i",{className:"fa-solid fa-map-location-dot text-3xl md:text-4xl text-white mb-2 relative z-10"}),i.jsxs("span",{className:"text-lg md:text-xl font-bold text-white relative z-10",children:["关卡 ",W]}),i.jsx("span",{className:"text-xs md:text-sm text-green-200 mt-1 relative z-10",children:W===1?"简单":W===2?"中等":W<=4?"困难":"专家"}),W===4&&W<=m&&i.jsxs("div",{className:"absolute -bottom-2 -left-2 bg-blue-900 text-blue-100 font-bold text-xs px-2 py-1 rounded-full",children:[i.jsx("i",{className:"fa-solid fa-moon mr-1"})," 夜晚"]}),W===5&&W<=m&&i.jsxs("div",{className:"absolute -bottom-2 -left-2 bg-blue-700 text-blue-100 font-bold text-xs px-2 py-1 rounded-full",children:[i.jsx("i",{className:"fa-solid fa-water mr-1"})," 泳池"]}),W===6&&W<=m&&i.jsxs("div",{className:"absolute -bottom-2 -left-2 bg-brown-700 text-yellow-100 font-bold text-xs px-2 py-1 rounded-full",children:[i.jsx("i",{className:"fa-solid fa-house-chimney mr-1"})," 屋顶"]}),W===7&&W<=m&&i.jsxs("div",{className:"absolute -bottom-2 -left-2 bg-gray-700 text-gray-100 font-bold text-xs px-2 py-1 rounded-full",children:[i.jsx("i",{className:"fa-solid fa-fog mr-1"})," 浓雾"]}),W===8&&W<=m&&i.jsxs("div",{className:"absolute -bottom-2 -left-2 bg-red-700 text-red-100 font-bold text-xs px-2 py-1 rounded-full",children:[i.jsx("i",{className:"fa-solid fa-crown mr-1"})," BOSS"]}),W===9&&W<=m&&i.jsxs("div",{className:"absolute -bottom-2 -left-2 bg-purple-700 text-purple-100 font-bold text-xs px-2 py-1 rounded-full",children:[i.jsx("i",{className:"fa-solid fa-infinity mr-1"})," 无尽"]}),W===10&&W<=m&&i.jsxs("div",{className:"absolute -bottom-2 -left-2 bg-gradient-to-r from-orange-600 to-red-600 text-white font-bold text-xs px-2 py-1 rounded-full",children:[i.jsx("i",{className:"fa-solid fa-sliders mr-1"})," 高强度自定义"]}),W<=m&&W>1&&W!==4&&W!==5&&W!==6&&W!==7&&W!==8&&W!==9&&i.jsx("div",{className:"absolute -top-2 -right-2 bg-yellow-500 text-black font-bold text-xs px-2 py-1 rounded-full",children:i.jsx("i",{className:"fa-solid fa-lock-open"})}),W>m&&i.jsx("div",{className:"absolute -top-2 -right-2 bg-gray-500 text-white font-bold text-xs px-2 py-1 rounded-full",children:i.jsx("i",{className:"fa-solid fa-lock"})})]},W))}),i.jsxs("div",{className:"flex flex-col items-center w-full max-w-md bg-black/10 backdrop-blur-md rounded-2xl p-4 border border-purple-500/05",children:[i.jsxs("div",{className:"bg-gray-800 bg-opacity-60 backdrop-blur-sm px-6 py-3 rounded-full mb-6 flex items-center justify-between w-full",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("i",{className:"fa-solid fa-trophy text-yellow-400 mr-2"}),i.jsxs("span",{className:"text-yellow-300 font-medium",children:["最高通关: 关卡 ",m]})]}),i.jsx(Np,{})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 w-full mt-4",children:[i.jsxs(Ts,{to:"/guidebook",className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-xl transition-all duration-300 flex items-center justify-center text-lg shadow-lg hover:shadow-blue-500/30 active:scale-98",children:[i.jsx("i",{className:"fa-solid fa-book mr-2"})," 图鉴"]}),i.jsxs("button",{onClick:()=>{h(!1),e("/story-branch")},className:"flex-1 bg-purple-700 hover:bg-purple-600 text-white font-bold py-3 px-6 rounded-xl transition-all duration-300 flex items-center justify-center text-lg shadow-lg hover:shadow-purple-500/30 active:scale-98",children:[i.jsx("i",{className:"fa-solid fa-book-open mr-2"})," 剧情分支"]})]}),i.jsxs(Ts,{to:"/character-relationships",className:"mt-4 bg-gradient-to-r from-purple-700 to-indigo-700 hover:from-purple-600 hover:to-indigo-600 text-white font-bold py-3 px-6 rounded-xl transition-all duration-300 flex items-center justify-center text-lg shadow-lg hover:shadow-purple-500/30 active:scale-98 w-full",children:[i.jsx("i",{className:"fa-solid fa-users-between-lines mr-2"})," 人物关系"]}),i.jsxs(E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{h(!1),o("ready")},className:"mt-4 bg-yellow-600 hover:bg-yellow-700 text-white font-bold py-3 px-6 rounded-xl transition-all duration-300 flex items-center justify-center text-lg shadow-lg hover:shadow-yellow-500/30 active:scale-98 w-full",children:[i.jsx("i",{className:"fa-solid fa-trophy mr-2"})," 成就"]})]}),i.jsx("div",{className:"h-16"})]})]}),i.jsx("div",{className:"hidden md:hidden absolute bottom-4 left-0 right-0 flex justify-center items-center",children:i.jsxs("div",{className:"flex items-center space-x-2 opacity-100 transition-opacity duration-500 delay-1000",children:[i.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-bounce"}),i.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),i.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})})]}):null,ht=()=>{if(f||s==="ready")return null;const{currentWave:W,totalWaves:ke}=G.current||{currentWave:0,totalWaves:0};return i.jsxs("div",{className:"bg-black bg-opacity-70 text-white px-6 py-2 rounded-full flex items-center shadow-lg",children:[i.jsxs("span",{className:"mr-4",children:[i.jsx("i",{className:"fa-regular fa-clock mr-1"}),v]}),i.jsxs("span",{className:"mr-4",children:["关卡 ",c]}),i.jsxs("span",{className:"mr-4",children:["波次 ",W,"/",ke]}),i.jsx("span",{children:s==="playing"?"游戏进行中":s==="paused"?"游戏暂停":s==="gameover"?"游戏结束":"游戏胜利"})]})},wn=()=>f||s==="ready"||s!=="gameover"&&s!=="victory"?null:i.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-80 flex flex-col items-center justify-center z-10",children:s==="victory"?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"text-6xl font-bold text-yellow-400 mb-4",children:i.jsx("i",{className:"fa-solid fa-trophy"})}),i.jsx("h2",{className:"text-4xl font-bold text-green-500 mb-4",children:"胜利!"}),i.jsxs(i.Fragment,{children:[i.jsxs("p",{className:"text-xl text-white mb-8",children:["恭喜您成功通关关卡 ",c,"!"]}),c<3&&i.jsx("button",{onClick:()=>de(c+1),className:"bg-green-500 hover:bg-green-600 text-white font-bold py-3 px-8 rounded-lg transition-all duration-200 mb-4",children:"挑战下一关"}),c===8&&i.jsxs("div",{className:"mt-4 text-center",children:[i.jsx("div",{className:"text-yellow-400 text-3xl mb-2",children:"🏆"}),i.jsx("p",{className:"text-white font-bold",children:"恭喜您成为终极守护者！"})]})]})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"text-6xl font-bold text-red-400 mb-4",children:i.jsx("i",{className:"fa-solid fa-skull"})}),i.jsx("h2",{className:"text-4xl font-bold text-red-500 mb-4",children:"游戏结束"}),i.jsx("p",{className:"text-xl text-white mb-8",children:"僵尸入侵了您的家园!"})]})}),Qt=j.useCallback(()=>{try{const W=localStorage.getItem("pvzOnlineRooms");if(W)try{const ke=JSON.parse(W);if(Array.isArray(ke)){const ce=Date.now(),ve=ke.filter(He=>He&&typeof He.createdAt=="number"&&ce-He.createdAt<600*1e3);T(ve),localStorage.setItem("pvzOnlineRooms",JSON.stringify(ve))}else console.error("Invalid rooms data format, expected array"),T([]),localStorage.setItem("pvzOnlineRooms",JSON.stringify([]))}catch(ke){console.error("Failed to parse game rooms:",ke),T([]),localStorage.setItem("pvzOnlineRooms",JSON.stringify([]))}}catch(W){console.error("Error accessing localStorage for rooms:",W)}},[]),P=j.useCallback(W=>{const ke=localStorage.getItem("pvzOnlinePlayers"),ce=Date.now();let ve=[];if(ke)try{ve=JSON.parse(ke),ve=ve.filter(Lt=>Lt.name!==C)}catch(Lt){console.error("Failed to parse online players:",Lt)}const He=JSON.parse(localStorage.getItem("pvzPlayerData")||"{}");ve.push({name:C,status:W,lastActive:ce,wins:He.wins||0,level:He.level||1}),localStorage.setItem("pvzOnlinePlayers",JSON.stringify(ve))},[C]),X=j.useCallback(()=>{try{P("online");const W=localStorage.getItem("pvzOnlinePlayers"),ke=Date.now();if(W)try{const ce=JSON.parse(W);if(Array.isArray(ce)){const ve=ce.filter(He=>He&&He.name&&He.lastActive&&He.name!==C&&ke-He.lastActive<3e5);A(ve)}else console.error("Invalid players data format, expected array"),A([])}catch(ce){console.error("Failed to parse online players:",ce),A([])}}catch(W){console.error("Error accessing localStorage for players:",W)}},[C,P]),we=j.useCallback(()=>{if(!C.trim()){pt("请输入您的游戏昵称！");return}P("ingame");const W=Math.random().toString(36).substring(2,10).toUpperCase(),ke={id:W,host:C,players:[C],status:"waiting",createdAt:Date.now()},ce=[..._,ke];localStorage.setItem("pvzOnlineRooms",JSON.stringify(ce)),T(ce),U(W),se(W)},[C,_,P]),Re=j.useCallback(W=>{if(!C.trim()){pt("请输入您的游戏昵称！");return}P("ingame");const ke=_.map(ce=>ce.id===W&&ce.players.length<4?{...ce,players:[...ce.players,C]}:ce);localStorage.setItem("pvzOnlineRooms",JSON.stringify(ke)),T(ke),U(W),se(W)},[C,_,P]),_e=j.useCallback(W=>{if(!window.confirm("确定要取消这个房间吗？"))return;const ke=_.filter(ce=>ce.id!==W);localStorage.setItem("pvzOnlineRooms",JSON.stringify(ke)),T(ke),O===W&&(U(null),H(!1),C.trim()&&P("online")),pt(`房间 ${W} 已取消`)},[_,O,C,P]),se=j.useCallback(W=>{if(H(!0),je(!1),h(!1),G.current){G.current.startGame(1),o("playing"),b(q.initialSun);const ke=setInterval(()=>{console.log("同步游戏状态到房间",W)},2e3);return()=>clearInterval(ke)}},[]),Ye=j.useCallback(W=>{if(!O){pt("请先创建一个游戏房间！");return}pt(`${W} 收到了您的游戏邀请！`);const ke=JSON.parse(localStorage.getItem("pvzPlayerInvites")||"[]");ke.push({from:W,to:W,roomId:O,sentAt:Date.now()}),localStorage.setItem("pvzPlayerInvites",JSON.stringify(ke))},[O]),kt=j.useCallback(W=>{pt(`玩家信息: ${W.name}, 等级: ${W.level||1}, 胜利场数: ${W.wins||0}`)},[]),[Ve,sn]=j.useState(""),za=j.useCallback(()=>{const W=_.filter(ce=>{if(!Ve.trim())return!0;const ve=Ve.toLowerCase();return ce.id.toLowerCase().includes(ve)||ce.host.toLowerCase().includes(ve)}),ke=R.filter(ce=>{if(!Ve.trim())return!0;const ve=Ve.toLowerCase();return ce.name.toLowerCase().includes(ve)});return i.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-80 z-20 overflow-hidden",children:i.jsx("div",{className:"h-full overflow-y-auto scrollbar-thin scrollbar-thumb-gray-700 scrollbar-track-transparent scroll-smooth p-6",children:i.jsxs("div",{className:"min-h-full flex flex-col items-center justify-start pt-10",children:[i.jsxs("div",{className:"mb-10 text-center",children:[i.jsx("h2",{className:"text-4xl font-bold text-purple-500 mb-3 drop-shadow-lg",children:"联机游戏大厅"}),i.jsx("div",{className:"h-1 w-32 bg-gradient-to-r from-purple-400 to-purple-600 mx-auto rounded-full"})]}),i.jsxs("div",{className:"w-full max-w-md mb-6",children:[i.jsx("label",{className:"block text-white text-sm font-medium mb-2",children:"游戏昵称"}),i.jsxs("div",{className:"relative",children:[i.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3",children:i.jsx("i",{className:"fa-solid fa-user text-gray-400"})}),i.jsx("input",{type:"text",value:C,onChange:ce=>{const ve=ce.target.value;M(ve),localStorage.setItem("pvzPlayerName",ve),le&&ve.trim()&&P("online")},placeholder:"请输入您的游戏昵称",className:"w-full pl-10 pr-4 py-3 bg-gray-800 border border-gray-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200",maxLength:12}),C&&i.jsx("span",{className:"absolute inset-y-0 right-0 flex items-center pr-3 text-green-400",children:i.jsx("i",{className:"fa-solid fa-check-circle"})})]})]}),i.jsxs("div",{className:"w-full max-w-md mb-8",children:[i.jsx("label",{className:"block text-white text-sm font-medium mb-2",children:"搜索房间"}),i.jsxs("div",{className:"relative",children:[i.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3",children:i.jsx("i",{className:"fa-solid fa-search text-gray-400"})}),i.jsx("input",{type:"text",value:Ve,onChange:ce=>sn(ce.target.value),placeholder:"输入房间ID或房主名称搜索",className:"w-full pl-10 pr-4 py-3 bg-gray-800 border border-gray-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200"}),Ve&&i.jsx("button",{onClick:()=>sn(""),className:"absolute inset-y-0 right-0 flex items-center pr-3 text-gray-400 hover:text-white transition-colors duration-200",children:i.jsx("i",{className:"fa-solid fa-times-circle"})})]}),Ve&&i.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:["搜索结果: ",W.length," 个房间"]})]}),i.jsxs("button",{onClick:we,className:"w-full max-w-md bg-gradient-to-r from-purple-600 to-purple-800 hover:from-purple-700 hover:to-purple-900 text-white font-bold py-4 px-6 rounded-xl transition-all duration-300 mb-8 flex items-center justify-center text-lg shadow-lg hover:shadow-purple-500/30 active:scale-98",children:[i.jsx("i",{className:"fa-solid fa-plus-circle mr-2"})," 创建游戏房间"]}),i.jsx("div",{className:"w-full max-w-md mb-6 bg-gray-800 rounded-xl p-1",children:i.jsxs("div",{className:"flex",children:[i.jsxs("button",{onClick:()=>Te("rooms"),className:`flex-1 py-2 rounded-lg font-medium transition-all duration-200 ${Ae==="rooms"?"bg-purple-600 text-white":"text-gray-300 hover:bg-gray-700"}`,children:[i.jsx("i",{className:"fa-solid fa-door-open mr-2"})," 游戏房间"]}),i.jsxs("button",{onClick:()=>Te("players"),className:`flex-1 py-2 rounded-lg font-medium transition-all duration-200 ${Ae==="players"?"bg-blue-600 text-white":"text-gray-300 hover:bg-gray-700"}`,children:[i.jsx("i",{className:"fa-solid fa-users mr-2"})," 在线玩家"]})]})}),i.jsx("div",{className:"w-full max-w-2xl",children:Ae==="rooms"?i.jsxs(i.Fragment,{children:[i.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center",children:[i.jsx("i",{className:"fa-solid fa-door-open mr-2 text-purple-400"}),Ve?"搜索结果":`可加入的游戏房间 (${W.length})`]}),i.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[i.jsx("button",{onClick:()=>sn(""),className:`px-3 py-1 rounded-full text-sm ${Ve?"bg-gray-700 text-gray-300":"bg-purple-600 text-white"}`,children:"全部"}),i.jsxs("button",{onClick:()=>{Te("rooms");const ce=_.filter(ve=>ve.status==="waiting");ce.length>0?sn(ce[0].host):pt("当前没有等待中的房间，请创建一个新房间")},className:"px-3 py-1 rounded-full text-sm bg-gray-700 text-gray-300 hover:bg-gray-600 transition-colors duration-200",children:[i.jsx("i",{className:"fa-solid fa-clock mr-1"})," 快速加入"]})]}),W.length===0?i.jsxs("div",{className:"text-center py-10 text-gray-400",children:[i.jsx("div",{className:"text-4xl mb-3",children:"🔍"}),i.jsx("p",{children:Ve?"未找到匹配的房间":"暂无可用的游戏房间，请创建一个新房间"}),Ve&&i.jsx("button",{onClick:()=>sn(""),className:"mt-4 text-blue-400 hover:text-blue-300 transition-colors duration-200",children:"清除搜索条件"}),!Ve&&i.jsxs("button",{onClick:we,className:"mt-4 text-green-400 hover:text-green-300 transition-colors duration-200",children:[i.jsx("i",{className:"fa-solid fa-plus-circle mr-1"})," 立即创建房间"]})]}):i.jsx("div",{className:"space-y-4",children:W.map(ce=>i.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700 hover:border-purple-500 transition-all duration-200",children:[i.jsxs("div",{className:"flex justify-between items-center mb-3",children:[i.jsxs("div",{children:[i.jsxs("h4",{className:"text-lg font-bold text-white",children:["房间 ",ce.id]}),i.jsxs("p",{className:"text-sm text-gray-400",children:["房主: ",ce.host]})]}),i.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${ce.status==="waiting"?"bg-green-900/50 text-green-400":"bg-yellow-900/50 text-yellow-400"}`,children:ce.status==="waiting"?"等待中":"游戏中"})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{className:"flex -space-x-2",children:[ce.players.map((ve,He)=>i.jsx("div",{className:"w-8 h-8 rounded-full bg-purple-900 flex items-center justify-center text-xs border-2 border-gray-800",title:ve,children:ve.charAt(0).toUpperCase()},He)),ce.players.length<4&&i.jsxs("div",{className:"w-8 h-8 rounded-full bg-gray-700 flex items-center justify-center text-xs border-2 border-gray-800 text-gray-400",children:["+",4-ce.players.length]})]}),i.jsxs("div",{className:"flex gap-2",children:[ce.host===C&&i.jsxs("button",{onClick:()=>_e(ce.id),className:"px-3 py-2 rounded-lg transition-all duration-200 bg-red-600 hover:bg-red-700 text-white text-sm",children:[i.jsx("i",{className:"fa-solid fa-times mr-1"})," 取消房间"]}),i.jsx("button",{onClick:()=>Re(ce.id),disabled:ce.status==="playing"||ce.players.length>=4,className:`px-4 py-2 rounded-lg transition-all duration-200 ${ce.status==="playing"||ce.players.length>=4?"bg-gray-700 text-gray-400 cursor-not-allowed":"bg-purple-600 hover:bg-purple-700 text-white"}`,children:"加入房间"})]})]})]},ce.id))})]}):i.jsxs(i.Fragment,{children:[i.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center",children:[i.jsx("i",{className:"fa-solid fa-users mr-2 text-blue-400"}),Ve?"搜索结果":`在线玩家 (${ke.length})`]}),ke.length===0?i.jsxs("div",{className:"text-center py-10 text-gray-400",children:[i.jsx("div",{className:"text-4xl mb-3",children:"👥"}),i.jsx("p",{children:Ve?"未找到匹配的在线玩家":"当前没有其他在线玩家"}),Ve&&i.jsx("button",{onClick:()=>sn(""),className:"mt-4 text-blue-400 hover:text-blue-300 transition-colors duration-200",children:"清除搜索条件"})]}):i.jsx("div",{className:"space-y-4",children:ke.map((ce,ve)=>i.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700 hover:border-blue-500 transition-all duration-200",children:[i.jsxs("div",{className:"flex justify-between items-center mb-3",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center mr-3 ${ce.status==="online"?"bg-green-900 text-green-400":ce.status==="ingame"?"bg-yellow-900 text-yellow-400":"bg-gray-700 text-gray-400"}`,children:i.jsx("i",{className:"fa-solid fa-user"})}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-lg font-bold text-white",children:ce.name}),i.jsxs("p",{className:"text-sm text-gray-400",children:["等级: ",ce.level||1," | 胜利: ",ce.wins||0,"场"]})]})]}),i.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${ce.status==="online"?"bg-green-900/50 text-green-400":ce.status==="ingame"?"bg-yellow-900/50 text-yellow-400":"bg-gray-700 text-gray-400"}`,children:ce.status==="online"?"在线":ce.status==="ingame"?G.current&&G.current.currentLevel===9&&zt[G.current.currentLevel]&&zt[G.current.currentLevel].isEndless?"无尽模式":"游戏中":"离开"})]}),i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsxs("button",{onClick:()=>kt(ce),className:"px-3 py-2 rounded-lg transition-all duration-200 bg-gray-700 hover:bg-gray-600 text-white text-sm",children:[i.jsx("i",{className:"fa-solid fa-circle-info mr-1"})," 查看信息"]}),ce.status==="online"&&i.jsxs("button",{onClick:()=>Ye(ce.name),className:"px-3 py-2 rounded-lg transition-all duration-200 bg-blue-600 hover:bg-blue-700 text-white text-sm",children:[i.jsx("i",{className:"fa-solid fa-envelope mr-1"})," 发送邀请"]})]})]},ve))})]})}),i.jsxs("button",{onClick:()=>{Qt(),X()},className:"mt-6 bg-gray-800 hover:bg-gray-700 text-white font-medium py-2 px-4 rounded-lg transition-all duration-200 flex items-center",children:[i.jsx("i",{className:"fa-solid fa-arrows-rotate mr-2"})," 刷新列表"]}),i.jsxs("button",{onClick:()=>je(!1),className:"mt-8 text-gray-400 hover:text-white transition-colors duration-200",children:[i.jsx("i",{className:"fa-solid fa-arrow-left mr-1"})," 返回"]}),i.jsx("div",{className:"h-16"})]})})})},[C,_,we,Re,Qt,_e,Ve]);return j.useEffect(()=>{le&&C.trim()&&P("online"),Qt(),X();const W=setInterval(()=>{Qt(),X(),le&&C.trim()&&P("online")},5e3);return()=>{clearInterval(W),C.trim()&&P("away")}},[Qt,X,le,C,P]),i.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-green-900 via-gray-900 to-red-900 text-white flex flex-col items-center justify-start p-4 pt-8",children:[i.jsx(E.div,{className:"fixed bottom-6 right-6 z-30",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5,delay:1},children:i.jsx(Np,{})}),i.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-green-400 to-red-400 mb-6 md:mb-8 text-center drop-shadow-md max-w-4xl w-full opacity-90",children:"光明与暗影之战"}),i.jsxs("div",{className:"relative w-full max-w-5xl flex flex-col items-center mb-8 flex-grow",children:[i.jsx("div",{className:"mb-3 z-10 w-full opacity-85",children:ht()}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-green-900/20 via-black/50 to-red-900/20 pointer-events-none rounded-xl"}),i.jsx("div",{className:"absolute top-1/4 left-1/4 w-64 h-64 bg-green-500 rounded-full mix-blend-multiply filter blur-3xl opacity-5 animate-pulse"}),i.jsx("div",{className:"absolute bottom-1/3 right-1/4 w-64 h-64 bg-red-500 rounded-full mix-blend-multiply filter blur-3xl opacity-5 animate-pulse animation-delay-2000"}),i.jsx("canvas",{ref:t,className:"w-full h-auto rounded-xl shadow-[0_0_30px_rgba(34,139,34,0.25)] border-2 border-green-800/50 bg-black relative overflow-hidden",style:{minHeight:"400px",maxHeight:"600px",backgroundImage:"linear-gradient(to right bottom, rgba(34, 139, 34, 0.05), rgba(139, 0, 0, 0.05))"}}),s==="ready"&&i.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none bg-black/30 backdrop-blur-sm z-10",children:i.jsx(E.div,{animate:{scale:[1,1.2,1],rotate:[0,360]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},className:"text-green-400 text-6xl",children:i.jsx("i",{className:"fa-solid fa-seedling"})})}),i.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-20 bg-gradient-to-t from-black to-transparent pointer-events-none"}),i.jsx("div",{className:"absolute top-0 left-0 right-0 h-20 bg-gradient-to-b from-black to-transparent pointer-events-none"}),Fe(),We(),wn(),i.jsx("div",{className:"opacity-85",children:Ie()}),i.jsx("div",{className:"opacity-85",children:Le()})]}),i.jsxs("div",{className:"mt-4 mb-6 text-gray-400 text-center max-w-xl w-full",children:[i.jsxs("p",{className:"mb-3 leading-relaxed",children:[i.jsx("i",{className:"fa-solid fa-lightbulb mr-2 text-yellow-400"}),"玩法提示: 点击下方植物种植到网格中，收集阳光来种植更多植物，抵御僵尸进攻!"]}),i.jsxs("p",{className:"leading-relaxed",children:[i.jsx("i",{className:"fa-solid fa-shield-halved mr-2 text-blue-400"}),"每种植物都有独特的功能，合理搭配才能取得胜利!"]})]}),!f&&s!=="playing"&&i.jsx("div",{className:"mt-6 mb-12 w-full max-w-4xl",children:i.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"bg-gray-800 bg-opacity-80 backdrop-blur-sm rounded-xl p-6 border border-gray-700 shadow-xl",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-8",children:[i.jsxs("h2",{className:"text-2xl font-bold text-yellow-400 flex items-center mb-4 md:mb-0",children:[i.jsx("i",{className:"fa-solid fa-trophy mr-3 text-xl"}),"光明成就录"]}),i.jsx("div",{className:"bg-gray-900 rounded-lg p-4 border border-gray-700 w-full md:w-auto",children:i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between",children:[i.jsxs("div",{className:"mb-3 md:mb-0 mr-0 md:mr-6",children:[i.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"总完成度"}),i.jsxs("div",{className:"text-3xl font-bold text-yellow-400",children:[Math.round(Object.values(((mr=G.current)==null?void 0:mr.achievements)||{}).filter(W=>W).length/Object.keys(((Kr=G.current)==null?void 0:Kr.achievements)||{}).length*100),"%"]})]}),i.jsxs("div",{className:"w-full md:w-48",children:[i.jsxs("div",{className:"flex justify-between items-center mb-1",children:[i.jsx("span",{className:"text-sm text-gray-400",children:"已解锁成就"}),i.jsxs("span",{className:"text-sm text-white",children:[Object.values(((pr=G.current)==null?void 0:pr.achievements)||{}).filter(W=>W).length," / ",Object.keys(((jn=G.current)==null?void 0:jn.achievements)||{}).length]})]}),i.jsx("div",{className:"w-full bg-gray-700 rounded-full h-3",children:i.jsx(E.div,{initial:{width:0},animate:{width:`${Object.values(((Gr=G.current)==null?void 0:Gr.achievements)||{}).filter(W=>W).length/Object.keys(((In=G.current)==null?void 0:In.achievements)||{}).length*100}%`},transition:{duration:1,ease:"easeOut"},className:"bg-gradient-to-r from-yellow-600 to-yellow-400 h-3 rounded-full"})})]})]})})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5 mb-8",children:[i.jsxs(E.div,{whileHover:{scale:1.03,boxShadow:"0 10px 25px -5px rgba(255, 215, 0, 0.2)"},transition:{type:"spring",stiffness:300},className:`p-5 rounded-xl transition-all duration-300 ${(Rn=G.current)!=null&&Rn.achievements.light_awakening?"bg-gradient-to-br from-yellow-900/50 to-yellow-700/30 border border-yellow-600/50 shadow-lg shadow-yellow-900/20":"bg-gray-900 border border-gray-700 hover:border-gray-600"}`,children:[i.jsxs("div",{className:"flex justify-between items-start mb-4",children:[i.jsx(E.div,{animate:{rotate:(Ea=G.current)!=null&&Ea.achievements.light_awakening?[0,15,-15,15,0]:0},transition:{duration:(Xr=G.current)!=null&&Xr.achievements.light_awakening?.5:0},className:`w-12 h-12 rounded-full flex items-center justify-center ${(Zr=G.current)!=null&&Zr.achievements.light_awakening?"bg-yellow-500 text-black":"bg-gray-700 text-gray-400"}`,children:i.jsx("i",{className:"fa-solid fa-trophy text-xl"})}),i.jsx("div",{className:`text-sm font-medium px-2 py-1 rounded-full ${(Ma=G.current)!=null&&Ma.achievements.light_awakening?"bg-green-900/50 text-green-400":"bg-gray-700 text-gray-400"}`,children:(gr=G.current)!=null&&gr.achievements.light_awakening?"已解锁":"未解锁"})]}),i.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"光明的觉醒"}),i.jsx("p",{className:"text-gray-400 text-sm mb-3",children:"光明之力在你手中苏醒，成功抵御了暗影世界的首次入侵"}),i.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[i.jsx("span",{className:"text-xs bg-blue-900/30 text-blue-300 px-2 py-1 rounded-full",children:"核心成就"}),i.jsx("span",{className:"text-xs bg-green-900/30 text-green-300 px-2 py-1 rounded-full",children:"入门"})]}),((xr=G.current)==null?void 0:xr.achievements.light_awakening)&&i.jsxs("div",{className:"text-xs text-yellow-400/80",children:[i.jsx("i",{className:"fa-solid fa-calendar-check mr-1"}),"已解锁"]})]}),i.jsxs(E.div,{whileHover:{scale:1.03,boxShadow:"0 10px 25px -5px rgba(255, 215, 0, 0.2)"},transition:{type:"spring",stiffness:300},className:`p-5 rounded-xl transition-all duration-300 ${(yr=G.current)!=null&&yr.achievements.sun_avatar?"bg-gradient-to-br from-yellow-900/50 to-yellow-700/30 border border-yellow-600/50 shadow-lg shadow-yellow-900/20":"bg-gray-900 border border-gray-700 hover:border-gray-600"}`,children:[i.jsxs("div",{className:"flex justify-between items-start mb-4",children:[i.jsx(E.div,{animate:{boxShadow:(V=G.current)!=null&&V.achievements.sun_avatar?["0 0 0px rgba(255, 215, 0, 0)","0 0 20px rgba(255, 215, 0, 0.7)","0 0 0px rgba(255, 215, 0, 0)"]:"none"},transition:{duration:(te=G.current)!=null&&te.achievements.sun_avatar?2:0,repeat:1/0},className:`w-12 h-12 rounded-full flex items-center justify-center ${(ue=G.current)!=null&&ue.achievements.sun_avatar?"bg-yellow-500 text-black":"bg-gray-700 text-gray-400"}`,children:i.jsx("i",{className:"fa-solid fa-sun text-xl"})}),i.jsx("div",{className:`text-sm font-medium px-2 py-1 rounded-full ${(J=G.current)!=null&&J.achievements.sun_avatar?"bg-green-900/50 text-green-400":"bg-gray-700 text-gray-400"}`,children:(fe=G.current)!=null&&fe.achievements.sun_avatar?"已解锁":"未解锁"})]}),i.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"太阳使者"}),i.jsx("p",{className:"text-gray-400 text-sm mb-2",children:"你已成为太阳之力的化身，掌控了1000点纯净的生命能量"}),i.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2 mb-2",children:i.jsx("div",{className:`h-2 rounded-full transition-all duration-1000 ${(oe=G.current)!=null&&oe.achievements.sun_avatar?"bg-yellow-500":"bg-yellow-700"}`,style:{width:G.current?`${Math.min((G.current.totalSunsCollected||0)/1e3*100,100)}%`:"0%"}})}),i.jsxs("div",{className:"text-xs text-gray-500 mb-3",children:[((be=G.current)==null?void 0:be.totalSunsCollected)||0,"/1000"]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx("span",{className:"text-xs bg-yellow-900/30 text-yellow-300 px-2 py-1 rounded-full",children:"核心成就"}),i.jsx("span",{className:"text-xs bg-orange-900/30 text-orange-300 px-2 py-1 rounded-full",children:"进阶"})]})]}),i.jsxs(E.div,{whileHover:{scale:1.03,boxShadow:"0 10px 25px -5px rgba(255, 215, 0, 0.2)"},transition:{type:"spring",stiffness:300},className:`p-5 rounded-xl transition-all duration-300 ${(Xe=G.current)!=null&&Xe.achievements.shadow_hunter?"bg-gradient-to-br from-yellow-900/50 to-yellow-700/30 border border-yellow-600/50 shadow-lg shadow-yellow-900/20":"bg-gray-900 border border-gray-700 hover:border-gray-600"}`,children:[i.jsxs("div",{className:"flex justify-between items-start mb-4",children:[i.jsx(E.div,{animate:{opacity:(on=G.current)!=null&&on.achievements.shadow_hunter?[1,.7,1]:1},transition:{duration:(ln=G.current)!=null&&ln.achievements.shadow_hunter?1:0,repeat:1/0},className:`w-12 h-12 rounded-full flex items-center justify-center ${(Ze=G.current)!=null&&Ze.achievements.shadow_hunter?"bg-yellow-500 text-black":"bg-gray-700 text-gray-400"}`,children:i.jsx("i",{className:"fa-solid fa-skull text-xl"})}),i.jsx("div",{className:`text-sm font-medium px-2 py-1 rounded-full ${(cn=G.current)!=null&&cn.achievements.shadow_hunter?"bg-green-900/50 text-green-400":"bg-gray-700 text-gray-400"}`,children:(Xn=G.current)!=null&&Xn.achievements.shadow_hunter?"已解锁":"未解锁"})]}),i.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"暗影猎手"}),i.jsx("p",{className:"text-gray-400 text-sm mb-2",children:"你已成为令暗影世界胆寒的猎手，成功净化了100个被暗影侵蚀的生命"}),i.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2 mb-2",children:i.jsx("div",{className:`h-2 rounded-full transition-all duration-1000 ${(Nn=G.current)!=null&&Nn.achievements.shadow_hunter?"bg-red-500":"bg-red-700"}`,style:{width:G.current?`${Math.min((G.current.totalZombiesKilled||0)/100*100,100)}%`:"0%"}})}),i.jsxs("div",{className:"text-xs text-gray-500 mb-3",children:[((ki=G.current)==null?void 0:ki.totalZombiesKilled)||0,"/100"]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx("span",{className:"text-xs bg-red-900/30 text-red-300 px-2 py-1 rounded-full",children:"核心成就"}),i.jsx("span",{className:"text-xs bg-orange-900/30 text-orange-300 px-2 py-1 rounded-full",children:"进阶"})]})]}),i.jsxs(E.div,{whileHover:{scale:1.03,boxShadow:"0 10px 25px -5px rgba(255, 215, 0, 0.2)"},transition:{type:"spring",stiffness:300},className:`p-5 rounded-xl transition-all duration-300 ${(Zn=G.current)!=null&&Zn.achievements.unbreakable_light?"bg-gradient-to-br from-yellow-900/50 to-yellow-700/30 border border-yellow-600/50 shadow-lg shadow-yellow-900/20":"bg-gray-900 border border-gray-700 hover:border-gray-600"}`,children:[i.jsxs("div",{className:"flex justify-between items-start mb-4",children:[i.jsx(E.div,{animate:{boxShadow:(Qr=G.current)!=null&&Qr.achievements.unbreakable_light?["0 0 0px rgba(0, 255, 0, 0)","0 0 20px rgba(0, 255, 0, 0.7)","0 0 0px rgba(0, 255, 0, 0)"]:"none"},transition:{duration:(Jr=G.current)!=null&&Jr.achievements.unbreakable_light?2:0,repeat:1/0},className:`w-12 h-12 rounded-full flex items-center justify-center ${(Aa=G.current)!=null&&Aa.achievements.unbreakable_light?"bg-yellow-500 text-black":"bg-gray-700 text-gray-400"}`,children:i.jsx("i",{className:"fa-solid fa-shield-halved text-xl"})}),i.jsx("div",{className:`text-sm font-medium px-2 py-1 rounded-full ${(Gs=G.current)!=null&&Gs.achievements.unbreakable_light?"bg-green-900/50 text-green-400":"bg-gray-700 text-gray-400"}`,children:(Xs=G.current)!=null&&Xs.achievements.unbreakable_light?"已解锁":"未解锁"})]}),i.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"不可逾越的光明"}),i.jsx("p",{className:"text-gray-400 text-sm mb-3",children:"你的光明防线坚不可摧，在没有损失任何守护者的情况下彻底净化了暗影大军"}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx("span",{className:"text-xs bg-purple-900/30 text-purple-300 px-2 py-1 rounded-full",children:"核心成就"}),i.jsx("span",{className:"text-xs bg-red-900/30 text-red-300 px-2 py-1 rounded-full",children:"困难"})]}),((Zs=G.current)==null?void 0:Zs.achievements.unbreakable_light)&&i.jsxs("div",{className:"text-xs text-yellow-400/80 mt-2",children:[i.jsx("i",{className:"fa-solid fa-calendar-check mr-1"}),"已解锁"]})]}),i.jsxs(E.div,{whileHover:{scale:1.03,boxShadow:"0 10px 25px -5px rgba(255, 215, 0, 0.2)"},transition:{type:"spring",stiffness:300},className:`p-5 rounded-xl transition-all duration-300 ${(Dn=G.current)!=null&&Dn.achievements.light_descend?"bg-gradient-to-br from-purple-900/50 to-purple-700/30 border border-purple-600/50 shadow-lg shadow-purple-900/20":"bg-gray-900 border border-gray-700 hover:border-gray-600"}`,children:[i.jsxs("div",{className:"flex justify-between items-start mb-4",children:[i.jsx(E.div,{animate:{boxShadow:(_i=G.current)!=null&&_i.achievements.light_descend?["0 0 0px rgba(128, 0, 128, 0)","0 0 20px rgba(128, 0, 128, 0.7)","0 0 0px rgba(128, 0, 128, 0)"]:"none"},transition:{duration:(Ci=G.current)!=null&&Ci.achievements.light_descend?2:0,repeat:1/0},className:`w-12 h-12 rounded-full flex items-center justify-center ${(Qs=G.current)!=null&&Qs.achievements.light_descend?"bg-purple-500 text-white":"bg-gray-700 text-gray-400"}`,children:i.jsx("i",{className:"fa-solid fa-angel text-xl"})}),i.jsx("div",{className:`text-sm font-medium px-2 py-1 rounded-full ${(Ti=G.current)!=null&&Ti.achievements.light_descend?"bg-green-900/50 text-green-400":"bg-gray-700 text-gray-400"}`,children:(zi=G.current)!=null&&zi.achievements.light_descend?"已解锁":"未解锁"})]}),i.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"光明的降临"}),i.jsx("p",{className:"text-gray-400 text-sm mb-3",children:"传说中的守护者清鸢响应了你的召唤，与你并肩作战，共同对抗暗影"}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx("span",{className:"text-xs bg-purple-900/30 text-purple-300 px-2 py-1 rounded-full",children:"角色成就"}),i.jsx("span",{className:"text-xs bg-orange-900/30 text-orange-300 px-2 py-1 rounded-full",children:"传说"})]}),((Pi=G.current)==null?void 0:Pi.achievements.light_descend)&&i.jsxs("div",{className:"text-xs text-yellow-400/80 mt-2",children:[i.jsx("i",{className:"fa-solid fa-calendar-check mr-1"}),"已解锁"]})]}),i.jsxs(E.div,{whileHover:{scale:1.03,boxShadow:"0 10px 25px -5px rgba(255, 215, 0, 0.2)"},transition:{type:"spring",stiffness:300},className:`p-5 rounded-xl transition-all duration-300 ${(Ei=G.current)!=null&&Ei.achievements.shancat_redemption?"bg-gradient-to-br from-blue-900/50 to-blue-700/30 border border-blue-600/50 shadow-lg shadow-blue-900/20":"bg-gray-900 border border-gray-700 hover:border-gray-600"}`,children:[i.jsxs("div",{className:"flex justify-between items-start mb-4",children:[i.jsx(E.div,{animate:{rotate:(Js=G.current)!=null&&Js.achievements.shancat_redemption?[0,10,-10,10,0]:0},transition:{duration:(eo=G.current)!=null&&eo.achievements.shancat_redemption?.5:0},className:`w-12 h-12 rounded-full flex items-center justify-center ${(nt=G.current)!=null&&nt.achievements.shancat_redemption?"bg-blue-500 text-white":"bg-gray-700 text-gray-400"}`,children:i.jsx("i",{className:"fa-solid fa-cat text-xl"})}),i.jsx("div",{className:`text-sm font-medium px-2 py-1 rounded-full ${(to=G.current)!=null&&to.achievements.shancat_redemption?"bg-green-900/50 text-green-400":"bg-gray-700 text-gray-400"}`,children:(Ia=G.current)!=null&&Ia.achievements.shancat_redemption?"已解锁":"未解锁"})]}),i.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"善•猫的救赎"}),i.jsx("p",{className:"text-gray-400 text-sm mb-3",children:"你见证了善•猫教主的救赎之路，曾经的暗影使者如今成为了光明的守护者"}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx("span",{className:"text-xs bg-blue-900/30 text-blue-300 px-2 py-1 rounded-full",children:"角色成就"}),i.jsx("span",{className:"text-xs bg-orange-900/30 text-orange-300 px-2 py-1 rounded-full",children:"史诗"})]}),((Mi=G.current)==null?void 0:Mi.achievements.shancat_redemption)&&i.jsxs("div",{className:"text-xs text-yellow-400/80 mt-2",children:[i.jsx("i",{className:"fa-solid fa-calendar-check mr-1"}),"已解锁"]})]}),i.jsxs(E.div,{whileHover:{scale:1.03,boxShadow:"0 10px 25px -5px rgba(255, 215, 0, 0.2)"},transition:{type:"spring",stiffness:300},className:`p-5 rounded-xl transition-all duration-300 ${(ea=G.current)!=null&&ea.achievements.su_huai_fall?"bg-gradient-to-br from-red-900/50 to-red-700/30 border border-red-600/50 shadow-lg shadow-red-900/20":"bg-gray-900 border border-gray-700 hover:border-gray-600"}`,children:[i.jsxs("div",{className:"flex justify-between items-start mb-4",children:[i.jsx(E.div,{animate:{boxShadow:(no=G.current)!=null&&no.achievements.su_huai_fall?["0 0 0px rgba(255, 0, 0, 0)","0 0 20px rgba(255, 0, 0, 0.7)","0 0 0px rgba(255, 0, 0, 0)"]:"none"},transition:{duration:(Ai=G.current)!=null&&Ai.achievements.su_huai_fall?2:0,repeat:1/0},className:`w-12 h-12 rounded-full flex items-center justify-center ${(ta=G.current)!=null&&ta.achievements.su_huai_fall?"bg-red-500 text-white":"bg-gray-700 text-gray-400"}`,children:i.jsx("i",{className:"fa-solid fa-ghost text-xl"})}),i.jsx("div",{className:`text-sm font-medium px-2 py-1 rounded-full ${(Jt=G.current)!=null&&Jt.achievements.su_huai_fall?"bg-green-900/50 text-green-400":"bg-gray-700 text-gray-400"}`,children:(ro=G.current)!=null&&ro.achievements.su_huai_fall?"已解锁":"未解锁"})]}),i.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"宿槐的陨落"}),i.jsx("p",{className:"text-gray-400 text-sm mb-3",children:"你多次击败了暗影女王宿槐，证明了光明终将战胜黑暗"}),i.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2 mb-2",children:i.jsx("div",{className:`h-2 rounded-full transition-all duration-1000 ${(qt=G.current)!=null&&qt.achievements.su_huai_fall?"bg-red-500":"bg-red-700"}`,style:{width:G.current?`${Math.min((G.current.totalZombiesKilled||0)/10*100,100)}%`:"0%"}})}),i.jsxs("div",{className:"text-xs text-gray-500 mb-3",children:[((ao=G.current)==null?void 0:ao.totalZombiesKilled)||0,"/10"]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx("span",{className:"text-xs bg-red-900/30 text-red-300 px-2 py-1 rounded-full",children:"角色成就"}),i.jsx("span",{className:"text-xs bg-red-900/30 text-red-300 px-2 py-1 rounded-full",children:"极难"})]})]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between gap-4",children:[i.jsxs(E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-lg transition-all duration-300 flex items-center justify-center shadow-lg hover:shadow-blue-500/30",onClick:()=>pt("成就分享功能即将上线！"),children:[i.jsx("i",{className:"fa-solid fa-share-nodes mr-2"})," 分享成就"]}),i.jsxs(E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:ze,className:"bg-gray-700 hover:bg-gray-600 text-white font-bold py-3 px-6 rounded-lg transition-all duration-300 flex items-center justify-center shadow-lg hover:shadow-gray-500/30",children:[i.jsx("i",{className:"fa-solid fa-arrow-left mr-2"})," 返回选关界面"]})]})]})}),le&&za(),$e&&i.jsx(f3,{level:c,onConfirm:ie,onCancel:()=>{De(!1),h(!0)},isHighIntensity:((io=zt[c])==null?void 0:io.isHighIntensityCustom)||!1}),S&&i.jsx(p3,{onConfirm:W=>{if(N(!1),G.current)try{G.current.selectedZombies=W,G.current.startGame(c),o("playing"),b(q.initialSun)}catch(ke){console.error("游戏启动失败:",ke),pt("游戏启动失败，请刷新页面重试"),N(!0)}else console.error("游戏引擎未初始化"),pt("游戏引擎初始化失败，请刷新页面重试"),N(!0)},onCancel:()=>{N(!1),De(!0)},isHighIntensity:((so=zt[c])==null?void 0:so.isHighIntensityCustom)||!1}),i.jsx(S3,{gameState:{currentWave:((na=G.current)==null?void 0:na.currentWave)||0,totalWaves:((ra=G.current)==null?void 0:ra.totalWaves)||0,gameStatus:s,selectedLevel:c,totalZombiesKilled:((br=G.current)==null?void 0:br.totalZombiesKilled)||0,plants:((aa=G.current)==null?void 0:aa.plants)||[],sunCount:y}})]});function Pa(W,ke){return{qingyuan:"全能型终极植物，多技能集一身",shancatleader:"可移动的植物，对猫教主造成额外伤害",xuqinglan:"成长型魔法少女，拥有三级进化阶段",yijiu:"呆萌可爱，使敌人攻击减半",xuqinglan_god:"神秘的终极形态，拥有超越常规的能力",xuqinglan_dream:"命运之子的未知形态，拥有能看清历史发展的神秘能力",mumu:"冰属性法师，减速控制，护盾保护"}[W]||ke.substring(0,15)+"..."}}function z3(){var wn,Qt;const e=Kn(),[n,t]=j.useState("plants"),[s,o]=j.useState("全部"),[c,u]=j.useState(""),[f,h]=j.useState(null),[m,p]=j.useState(!1),[y,b]=j.useState(!1),[v,k]=j.useState(!1),[S,N]=j.useState("type"),[C,M]=j.useState(!1),[_,T]=j.useState(Ge),[R,A]=j.useState(wt);j.useEffect(()=>{try{const P=localStorage.getItem("pvzPlants"),X=localStorage.getItem("pvzZombies");P&&T(JSON.parse(P)),X&&A(JSON.parse(X)),M(!0)}catch(P){console.error("加载本地数据失败，使用默认数据:",P),M(!0)}},[]),j.useEffect(()=>{if(C)try{localStorage.setItem("pvzPlants",JSON.stringify(_)),localStorage.setItem("pvzZombies",JSON.stringify(R))}catch(P){console.error("保存游戏数据失败:",P)}},[C,_,R]),j.useEffect(()=>{const P=setInterval(()=>{if(C)try{localStorage.setItem("pvzPlants",JSON.stringify(_)),localStorage.setItem("pvzZombies",JSON.stringify(R)),console.log("图鉴数据已自动保存")}catch(X){console.error("自动保存失败:",X)}},3e4);return()=>clearInterval(P)},[C,_,R]);const O=["全部","光明守护者","光明使者","防御型植物"],U=["全部","BOSS级僵尸","终极BOSS级僵尸"],ae=["全部","人类世界","光明大陆","暗影大陆","时空城","冥界","洪荒","命运神殿","未知"],H=()=>({plants:{...Ge,..._},zombies:{...wt,...R}}),le=P=>P?P.name.includes("徐清岚")&&!P.name.includes("（神）")&&!P.name.includes("（梦）")||P.name==="屹九"||P.name.includes("Vexithra")||P.name==="羽尘"?"人类世界":P.name==="清鸢"||P.name==="善•猫教主"||P.name==="青玄"||P.name==="奈奈生"||P.name==="晓月"?"光明大陆":P.name==="慕容言风"||P.name==="沐沐"?"暗影大陆":P.name==="冥界三使"||P.name==="筱燊傀"?"冥界":P.name==="凌"||P.name==="星褶"||P.name==="灵•瑶凝"||P.name==="离火双生•长离"||P.name==="镜花水月·灵汐"||P.name==="苍玄"||P.name==="青芜"||P.name==="双生花仙•灵汐"||P.name==="凝霜"||P.name==="玄霜"||P.name==="灵汐与赤瞳"||P.name==="星轨三司"?"洪荒":P.name==="云璃•时光裁决者"?"命运神殿":P.name==="灵汐"?"时空城":"未知":"未知",je=(P,X)=>P==="xuqinglan_dark"||P==="vexithra"||P==="xian"?"人类世界":P==="su_huai"||P==="cat_leader"||P==="ji_zai"||P==="li_huo"||P==="xia"||P==="alibi"||P==="qiuyue"?"暗影大陆":P==="shantao"||P==="shilie_lingxi"?"时空城":P==="longzunjiyan"||P==="xingtianzhenyang"||P==="xuanye"?"洪荒":"未知",Ae=Object.values(H().plants).filter(P=>{if(!P)return!1;const X=P.name.toLowerCase().includes(c.toLowerCase())||P.description&&P.description.toLowerCase().includes(c.toLowerCase());return S==="type"?(s==="全部"||P.category===s)&&X:(s==="全部"||le(P)===s)&&X}),Te=Object.entries(H().zombies).filter(([P,X])=>{if(!X)return!1;const we=X.name.toLowerCase().includes(c.toLowerCase())||X.description&&X.description.toLowerCase().includes(c.toLowerCase());return S==="type"?s==="全部"?we:s==="BOSS级僵尸"||s==="终极BOSS级僵尸"?["su_huai","vexithra","xuqinglan_dark","qiuyue","shantao","ji_zai","li_huo","cat_leader","alibi","xian","xia"].includes(P)&&we:X.difficulty===s&&we:(s==="全部"||je(P)===s)&&we}).map(([P,X])=>X),$e=P=>{switch(P){case"普通":return"bg-green-500";case"稀有":return"bg-blue-500";case"史诗":return"bg-purple-500";case"传说":return"bg-orange-500";case"神秘":return"bg-gradient-to-r from-cyan-500 to-blue-500";case"古神":return"bg-gradient-to-r from-blue-700 to-indigo-800";default:return"bg-gray-500"}},De=P=>{switch(P){case"普通":return"from-green-900/50 to-green-800/20";case"稀有":return"from-blue-900/50 to-blue-800/20";case"史诗":return"from-purple-900/50 to-purple-800/20";case"传说":return"from-orange-900/50 to-orange-800/20";case"神秘":return"from-cyan-900/50 to-blue-800/20";case"古神":return"from-blue-900/50 to-indigo-800/20";default:return"from-gray-900/50 to-gray-800/20"}},xe=P=>{switch(P){case"简单":return"bg-green-500";case"中等":return"bg-yellow-500";case"较难":return"bg-orange-500";case"极难":return"bg-red-500";default:return"bg-gray-500"}},Y=P=>{const X=H();n==="plants"?X.plants[P]:X.zombies[P],h(P),p(!0),window.scrollTo({top:0,behavior:"smooth"})},de=()=>{p(!1),h(null)},ie=P=>P&&P<=3,L={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.05,delayChildren:.1}}},K={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:100}}},ze=()=>{b(!0),document.body.classList.add("overflow-hidden")},Pe=()=>{b(!1),document.body.classList.remove("overflow-hidden")};j.useEffect(()=>{const P=X=>{X.key==="Escape"&&(m?de():y&&Pe())};return window.addEventListener("keydown",P),()=>window.removeEventListener("keydown",P)},[m,y]);const Me=()=>ot.length>0?ot[0]:null,Ie=P=>{const X=new Date(P),Re=Math.abs(new Date().getTime()-X.getTime()),_e=Math.floor(Re/(1e3*60*60*24));return _e===0?"今天":_e===1?"昨天":_e<7?`${_e}天前`:X.toLocaleDateString("zh-CN")},Fe=()=>({version:`v${ot.length}.0`,lastUpdated:Me()?Ie(Me().date):"未知",updateCount:ot.length}),Le=(P,X,we)=>{const Re=we?H().plants[X]:H().zombies[X];if(!Re)return{item:{name:"未知角色",description:"数据加载失败",rarity:"普通"},itemType:X,config:null,isPlant:we,categoryTag:we?"特殊类":"BOSS级僵尸",uniqueKey:`${we?"plant":"zombie"}_unknown_${X}`};let _e="";if(we){const se=Re;se.damage!==void 0?_e="攻击类":se.health>=1e3||se.category&&se.category.includes("防御")?_e="防御类":se.category&&se.category.includes("资源")||se.specialEffect&&se.specialEffect.includes("阳光")||se.name.includes("阳光")?_e="资源类":se.specialEffect&&(se.specialEffect.includes("减速")||se.specialEffect.includes("定住"))||se.category&&se.category.includes("控制")?_e="控制类":_e="特殊类"}else _e="BOSS级僵尸";return{item:P,itemType:X,config:Re,isPlant:we,categoryTag:_e,uniqueKey:`${we?"plant":"zombie"}_${P.name||"unknown"}_${X}`}},We=()=>{if(window.confirm("确定要恢复默认数据吗？这将清除所有本地修改。"))try{T(Ge),A(wt),localStorage.setItem("pvzPlants",JSON.stringify(Ge)),localStorage.setItem("pvzZombies",JSON.stringify(wt)),console.log("数据已恢复为默认值")}catch(P){console.error("恢复数据失败:",P)}},ht=j.useMemo(()=>{const P=[];return Array.isArray(Ae)&&Ae.forEach(X=>{if(!X)return;const we=Object.keys(H().plants).find(Re=>{const _e=H().plants[Re];return _e?X.name.includes("Vexithra")&&_e.name.includes("Vexithra")?!0:_e.name===X.name:!1});if(we){const Re=Le(X,we,!0);P.push(Re)}}),Array.isArray(Te)&&Te.forEach(X=>{if(!X)return;const we=Object.keys(H().zombies).find(Re=>{const _e=H().zombies[Re];return _e?_e.name===X.name:!1});if(we){const Re=Le(X,we,!1);P.push(Re)}}),Array.isArray(P)?P.map(({item:X,itemType:we,config:Re,isPlant:_e,categoryTag:se,uniqueKey:Ye})=>{if(!X||!Re)return null;const kt=Ve=>{Ve.preventDefault(),Ve.stopPropagation(),Y(we)};return i.jsxs(E.div,{variants:K,whileHover:{scale:1.03,boxShadow:`0 20px 25px -5px ${_e?"rgba(34, 139, 34, 0.3)":"rgba(220, 20, 60, 0.3)"}`,zIndex:10},whileTap:{scale:.98},className:`bg-gradient-to-br ${_e?De(X.rarity):"from-red-900/50 to-red-800/20"} rounded-xl overflow-hidden shadow-lg border border-gray-700 flex flex-col h-full transition-all duration-300 cursor-pointer hover:cursor-pointer`,layoutId:`item-card-${Ye}`,onClick:kt,children:[i.jsxs("div",{className:"h-48 overflow-hidden relative",children:[i.jsx(E.img,{src:_e?Vr[we]:Br[we],alt:X.name,className:"w-full h-full object-cover object-center",loading:"lazy",whileHover:{scale:1.1},transition:{duration:.7}}),_e?i.jsx("div",{className:`absolute top-3 right-3 text-xs font-bold px-2 py-1 rounded-full ${$e(X.rarity)} shadow-md`,children:X.rarity}):i.jsx("div",{className:`absolute top-3 right-3 text-xs font-bold px-2 py-1 rounded-full ${xe(X.difficulty)} shadow-md`,children:X.difficulty}),i.jsx("div",{className:"absolute top-3 left-3 text-xs font-bold px-2 py-1 rounded-full bg-blue-600 text-white shadow-md",children:se}),i.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-24 bg-gradient-to-t from-gray-900 to-transparent"})]}),i.jsxs("div",{className:"p-5 flex-grow flex flex-col",children:[X.quote&&i.jsxs(E.div,{className:"mb-3 p-3 bg-gray-800/50 rounded-lg border border-gray-700 italic text-gray-300 text-sm relative overflow-hidden",initial:{opacity:0,y:10},whileInView:{opacity:1,y:0},transition:{duration:.5},children:[i.jsx("div",{className:"absolute top-0 left-0 w-8 h-8 text-3xl text-gray-700 opacity-30",children:'"'}),i.jsx("div",{className:"relative z-10 pl-4",children:X.quote}),i.jsx("div",{className:"absolute bottom-0 right-0 w-8 h-8 text-3xl text-gray-700 opacity-30",children:'"'})]}),_e?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex justify-between items-center mb-3",children:[i.jsx("h3",{className:"text-xl font-bold text-green-400",children:X.name}),i.jsxs("span",{className:"bg-yellow-500 text-black font-bold px-3 py-1 rounded-full flex items-center",children:[i.jsx("i",{className:"fa-solid fa-sun mr-1"})," ",X.cost]})]}),i.jsx("p",{className:"text-gray-300 mb-4 line-clamp-2 flex-grow",children:X.description}),i.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[i.jsxs("div",{className:"bg-gray-800/80 p-2 rounded-lg",children:[i.jsx("span",{className:"text-gray-400 block",children:"生命值"}),i.jsx("span",{className:"font-bold text-white",children:X.health})]}),i.jsxs("div",{className:"bg-gray-800/80 p-2 rounded-lg",children:[i.jsx("span",{className:"text-gray-400 block",children:"冷却时间"}),i.jsxs("span",{className:"font-bold text-white",children:[X.cooldown/1e3,"秒"]})]}),X.damage&&i.jsxs("div",{className:"bg-gray-800/80 p-2 rounded-lg",children:[i.jsx("span",{className:"text-gray-400 block",children:"攻击力"}),i.jsx("span",{className:"font-bold text-white",children:X.damage})]}),X.attackSpeed&&i.jsxs("div",{className:"bg-gray-800/80 p-2 rounded-lg",children:[i.jsx("span",{className:"text-gray-400 block",children:"攻击速度"}),i.jsxs("span",{className:"font-bold text-white",children:[X.attackSpeed/1e3,"秒/次"]})]})]})]}):i.jsxs(i.Fragment,{children:[i.jsx("h3",{className:"text-xl font-bold text-red-400 mb-3",children:X.name}),i.jsx("p",{className:"text-gray-300 mb-4 line-clamp-2 flex-grow",children:X.description}),i.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[i.jsxs("div",{className:"bg-gray-800/80 p-2 rounded-lg",children:[i.jsx("span",{className:"text-gray-400 block",children:"生命值"}),i.jsx("span",{className:"font-bold text-white",children:X.health})]}),i.jsxs("div",{className:"bg-gray-800/80 p-2 rounded-lg",children:[i.jsx("span",{className:"text-gray-400 block",children:"移动速度"}),i.jsx("span",{className:"font-bold text-white",children:typeof X.speed=="number"?X.speed.toFixed(1):"未知"})]}),i.jsxs("div",{className:"bg-gray-800/80 p-2 rounded-lg",children:[i.jsx("span",{className:"text-gray-400 block",children:"攻击力"}),i.jsx("span",{className:"font-bold text-white",children:X.damage})]}),X.armor&&i.jsxs("div",{className:"bg-gray-800/80 p-2 rounded-lg",children:[i.jsx("span",{className:"text-gray-400 block",children:"护甲值"}),i.jsx("span",{className:"font-bold text-white",children:X.armor})]})]})]}),i.jsxs("button",{onClick:Ve=>{Ve.stopPropagation(),Y(we)},className:`mt-4 w-full bg-gradient-to-r ${_e?"from-green-600 to-green-500 hover:from-green-700 hover:to-green-600":"from-red-600 to-red-500 hover:from-red-700 hover:to-red-600"} text-white font-medium py-2 rounded-lg transition-all duration-300 flex items-center justify-center`,children:[i.jsx("i",{className:"fa-solid fa-info-circle mr-2"}),"查看详情"]})]})]},Ye)}):null},[Ae,Te,H,Le,$e,xe,De,K,Vr,Br,Y]);return i.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-green-900 via-gray-900 to-red-900 text-white p-4 md:p-8",children:[i.jsxs("div",{className:"relative overflow-hidden mb-8",children:[i.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},className:"bg-gradient-to-r from-green-900/80 via-black/50 to-red-900/80 backdrop-blur-sm p-6 rounded-xl shadow-2xl border border-gray-700 mb-8 overflow-hidden relative",children:[i.jsx("h2",{className:"text-2xl font-bold text-center mb-4 text-transparent bg-clip-text bg-gradient-to-r from-green-400 to-red-400",children:"光明与暗影的永恒之战"}),i.jsxs("div",{className:`relative transition-all duration-500 overflow-hidden ${v?"max-h-[2000px]":"max-h-36"}`,children:[i.jsx("p",{className:"text-gray-300 leading-relaxed",children:'在遥远的时空之外，存在着两个相生相克的神秘维度：光明大陆与暗影世界。光明大陆沐浴在永恒的阳光下，万物生机盎然，由精灵和植物共同守护；而暗影世界则沉浸在永恒的黑暗中，充满了未知的危险与神秘的力量。两个世界曾通过一道名为"星界之门"的神秘通道保持着微妙的平衡，彼此互不干扰。'}),i.jsx("p",{className:"text-gray-300 leading-relaxed mt-3",children:"在这两个世界之间的混沌中，诞生了两位同源一体的守护者——清鸢与宿槐。她们本是同一存在的两面，清鸢代表着光明与生命，宿槐代表着停滞与永恒。在漫长的岁月里，她们共同守护着光明大陆的和平与繁荣，让这片土地上的生灵们过着幸福快乐的生活。"}),i.jsx("p",{className:"text-gray-300 leading-relaxed mt-3",children:'然而，随着时间的推移，清鸢与宿槐对生命本质的理解产生了根本性分歧。在一次对峙中，宿槐说出了她内心的真实想法："生命，只有在停滞不前的时间中，才能实现永恒的幸福。我，宿槐，将停止所有生命的时间。将一切生命转化为静止状态，实现永远的和平与安定。"'}),i.jsx("p",{className:"text-gray-300 leading-relaxed mt-3",children:`清鸢对此坚决反对："你错了，宿槐！正因为时间流逝，生命才有喜怒哀乐，才能诞生出珍贵的事物和回忆！将这一切都停止，根本不是和平，那只是单纯的'停滞'！"`}),i.jsx("p",{className:"text-gray-300 leading-relaxed mt-3",children:`宿槐却固执己见："吾之名为——宿槐！生命，因不断争斗、彼此伤害、心生怨恨，所以才会产生痛苦。这一切的元凶，就是'生命'本身，就是'时间'的流动！"`}),i.jsx("p",{className:"text-gray-300 leading-relaxed mt-3",children:"最终，这场理念之争导致了两人的彻底分裂。宿槐选择了拥抱暗影力量，成为了暗影女王，率领着僵尸大军对光明大陆发动了全面入侵。而清鸢则依然坚守着自己的信念，成为了植物世界的永恒守护者，誓言要保护光明大陆上的所有生命。"}),i.jsx("p",{className:"text-gray-300 leading-relaxed mt-3",children:"随着战争的持续，越来越多强大的存在被卷入这场光明与暗影的对决："}),i.jsx("p",{className:"text-gray-300 leading-relaxed mt-3",children:"• 来自人类世界的魔法少女徐清岚，在一次冥想中与光明大陆的本源能量产生共鸣，毅然前往这个陌生而危险的异世界帮助清鸢对抗黑暗。"}),i.jsx("p",{className:"text-gray-300 leading-relaxed mt-3",children:'• 曾经是宿槐最宠爱的宠物"猫教主"，在清鸢的救赎下重生为"善•猫教主"，成为植物阵营的得力战将。'}),i.jsx("p",{className:"text-gray-300 leading-relaxed mt-3",children:'• 暗影世界的首席谋士"季灾"，通过神秘的星象占卜，预感到徐清岚的威胁，策划了对她的偷袭，导致徐清岚一度堕落为"徐清岚（暗）"。'}),i.jsx("p",{className:"text-gray-300 leading-relaxed mt-3",children:"• 星界之门的守护者青玄，在与徐清岚（暗）的战斗中重伤坠落，下落不明，成为了光明大陆的一大谜团。"}),i.jsx("p",{className:"text-gray-300 leading-relaxed mt-3",children:"• 明渊的神秘守护者慕容言风，虽然性格阴晴不定，但在关键时刻选择站在光明一方，用自己独特的力量帮助植物阵营抵御僵尸的进攻。"}),i.jsx("p",{className:"text-gray-300 leading-relaxed mt-3",children:"现在，这场跨越维度的史诗之战正等待着你的加入。你将扮演人类的守护者，指挥清鸢和其他植物战士，运用你的智慧和策略，抵御宿槐及其僵尸大军的进攻，守护光明大陆的和平与安宁！每一次战斗都是一次考验，每一个决策都可能改变战争的走向。你，准备好迎接这场光明与暗影的终极对决了吗？"}),!v&&i.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-24 bg-gradient-to-t from-gray-900/90 via-gray-900/50 to-transparent"})]}),i.jsxs(E.button,{onClick:()=>k(!v),className:"mt-4 mx-auto block px-4 py-2 bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white font-medium rounded-full shadow-lg transition-all duration-300 flex items-center",whileHover:{scale:1.05},whileTap:{scale:.95},children:[i.jsx("i",{className:`fa-solid mr-2 ${v?"fa-chevron-up":"fa-chevron-down"}`}),v?"收起简介":"展开阅读更多"]})]}),i.jsxs("div",{className:"relative z-10 mb-8",children:[i.jsxs(Ts,{to:"/",className:"inline-flex items-center px-4 py-2 bg-gray-800 hover:bg-gray-700 rounded-lg transition-all duration-300 shadow-lg hover:shadow-green-900/30",children:[i.jsx("i",{className:"fa-solid fa-arrow-left mr-2"}),"返回首页"]}),i.jsxs(E.button,{onClick:We,className:"inline-flex items-center ml-4 px-4 py-2 bg-red-800 hover:bg-red-700 rounded-lg transition-all duration-300 shadow-lg",whileHover:{scale:1.05},whileTap:{scale:.95},children:[i.jsx("i",{className:"fa-solid fa-undo mr-2"}),"恢复默认数据"]})]}),i.jsx("div",{className:"absolute -top-24 -left-24 w-64 h-64 bg-green-500 rounded-full mix-blend-multiply filter blur-3xl opacity-10 animate-blob"}),i.jsx("div",{className:"absolute -top-24 -right-24 w-64 h-64 bg-red-500 rounded-full mix-blend-multiply filter blur-3xl opacity-10 animate-blob animation-delay-2000"}),i.jsx("div",{className:"absolute -bottom-24 -left-24 w-64 h-64 bg-yellow-500 rounded-full mix-blend-multiply filter blur-3xl opacity-10 animate-blob animation-delay-4000"})]}),i.jsx("div",{className:"relative z-10 text-center mb-12",children:i.jsxs(E.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6},children:[i.jsx("h1",{className:"text-4xl md:text-6xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-green-400 via-yellow-400 to-red-400 mb-3 drop-shadow-lg",children:"植物与僵尸图鉴"}),i.jsx("div",{className:"h-1 w-32 bg-gradient-to-r from-green-400 to-red-400 mx-auto rounded-full"}),i.jsxs(E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:ze,className:"mt-4 inline-flex items-center px-4 py-2 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white rounded-full text-sm font-medium transition-all duration-300 shadow-lg hover:shadow-purple-900/50 relative overflow-hidden",children:[i.jsx(E.div,{className:"absolute inset-0 bg-white opacity-10",animate:{backgroundPosition:["0% 0%","100% 100%"],backgroundSize:["200% 200%"]},transition:{duration:3,repeat:1/0,repeatType:"reverse"},style:{background:"linear-gradient(45deg, transparent 25%, rgba(255,255,255,0.2) 50%, transparent 75%)"}}),i.jsx("i",{className:"fa-solid fa-bell mr-2 animate-pulse"}),i.jsx("span",{children:"查看最近更新"}),i.jsx("span",{className:"ml-1 px-1.5 py-0.5 bg-red-500 rounded-full text-xs font-bold relative z-10",children:ot.length}),i.jsxs("span",{className:"ml-2 px-2 py-0.5 bg-gradient-to-r from-blue-700 to-indigo-800 rounded-full text-xs font-bold relative z-10",children:["v",ot.length,".0"]}),Me()&&i.jsxs(E.div,{className:"absolute -bottom-full left-1/2 transform -translate-x-1/2 bg-purple-800 text-white text-xs py-1 px-2 rounded whitespace-nowrap mt-1 z-20 shadow-lg",initial:{opacity:0,y:10},whileHover:{opacity:1,y:0},transition:{duration:.2},children:["最新版本 v",ot.length,".0: ",(wn=Me())==null?void 0:wn.title," (",Ie(((Qt=Me())==null?void 0:Qt.date)||""),")"]})]})]})}),i.jsxs(E.div,{className:"max-w-2xl mx-auto mb-8 relative z-10",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6,delay:.2},children:[i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"text",placeholder:"搜索植物或僵尸...",value:c,onChange:P=>u(P.target.value),className:"w-full px-4 py-3 pl-10 bg-gray-800 rounded-lg border border-gray-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-300 shadow-lg",autoComplete:"off"}),i.jsx("i",{className:"fa-solid fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),c&&i.jsx("button",{onClick:()=>u(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white transition-colors duration-200",children:i.jsx("i",{className:"fa-solid fa-times-circle"})})]}),c&&i.jsxs("div",{className:"mt-2 bg-gray-800 rounded-lg shadow-xl max-h-60 overflow-y-auto border border-gray-700 z-50",children:[i.jsx("div",{className:"p-2 text-sm text-gray-400 font-medium",children:"搜索建议"}),Ae.concat(Te).slice(0,5).map((P,X)=>P?i.jsxs("div",{className:"px-4 py-2 hover:bg-gray-700 cursor-pointer flex items-center",onClick:()=>{if(u(P.name),"rarity"in P){const we=Object.keys(H().plants).find(Re=>{const _e=H().plants[Re];return P.name.includes("Vexithra")&&_e.name.includes("Vexithra")?!0:_e.name===P.name});Y(we)}else{const we=Object.keys(H().zombies).find(Re=>H().zombies[Re].name===P.name);Y(we)}},children:[i.jsx("i",{className:`fa-solid ${"rarity"in P?"fa-seedling text-green-500":"fa-skull text-red-500"} mr-2`}),P.name,P.description&&i.jsxs("span",{className:"ml-2 text-xs text-gray-400 truncate",children:[P.description.substring(0,30),"..."]})]},X):null)]})]}),i.jsxs(E.div,{className:"flex flex-col items-center mb-8 relative z-10",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6,delay:.3},children:[i.jsxs("div",{className:"mb-4 bg-gray-800 p-1 rounded-xl inline-flex shadow-lg",children:[i.jsxs("button",{onClick:()=>N("type"),className:`px-6 py-2 rounded-lg font-medium transition-all duration-300 ${S==="type"?"bg-purple-600 text-white":"text-gray-300 hover:bg-gray-700"}`,children:[i.jsx("i",{className:`fa-solid fa-layer-group mr-2 ${S==="type"?"text-white":"text-purple-500"}`}),"按类型"]}),i.jsxs("button",{onClick:()=>N("worldview"),className:`px-6 py-2 rounded-lg font-medium transition-all duration-300 ${S==="worldview"?"bg-blue-600 text-white":"text-gray-300 hover:bg-gray-700"}`,children:[i.jsx("i",{className:`fa-solid fa-globe-asia mr-2 ${S==="worldview"?"text-white":"text-blue-500"}`}),"按世界观"]})]}),S==="type"&&i.jsxs("div",{className:"bg-gray-800 p-1 rounded-xl inline-flex shadow-lg",children:[i.jsxs("button",{onClick:()=>t("plants"),className:`px-8 py-4 rounded-lg font-medium transition-all duration-300 relative overflow-hidden ${n==="plants"?"bg-green-600 text-white":"text-gray-300 hover:bg-gray-700"}`,children:[n==="plants"&&i.jsx(E.div,{className:"absolute inset-0 bg-white opacity-10",animate:{backgroundPosition:["0% 0%","100% 100%"],backgroundSize:["200% 200%"]},transition:{duration:2,repeat:1/0,repeatType:"reverse"},style:{background:"linear-gradient(45deg, transparent 25%, rgba(255,255,255,0.1) 50%, transparent 75%)"}}),i.jsx("i",{className:`fa-solid fa-seedling mr-2 ${n==="plants"?"text-white":"text-green-500"}`}),"植物图鉴"]}),i.jsxs("button",{onClick:()=>t("zombies"),className:`px-8 py-4 rounded-lg font-medium transition-all duration-300 relative overflow-hidden ${n==="zombies"?"bg-red-600 text-white":"text-gray-300 hover:bg-gray-700"}`,children:[n==="zombies"&&i.jsx(E.div,{className:"absolute inset-0 bg-white opacity-10",animate:{backgroundPosition:["0% 0%","100% 100%"],backgroundSize:["200% 200%"]},transition:{duration:2,repeat:1/0,repeatType:"reverse"},style:{background:"linear-gradient(45deg, transparent 25%, rgba(255,255,255,0.1) 50%, transparent 75%)"}}),i.jsx("i",{className:`fa-solid fa-skull mr-2 ${n==="zombies"?"text-white":"text-red-500"}`}),"僵尸图鉴"]})]}),S==="worldview"&&i.jsxs("div",{className:"bg-blue-900/30 border border-blue-800 rounded-lg p-4 text-center shadow-lg",children:[i.jsx("h3",{className:"text-xl font-bold text-blue-400 mb-2",children:"世界观分类"}),i.jsx("p",{className:"text-blue-200",children:"植物与僵尸将按照它们所属的世界进行混合分类展示"})]})]}),i.jsx("div",{className:"max-w-4xl mx-auto mb-6 overflow-x-auto relative z-10",children:i.jsxs("div",{className:"bg-gray-800 p-1 rounded-xl inline-flex shadow-lg",children:[i.jsx("button",{onClick:()=>o("全部"),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-all duration-300 ${s==="全部"?(S==="type"?n==="plants"?"bg-green-600 text-white":"bg-red-600 text-white":"bg-blue-600 text-white")+" text-white shadow-md":"text-gray-300 hover:bg-gray-700"}`,children:"全部"}),S==="type"?(n==="plants"?O.filter(P=>P!=="全部"):U.filter(P=>P!=="全部")).map(P=>i.jsx("button",{onClick:()=>o(P),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-all duration-300 ${s===P?(n==="plants"?"bg-green-600 text-white":"bg-red-600 text-white")+" text-white shadow-md":"text-gray-300 hover:bg-gray-700"}`,children:P},P)):ae.filter(P=>P!=="全部").map(P=>i.jsx("button",{onClick:()=>o(P),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-all duration-300 ${s===P?"bg-blue-600 text-white text-white shadow-md":"text-gray-300 hover:bg-gray-700"}`,children:P},P))]})}),i.jsxs("div",{className:"max-w-7xl mx-auto relative z-10",children:[S==="type"?n==="plants"?i.jsx(E.div,{variants:L,initial:"hidden",animate:"visible",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:Ae.map((P,X)=>{if(!P)return null;const we=Object.keys(H().plants).find(se=>{const Ye=H().plants[se];return Ye&&Ye.name===P.name})||Object.keys(H().plants)[0];let Re="";P.damage!==void 0?Re="攻击类":P.health>=1e3||P.category&&P.category.includes("防御")?Re="防御类":P.category&&P.category.includes("资源")||P.specialEffect&&P.specialEffect.includes("阳光")||P.name.includes("阳光")?Re="资源类":P.specialEffect&&(P.specialEffect.includes("减速")||P.specialEffect.includes("定住"))||P.category&&P.category.includes("控制")?Re="控制类":Re="特殊类";const _e=se=>{se.preventDefault(),se.stopPropagation(),Y(we)};return i.jsxs(E.div,{variants:K,whileHover:{scale:1.03,boxShadow:`0 20px 25px -5px ${n==="plants"?"rgba(34, 139, 34, 0.3)":"rgba(220, 20, 60, 0.3)"}`,zIndex:10},whileTap:{scale:.98},className:`bg-gradient-to-br ${De(P.rarity)} rounded-xl overflow-hidden shadow-lg border border-gray-700 flex flex-col h-full transition-all duration-300 cursor-pointer hover:cursor-pointer`,onClick:_e,children:[i.jsxs("div",{className:"h-48 overflow-hidden relative",children:[i.jsx("img",{src:Vr[we],alt:P.name,className:"w-full h-full object-cover object-center transform hover:scale-110 transition-transform duration-700",loading:"lazy"}),i.jsx("div",{className:`absolute top-3 right-3 text-xs font-bold px-2 py-1 rounded-full ${$e(P.rarity)} shadow-md`,children:P.rarity}),i.jsx("div",{className:"absolute top-3 left-3 text-xs font-bold px-2 py-1 rounded-full bg-blue-600 text-white shadow-md",children:Re}),i.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-24 bg-gradient-to-t from-gray-900 to-transparent"})]}),i.jsxs("div",{className:"p-5 flex-grow flex flex-col",children:[P.quote&&i.jsxs(E.div,{className:"mb-3 p-3 bg-gray-800/50 rounded-lg border border-gray-700 italic text-gray-300 text-sm relative overflow-hidden",initial:{opacity:0,y:10},whileInView:{opacity:1,y:0},transition:{duration:.5},children:[i.jsx("div",{className:"absolute top-0 left-0 w-8 h-8 text-3xl text-gray-700 opacity-30",children:'"'}),i.jsx("div",{className:"relative z-10 pl-4",children:P.quote}),i.jsx("div",{className:"absolute bottom-0 right-0 w-8 h-8 text-3xl text-gray-700 opacity-30",children:'"'})]}),i.jsxs("div",{className:"flex justify-between items-center mb-3",children:[i.jsx("h3",{className:"text-xl font-bold text-green-400",children:P.name}),i.jsxs("span",{className:"bg-yellow-500 text-black font-bold px-3 py-1 rounded-full flex items-center",children:[i.jsx("i",{className:"fa-solid fa-sun mr-1"})," ",P.cost]})]}),i.jsx("p",{className:"text-gray-300 mb-4 line-clamp-2 flex-grow",children:P.description}),i.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[i.jsxs("div",{className:"bg-gray-800/80 p-2 rounded-lg",children:[i.jsx("span",{className:"text-gray-400 block",children:"生命值"}),i.jsx("span",{className:"font-bold text-white",children:P.health})]}),i.jsxs("div",{className:"bg-gray-800/80 p-2 rounded-lg",children:[i.jsx("span",{className:"text-gray-400 block",children:"冷却时间"}),i.jsxs("span",{className:"font-bold text-white",children:[P.cooldown/1e3,"秒"]})]}),P.damage&&i.jsxs("div",{className:"bg-gray-800/80 p-2 rounded-lg",children:[i.jsx("span",{className:"text-gray-400 block",children:"攻击力"}),i.jsx("span",{className:"font-bold text-white",children:P.damage})]}),P.attackSpeed&&i.jsxs("div",{className:"bg-gray-800/80 p-2 rounded-lg",children:[i.jsx("span",{className:"text-gray-400 block",children:"攻击速度"}),i.jsxs("span",{className:"font-bold text-white",children:[P.attackSpeed/1e3,"秒/次"]})]})]}),i.jsxs("button",{onClick:se=>{se.preventDefault(),se.stopPropagation(),Y(we)},className:"mt-4 w-full bg-gradient-to-r from-green-600 to-green-500 hover:from-green-700 hover:to-green-600 text-white font-medium py-2 rounded-lg transition-all duration-300 flex items-center justify-center",children:[i.jsx("i",{className:"fa-solid fa-info-circle mr-2"}),"查看详情"]})]})]},X)})}):i.jsx(E.div,{variants:L,initial:"hidden",animate:"visible",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:Te.map((P,X)=>{if(!P)return null;const we=Object.keys(H().zombies).find(se=>{const Ye=H().zombies[se];return Ye&&Ye.name===P.name})||Object.keys(H().zombies)[0];let Re="BOSS级僵尸";const _e=se=>{se.preventDefault(),se.stopPropagation(),Y(we)};return i.jsxs(E.div,{variants:K,whileHover:{scale:1.03,boxShadow:`0 20px 25px -5px ${n==="plants"?"rgba(34, 139, 34, 0.3)":"rgba(220, 20, 60, 0.3)"}`,zIndex:10},whileTap:{scale:.98},className:"bg-gradient-to-br from-red-900/50 to-red-800/20 rounded-xl overflow-hidden shadow-lg border border-gray-700 flex flex-col h-full transition-all duration-300 cursor-pointer hover:cursor-pointer",onClick:_e,children:[i.jsxs("div",{className:"h-48 overflow-hidden relative",children:[i.jsx("img",{src:Br[we],alt:P.name,className:"w-full h-full object-cover object-center transform hover:scale-110 transition-transform duration-700",loading:"lazy"}),i.jsx("div",{className:`absolute top-3 right-3 text-xs font-bold px-2 py-1 rounded-full ${xe(P.difficulty)} shadow-md`,children:P.difficulty}),i.jsx("div",{className:"absolute top-3 left-3 text-xs font-bold px-2 py-1 rounded-full bg-purple-600 text-white shadow-md",children:Re}),i.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-24 bg-gradient-to-t from-gray-900 to-transparent"})]}),i.jsxs("div",{className:"p-5 flex-grow flex flex-col",children:[P.quote&&i.jsxs(E.div,{className:"mb-3 p-3 bg-gray-800/50 rounded-lg border border-gray-700 italic text-gray-300 text-sm relative overflow-hidden",initial:{opacity:0,y:10},whileInView:{opacity:1,y:0},transition:{duration:.5},children:[i.jsx("div",{className:"absolute top-0 left-0 w-8 h-8 text-3xl text-gray-700 opacity-30",children:'"'}),i.jsx("div",{className:"relative z-10 pl-4",children:P.quote}),i.jsx("div",{className:"absolute bottom-0 right-0 w-8 h-8 text-3xl text-gray-700 opacity-30",children:'"'})]}),i.jsx("h3",{className:"text-xl font-bold text-red-400 mb-3",children:P.name}),i.jsx("p",{className:"text-gray-300 mb-4 line-clamp-2 flex-grow",children:P.description}),i.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[i.jsxs("div",{className:"bg-gray-800/80 p-2 rounded-lg",children:[i.jsx("span",{className:"text-gray-400 block",children:"生命值"}),i.jsx("span",{className:"font-bold text-white",children:P.health})]}),i.jsxs("div",{className:"bg-gray-800/80 p-2 rounded-lg",children:[i.jsx("span",{className:"text-gray-400 block",children:"移动速度"}),i.jsx("span",{className:"font-bold text-white",children:typeof P.speed=="number"?P.speed.toFixed(1):"未知"})]}),i.jsxs("div",{className:"bg-gray-800/80 p-2 rounded-lg",children:[i.jsx("span",{className:"text-gray-400 block",children:"攻击力"}),i.jsx("span",{className:"font-bold text-white",children:P.damage})]}),P.armor&&i.jsxs("div",{className:"bg-gray-800/80 p-2 rounded-lg",children:[i.jsx("span",{className:"text-gray-400 block",children:"护甲值"}),i.jsx("span",{className:"font-bold text-white",children:P.armor})]})]}),i.jsxs("button",{onClick:se=>{se.preventDefault(),se.stopPropagation(),Y(we)},className:"mt-4 w-full bg-gradient-to-r from-red-600 to-red-500 hover:from-red-700 hover:to-red-600 text-white font-medium py-2 rounded-lg transition-all duration-300 flex items-center justify-center",children:[i.jsx("i",{className:"fa-solid fa-info-circle mr-2"}),"查看详情"]})]})]},X)})}):i.jsx(E.div,{variants:L,initial:"hidden",animate:"visible",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:ht}),(n==="plants"&&Ae.length===0||n==="zombies"&&Te.length===0)&&i.jsxs(E.div,{className:"text-center py-16",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},children:[i.jsx("div",{className:"text-8xl mb-6",children:i.jsx("i",{className:"fa-solid fa-search text-gray-600"})}),i.jsx("h3",{className:"text-2xl font-bold text-gray-400 mb-3",children:"未找到匹配的内容"}),i.jsx("p",{className:"text-gray-500 max-w-md mx-auto",children:"请尝试使用其他关键词或分类进行搜索，或者查看我们的推荐内容。"}),i.jsxs("button",{onClick:()=>{u(""),o("全部")},className:"mt-6 bg-gradient-to-r from-green-600 to-blue-600 text-white font-medium py-3 px-6 rounded-lg transition-all duration-300 shadow-lg hover:shadow-green-900/30",children:[i.jsx("i",{className:"fa-solid fa-sync-alt mr-2"}),"重置筛选条件"]})]})]}),m&&f&&i.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"fixed inset-0 bg-black bg-opacity-80 z-50 flex items-center justify-center p-4 overflow-y-auto",onClick:de,children:i.jsxs(E.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},exit:{y:50,opacity:0},transition:{duration:.5,delay:.1},className:"bg-gray-800 rounded-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto shadow-2xl relative",onClick:P=>P.stopPropagation(),children:[i.jsx("button",{onClick:de,className:"absolute top-4 right-4 bg-gray-700 hover:bg-gray-600 text-white rounded-full w-8 h-8 flex items-center justify-center transition-colors duration-200 z-10",children:i.jsx("i",{className:"fa-solid fa-times"})}),i.jsx("div",{className:"p-6",children:(()=>{let P=null;const X=H();if(n==="plants"?P=X.plants[f]:P=X.zombies[f],P||(n==="plants"?P=X.zombies[f]:P=X.plants[f]),!P)return i.jsxs("div",{className:"text-center py-10",children:[i.jsx("p",{className:"text-gray-400",children:"无法加载此角色的详细信息"}),i.jsx("button",{onClick:de,className:"mt-4 bg-gray-700 hover:bg-gray-600 text-white py-2 px-4 rounded-full transition-colors duration-200",children:"关闭"})]});const we="rarity"in P,Re=P,_e=we?Vr:Br;if(we){const se=Re;return i.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[i.jsxs("div",{className:"w-full md:w-1/3",children:[i.jsxs("div",{className:"relative overflow-hidden rounded-xl aspect-square",children:[i.jsx(E.img,{src:_e[f],alt:se.name,className:"w-full h-full object-cover",initial:{scale:1},animate:{scale:1.05},transition:{duration:3,repeat:1/0,repeatType:"reverse"}}),i.jsx("div",{className:`absolute top-3 right-3 text-xs font-bold px-2 py-1 rounded-full ${$e(se.rarity)} shadow-md`,children:se.rarity})]}),i.jsxs("div",{className:"mt-4 p-3 bg-gray-700 rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-gray-300",children:"解锁信息"}),i.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${ie(se.unlockLevel)?"bg-green-600 text-white":"bg-gray-600 text-gray-300"}`,children:ie(se.unlockLevel)?"已解锁":`关卡 ${se.unlockLevel||1} 解锁`})]}),i.jsx("div",{className:"w-full bg-gray-600 rounded-full h-1.5",children:i.jsx("div",{className:"bg-green-500 h-1.5 rounded-full",style:{width:`${ie(se.unlockLevel)?100:50}%`}})})]})]}),i.jsxs("div",{className:"w-full md:w-2/3",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h2",{className:"text-2xl font-bold text-green-400",children:se.name}),i.jsxs("span",{className:"bg-yellow-500 text-black font-bold px-3 py-1 rounded-full flex items-center",children:[i.jsx("i",{className:"fa-solid fa-sun mr-1"})," ",se.cost]})]}),i.jsxs("div",{className:"mb-6",children:[i.jsxs("div",{className:`relative transition-all duration-500 overflow-hidden ${v?"max-h-[2000px]":"max-h-24"}`,children:[i.jsx("p",{className:"text-gray-300",children:se.description}),!v&&i.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-16 bg-gradient-to-t from-gray-800 via-gray-800/80 to-transparent"})]}),i.jsxs(E.button,{onClick:()=>k(!v),className:"mt-2 mx-auto block px-3 py-1.5 bg-gradient-to-r from-green-600 to-blue-600 hover:from-green-700 hover:to-blue-700 text-white font-medium rounded-full shadow-lg transition-all duration-300 flex items-center text-sm",whileHover:{scale:1.05},whileTap:{scale:.95},children:[i.jsx("i",{className:`fa-solid mr-1 ${v?"fa-chevron-up":"fa-chevron-down"}`}),v?"收起简介":"展开阅读更多"]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-6",children:[i.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[i.jsx("span",{className:"text-gray-400 block text-sm",children:"生命值"}),i.jsx("span",{className:"font-bold text-white text-lg",children:se.health})]}),i.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[i.jsx("span",{className:"text-gray-400 block text-sm",children:"冷却时间"}),i.jsxs("span",{className:"font-bold text-white text-lg",children:[se.cooldown/1e3,"秒"]})]}),se.damage&&i.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[i.jsx("span",{className:"text-gray-400 block text-sm",children:"攻击力"}),i.jsx("span",{className:"font-bold text-white text-lg",children:se.damage})]}),se.attackRange&&i.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[i.jsx("span",{className:"text-gray-400 block text-sm",children:"攻击范围"}),i.jsx("span",{className:"font-bold text-white text-lg",children:se.attackRange===99?"全图":`前方 ${se.attackRange} 格`})]}),se.attackSpeed&&i.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[i.jsx("span",{className:"text-gray-400 block text-sm",children:"攻击速度"}),i.jsxs("span",{className:"font-bold text-white text-lg",children:[se.attackSpeed/1e3,"秒/次"]})]})]}),se.specialEffect&&i.jsxs("div",{className:"p-4 bg-blue-900/30 border border-blue-800 rounded-lg mb-6",children:[i.jsxs("span",{className:"text-blue-300 font-medium flex items-center",children:[i.jsx("i",{className:"fa-solid fa-star mr-2"}),"特殊效果"]}),i.jsx("p",{className:"text-blue-200 mt-2",children:se.specialEffect})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"p-4 bg-green-900/30 border border-green-800 rounded-lg",children:[i.jsxs("span",{className:"text-green-300 font-medium flex items-center",children:[i.jsx("i",{className:"fa-solid fa-thumbs-up mr-2"}),"最佳应对"]}),i.jsx("ul",{className:"mt-2 space-y-1",children:(se.bestAgainst||[]).map((Ye,kt)=>i.jsxs("li",{className:"text-green-200 flex items-center",children:[i.jsx("i",{className:"fa-solid fa-check-circle mr-1 text-xs"})," ",Ye]},kt))})]}),i.jsxs("div",{className:"p-4 bg-red-900/30 border border-red-800 rounded-lg",children:[i.jsxs("span",{className:"text-red-300 font-medium flex items-center",children:[i.jsx("i",{className:"fa-solid fa-thumbs-down mr-2"}),"最差应对"]}),i.jsx("ul",{className:"mt-2 space-y-1",children:(se.worstAgainst||[]).map((Ye,kt)=>i.jsxs("li",{className:"text-red-200 flex items-center",children:[i.jsx("i",{className:"fa-solid fa-times-circle mr-1 text-xs"})," ",Ye]},kt))})]})]})]})]})}else{const se=Re;return i.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[i.jsxs("div",{className:"w-full md:w-1/3",children:[i.jsxs("div",{className:"relative overflow-hidden rounded-xl aspect-square",children:[i.jsx(E.img,{src:_e[f],alt:se.name,className:"w-full h-full object-cover",initial:{scale:1},animate:{scale:1.05},transition:{duration:3,repeat:1/0,repeatType:"reverse"}}),i.jsx("div",{className:`absolute top-3 right-3 text-xs font-bold px-2 py-1 rounded-full ${xe(se.difficulty)} shadow-md`,children:se.difficulty})]}),i.jsxs("div",{className:"mt-4 p-3 bg-gray-700 rounded-lg",children:[i.jsx("span",{className:"text-gray-300 block mb-2",children:"出现关卡"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:(se.appearsIn||[]).map(Ye=>i.jsxs("span",{className:"bg-gray-600 text-white text-xs px-2 py-1 rounded-full",children:["关卡 ",Ye]},Ye))})]})]}),i.jsxs("div",{className:"w-full md:w-2/3",children:[i.jsx("h2",{className:"text-2xl font-bold text-red-400 mb-4",children:se.name}),i.jsxs("div",{className:"mb-6",children:[i.jsxs("div",{className:`relative transition-all duration-500 overflow-hidden ${v?"max-h-[2000px]":"max-h-24"}`,children:[i.jsx("p",{className:"text-gray-300",children:se.description}),!v&&i.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-16 bg-gradient-to-t from-gray-800 via-gray-800/80 to-transparent"})]}),i.jsxs(E.button,{onClick:()=>k(!v),className:"mt-2 mx-auto block px-3 py-1.5 bg-gradient-to-r from-red-600 to-orange-600 hover:from-red-700 hover:to-orange-700 text-white font-medium rounded-full shadow-lg transition-all duration-300 flex items-center text-sm",whileHover:{scale:1.05},whileTap:{scale:.95},children:[i.jsx("i",{className:`fa-solid mr-1 ${v?"fa-chevron-up":"fa-chevron-down"}`}),v?"收起简介":"展开阅读更多"]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-6",children:[i.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[i.jsx("span",{className:"text-gray-400 block text-sm",children:"生命值"}),i.jsx("span",{className:"font-bold text-white text-lg",children:se.health})]}),i.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[i.jsx("span",{className:"text-gray-400 block text-sm",children:"移动速度"}),i.jsx("span",{className:"font-bold text-white text-lg",children:typeof se.speed=="number"?se.speed.toFixed(1):"未知"})]}),i.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[i.jsx("span",{className:"text-gray-400 block text-sm",children:"攻击力"}),i.jsx("span",{className:"font-bold text-white text-lg",children:se.damage})]}),se.reward&&i.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[i.jsx("span",{className:"text-gray-400 block text-sm",children:"阳光奖励"}),i.jsx("span",{className:"font-bold text-white text-lg",children:se.reward})]}),se.armor&&i.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[i.jsx("span",{className:"text-gray-400 block text-sm",children:"护甲值"}),i.jsx("span",{className:"font-bold text-white text-lg",children:se.armor})]})]}),se.specialAbility&&i.jsxs("div",{className:"p-4 bg-purple-900/30 border border-purple-800 rounded-lg mb-6",children:[i.jsxs("span",{className:"text-purple-300 font-medium flex items-center",children:[i.jsx("i",{className:"fa-solid fa-wand-magic-sparkles mr-2"}),"特殊能力"]}),i.jsx("p",{className:"text-purple-200 mt-2",children:se.specialAbility})]}),i.jsxs("div",{className:"mb-6",children:[i.jsxs("span",{className:"text-green-300 font-medium flex items-center mb-3",children:[i.jsx("i",{className:"fa-solid fa-shield-halved mr-2"}),"弱点"]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:(se.weakness||[]).map((Ye,kt)=>i.jsx("span",{className:"bg-green-900/30 text-green-200 px-3 py-1.5 rounded-lg",children:Ye},kt))})]}),se.strategy&&i.jsxs("div",{className:"p-4 bg-blue-900/30 border border-blue-800 rounded-lg",children:[i.jsxs("span",{className:"text-blue-300 font-medium flex items-center",children:[i.jsx("i",{className:"fa-solid fa-chess mr-2"}),"应对策略"]}),i.jsx("p",{className:"text-blue-200 mt-2",children:se.strategy})]}),i.jsxs("button",{className:"mt-4 w-full bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white font-medium py-2 rounded-lg transition-all duration-300 flex items-center justify-center",onClick:()=>{const Ye=we?`plant_${f}`:`zombie_${f}`;e(`/character-relationships?focus=${Ye}`)},children:[i.jsx("i",{className:"fa-solid fa-network-wired mr-2"})," 查看关系图谱"]})]})]})}})()})]})}),i.jsxs("div",{className:"mt-12 text-center text-gray-500 text-sm relative z-10",children:[i.jsx("p",{children:"植物保卫战图鉴 © 2025 - 掌握所有植物和僵尸的特性，才能取得最终胜利！"}),i.jsx("p",{className:"mt-2",children:"使用 ↑ ↓ ← → 键可以浏览图鉴，空格键查看详情，ESC 键关闭详情"})]}),y&&i.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"fixed inset-0 bg-black bg-opacity-90 z-50 flex items-center justify-center p-4 overflow-y-auto",onClick:Pe,children:i.jsxs(E.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},exit:{y:50,opacity:0},transition:{duration:.5,delay:.1},className:"bg-gray-800 rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto shadow-2xl relative border border-purple-900/50",onClick:P=>P.stopPropagation(),children:[i.jsxs("div",{className:"sticky top-0 z-10 bg-gray-900 p-4 rounded-t-xl border-b border-gray-700 flex justify-between items-center",children:[i.jsxs("h2",{className:"text-xl md:text-2xl font-bold text-purple-400 flex items-center",children:[i.jsx("i",{className:"fa-solid fa-chart-line mr-2"}),"游戏更新历史"]}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsxs("span",{className:"bg-gradient-to-r from-blue-700 to-indigo-800 text-blue-100 rounded-full text-sm px-3 py-1 flex items-center font-bold",children:["当前版本: ",Fe().version]}),i.jsxs("span",{className:"bg-purple-900/50 text-purple-300 rounded-full text-sm px-3 py-1 flex items-center",children:["共 ",ot.length," 项更新"]}),i.jsx("button",{onClick:Pe,className:"bg-gray-700 hover:bg-gray-600 text-white rounded-full w-8 h-8 flex items-center justify-center transition-colors duration-200",children:i.jsx("i",{className:"fa-solid fa-times"})})]})]}),i.jsxs("div",{className:"p-6",children:[ot.length>0&&i.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"relative mb-8 overflow-hidden bg-gradient-to-br from-purple-900/30 to-pink-900/20 rounded-xl p-6 border border-purple-700/50 shadow-lg",children:[i.jsxs("div",{className:"absolute top-3 right-3 px-3 py-1 bg-red-600 text-white text-xs font-bold rounded-full shadow-lg",children:[i.jsx("i",{className:"fa-solid fa-bolt mr-1"})," 最新"]}),i.jsxs("div",{className:"flex flex-col md:flex-row md:items-start justify-between mb-4",children:[i.jsxs("div",{children:[i.jsxs("h3",{className:"text-xl font-bold text-white mb-1 flex items-center",children:[i.jsx("i",{className:"fa-solid fa-star text-yellow-400 mr-2"}),ot[0].title]}),i.jsxs("p",{className:"text-gray-400 text-sm",children:[ot[0].date," (",Ie(ot[0].date),")"]})]}),i.jsxs("div",{className:"mt-2 md:mt-0 px-3 py-1 bg-purple-900/50 text-purple-300 rounded-full text-sm",children:["更新 #",ot[0].id]})]}),i.jsx("p",{className:"text-gray-300 mb-5",children:ot[0].description}),i.jsx("div",{className:"space-y-4",children:ot[0].changes.map((P,X)=>i.jsx("div",{className:`p-4 rounded-lg border ${P.type==="feature"?"bg-green-900/20 border-green-800":P.type==="balance"?"bg-blue-900/20 border-blue-800":P.type==="bugfix"?"bg-yellow-900/20 border-yellow-800":"bg-purple-900/20 border-purple-800"}`,children:i.jsxs("div",{className:"flex items-start",children:[i.jsx("div",{className:`mt-1 mr-3 p-2 rounded-full ${P.type==="feature"?"bg-green-800":P.type==="balance"?"bg-blue-800":P.type==="bugfix"?"bg-yellow-800":"bg-purple-800"}`,children:i.jsx("i",{className:`fa-solid text-white ${P.type==="feature"?"fa-star":P.type==="balance"?"fa-scale-balanced":P.type==="bugfix"?"fa-wrench":"fa-paint-brush"}`})}),i.jsxs("div",{children:[i.jsx("h4",{className:`font-bold mb-1 ${P.type==="feature"?"text-green-400":P.type==="balance"?"text-blue-400":P.type==="bugfix"?"text-yellow-400":"text-purple-400"}`,children:P.title}),i.jsx("p",{className:"text-gray-300 text-sm",children:P.description})]})]})},X))}),i.jsx("div",{className:"absolute -top-24 -right-24 w-48 h-48 bg-purple-500 rounded-full mix-blend-multiply filter blur-3xl opacity-10"}),i.jsx("div",{className:"absolute -bottom-24 -left-24 w-48 h-48 bg-pink-500 rounded-full mix-blend-multiply filter blur-3xl opacity-10"})]}),ot.length>1&&i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-bold text-gray-300 mb-4 flex items-center",children:[i.jsx("i",{className:"fa-solid fa-history mr-2"}),"历史更新"]}),i.jsx("div",{className:"space-y-6",children:ot.slice(1).map(P=>i.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1*parseInt(P.id)},className:"bg-gray-900 rounded-xl p-6 border border-gray-700 hover:border-purple-600 transition-all duration-300",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-start justify-between mb-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-bold text-white mb-1",children:P.title}),i.jsxs("p",{className:"text-gray-400 text-sm",children:[P.date," (",Ie(P.date),")"]})]}),i.jsxs("div",{className:"mt-2 md:mt-0 px-3 py-1 bg-purple-900/50 text-purple-300 rounded-full text-sm",children:["更新 #",P.id]})]}),i.jsx("p",{className:"text-gray-300 mb-5",children:P.description}),i.jsx("div",{className:"space-y-4",children:P.changes.map((X,we)=>i.jsx("div",{className:`p-4 rounded-lg border ${X.type==="feature"?"bg-green-900/20 border-green-800":X.type==="balance"?"bg-blue-900/20 border-blue-800":X.type==="bugfix"?"bg-yellow-900/20 border-yellow-800":"bg-purple-900/20 border-purple-800"}`,children:i.jsxs("div",{className:"flex items-start",children:[i.jsx("div",{className:`mt-1 mr-3 p-2 rounded-full ${X.type==="feature"?"bg-green-800":X.type==="balance"?"bg-blue-800":X.type==="bugfix"?"bg-yellow-800":"bg-purple-800"}`,children:i.jsx("i",{className:`fa-solid text-white ${X.type==="feature"?"fa-star":X.type==="balance"?"fa-scale-balanced":X.type==="bugfix"?"fa-wrench":"fa-paint-brush"}`})}),i.jsxs("div",{children:[i.jsx("h4",{className:`font-bold mb-1 ${X.type==="feature"?"text-green-400":X.type==="balance"?"text-blue-400":X.type==="bugfix"?"text-yellow-400":"text-purple-400"}`,children:X.title}),i.jsx("p",{className:"text-gray-300 text-sm",children:X.description})]})]})},we))})]},P.id))})]}),ot.length===0&&i.jsxs("div",{className:"text-center py-16",children:[i.jsx("div",{className:"text-4xl mb-4",children:"📜"}),i.jsx("h3",{className:"text-xl font-bold text-gray-300 mb-2",children:"暂无更新记录"}),i.jsx("p",{className:"text-gray-500",children:"游戏将持续更新，敬请期待..."})]}),i.jsxs("div",{className:"mt-8 text-center",children:[i.jsx("p",{className:"text-gray-500 text-sm",children:"植物保卫战 © 2025 - 持续更新中"}),i.jsxs("p",{className:"text-gray-600 text-xs mt-1",children:["版本: ",Fe().version," | 最近更新: ",ot.length>0?Ie(ot[0].date):"暂无更新"]})]})]})]})}),i.jsxs("div",{className:"fixed top-0 left-0 w-full h-full pointer-events-none overflow-hidden z-0",children:[i.jsx("div",{className:"absolute top-1/4 left-10 w-64 h-64 bg-green-500 rounded-full mix-blend-multiply filter blur-3xl opacity-5 animate-blob"}),i.jsx("div",{className:"absolute top-1/3 right-10 w-72 h-72 bg-red-500 rounded-full mix-blend-multiply filter blur-3xl opacity-5 animate-blob animation-delay-2000"}),i.jsx("div",{className:"absolute bottom-1/4 left-1/3 w-60 h-60 bg-yellow-500 rounded-full mix-blend-multiply filter blur-3xl opacity-5 animate-blob animation-delay-4000"})]}),i.jsx("style",{jsx:!0,global:!0,children:`
        @keyframes blob {
          0% { transform: scale(1) translate(0px, 0px); }
          33% { transform: scale(1.1) translate(30px, -50px); }
          66% { transform: scale(0.9) translate(-20px, 20px); }
          100% { transform: scale(1) translate(0px, 0px); }
        }
        .animate-blob {
                animation: blob 7s infinite;
              }
              .animate-pulse-glow {
                animation: pulse-glow 2s infinite;
              }
        .animation-delay-2000 {
          animation-delay: 2s;
        }
        .animation-delay-4000 {
          animation-delay: 4s;
        }
        .scrollbar-thin::-webkit-scrollbar {
          width: 6px;
        }
        .scrollbar-thin::-webkit-scrollbar-track {
          background: rgba(30, 30, 30, 0.5);
          border-radius: 10px;
        }
        .scrollbar-thin::-webkit-scrollbar-thumb {
          background: rgba(100, 100, 100, 0.5);
          border-radius: 10px;
        }
        .scrollbar-thin::-webkit-scrollbar-thumb:hover {
          background: rgba(150, 150, 150, 0.5);
        }
      `})]})}const Ta=()=>{const[e,n]=j.useState(()=>{const s=localStorage.getItem("pvzTheme");return s||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")});return j.useEffect(()=>{document.documentElement.classList.toggle("dark",e==="dark"),localStorage.setItem("pvzTheme",e)},[e]),{theme:e,toggleTheme:()=>{n(s=>s==="light"?"dark":"light")}}},P3=()=>{const{theme:e}=Ta(),[n]=fg(),[t,s]=j.useState(null),[o,c]=j.useState([]),[u,f]=j.useState({}),[h,m]=j.useState(!1),[p,y]=j.useState(!0),b=Kn();j.useEffect(()=>{const _=()=>{const R=Il();c(R);const A={};Rt.forEach(O=>{const U=`story_progress_${O.id}`,ae=localStorage.getItem(U);ae?A[O.id]=parseInt(ae):A[O.id]=0}),f(A),y(!1)};_();const T=R=>{R.key&&R.key.startsWith("story_progress_")&&_()};return window.addEventListener("storage",T),()=>window.removeEventListener("storage",T)},[]);const v=_=>o.includes(_),k=_=>{const T=Rt.find(U=>U.id===_);if(!T)return 0;const R=`story_progress_${_}`,A=localStorage.getItem(R),O=A?parseInt(A):0;return Math.round(O/T.content.length*100)},S=_=>{v(_)&&(s(_),m(!0))};j.useEffect(()=>{const _=n.get("chapterId"),T=n.get("isSideStory")==="true";_&&(T?b(`/side-stories?storyId=${_}&isSideStory=true`):Il().includes(_)&&(s(_),m(!0)))},[n,b]);const N=()=>{s(null),m(!1)},C=(_,T)=>{const R=v(_.id),A=k(_.id),O=A>0;return i.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:T*.1},className:`
          relative overflow-hidden rounded-xl cursor-pointer transition-all duration-300
          ${R?"bg-gradient-to-br from-gray-800 to-gray-900 hover:shadow-xl hover:shadow-purple-900/20 border border-gray-700 hover:border-purple-500/50 group":"bg-gray-800/50 border border-gray-700 opacity-60"}
        `,onClick:()=>S(_.id),whileHover:R?{scale:1.02}:void 0,whileTap:R?{scale:.98}:void 0,children:[i.jsxs("div",{className:"h-48 overflow-hidden relative",children:[R&&i.jsx(E.div,{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-40 h-40 bg-purple-500/20 rounded-full blur-3xl z-0",animate:{scale:[1,1.2,1],opacity:[.2,.3,.2]},transition:{duration:4,repeat:1/0,ease:"easeInOut"}}),i.jsx("img",{src:_.thumbnail,alt:_.title,className:"w-full h-full object-cover transition-transform duration-700 ease-in-out group-hover:scale-110 z-10 relative",loading:"lazy"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-black/70 to-transparent z-20"}),i.jsxs("div",{className:"absolute bottom-4 left-4 right-4 z-30",children:[i.jsx(E.h3,{className:"text-xl font-bold text-white drop-shadow-lg",initial:{y:10,opacity:0},whileHover:{y:0,opacity:1},transition:{duration:.3},children:_.title}),i.jsx(E.p,{className:"text-gray-300 text-sm mt-1 line-clamp-1",initial:{y:10,opacity:0},whileHover:{y:0,opacity:1},transition:{duration:.3,delay:.1},children:_.description})]}),!R&&i.jsx(E.div,{className:"absolute top-4 right-4 bg-black/70 p-2 rounded-full text-white z-30",animate:{rotate:[0,10,-10,10,0]},transition:{duration:2,repeat:1/0,repeatDelay:3},children:i.jsx("i",{className:"fa-solid fa-lock"})}),O&&i.jsxs("div",{className:"absolute top-4 right-4 bg-black/70 px-3 py-1 rounded-full text-white text-sm flex items-center z-30",children:[i.jsx("i",{className:"fa-solid fa-book-open mr-1"}),A,"%"]}),R&&i.jsx(E.div,{className:"absolute inset-0 flex items-center justify-center z-20 opacity-0 group-hover:opacity-100 transition-opacity duration-300",initial:{scale:.8},whileHover:{scale:1},transition:{type:"spring",stiffness:300},children:i.jsxs("div",{className:"bg-white/10 backdrop-blur-md px-4 py-2 rounded-full text-white text-sm",children:[i.jsx("i",{className:"fa-solid fa-book-open mr-1"})," 点击阅读"]})})]}),i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"flex justify-between items-center mb-3",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-r from-purple-600 to-blue-600 flex items-center justify-center text-white font-bold mr-2",children:T+1}),i.jsx("span",{className:"text-gray-400 text-sm",children:"剧情章节"})]}),i.jsxs("span",{className:"text-gray-400 text-sm flex items-center",children:[i.jsx("i",{className:"fa-regular fa-clock mr-1"}),Math.round(_.content.length*.5),"分钟"]})]}),O&&i.jsxs("div",{children:[i.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2 overflow-hidden",children:i.jsx(E.div,{className:"bg-gradient-to-r from-purple-600 to-blue-600 h-full rounded-full",initial:{width:0},animate:{width:`${A}%`},transition:{duration:.8,ease:"easeOut"}})}),i.jsxs("div",{className:"text-right text-xs text-gray-500 mt-1",children:["阅读进度: ",A,"%"]})]}),!R&&i.jsxs("div",{className:"mt-3 text-center text-gray-400 text-sm",children:[i.jsx("i",{className:"fa-solid fa-key mr-1"}),"完成前置章节解锁"]})]}),R&&i.jsx(E.div,{className:"absolute -bottom-10 -right-10 w-40 h-40 bg-purple-500/10 rounded-full blur-3xl",animate:{scale:[1,1.2,1],opacity:[.1,.2,.1]},transition:{duration:5,repeat:1/0,ease:"easeInOut"}})]},_.id)},M=()=>{if(!t)return null;const _=Rt.find(O=>O.id===t);if(!_)return null;const T=`story_progress_${t}`,R=localStorage.getItem(T),A=R?parseInt(R):0;return i.jsx(dr,{children:i.jsxs(E.div,{className:"fixed inset-0 z-50 flex items-center justify-center p-4 overflow-hidden",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:N,children:[i.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[i.jsx("img",{src:_.thumbnail,alt:_.title,className:"w-full h-full object-cover object-center brightness-20",loading:"lazy"}),i.jsx(E.div,{className:"absolute inset-0 bg-gradient-to-t from-black via-black/80 to-black/20",animate:{opacity:[.7,.9,.7]},transition:{duration:8,repeat:1/0,ease:"easeInOut"}}),i.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-[2px]"})]}),i.jsxs(E.div,{className:"relative w-full h-full max-w-4xl max-h-[90vh] flex flex-col shadow-2xl bg-gray-900/95 rounded-xl overflow-hidden",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.7},onClick:O=>O.stopPropagation(),children:[i.jsxs("div",{className:"bg-gradient-to-r from-purple-900 to-blue-900 p-4 flex justify-between items-center border-b border-gray-800 relative overflow-hidden",children:[i.jsx(E.div,{className:"absolute top-0 right-0 w-40 h-40 bg-purple-500/20 rounded-full blur-3xl",animate:{scale:[1,1.2,1],opacity:[.2,.3,.2]},transition:{duration:4,repeat:1/0,ease:"easeInOut"}}),i.jsxs("h2",{className:"text-xl font-bold text-white flex items-center relative z-10",children:[i.jsx("i",{className:"fa-solid fa-book-open mr-2"}),_.title]}),i.jsx(E.button,{className:"text-gray-300 hover:text-white transition-colors duration-300 p-2 rounded-full hover:bg-white/10",onClick:N,whileHover:{scale:1.1},whileTap:{scale:.9},children:i.jsx("i",{className:"fa-solid fa-times text-xl"})})]}),i.jsxs("div",{className:"flex-grow p-6 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-700 scrollbar-track-gray-900",style:{scrollBehavior:"smooth"},children:[i.jsxs(E.div,{className:"text-center mb-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.3},children:[i.jsx("h1",{className:"text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-400 via-blue-400 to-cyan-400 mb-3 drop-shadow-lg",children:_.title}),i.jsx("p",{className:"text-gray-300 max-w-2xl mx-auto",children:_.description})]}),i.jsx(E.div,{className:"flex flex-wrap justify-center gap-4 mb-10",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.5},children:Array.from(new Set(_.content.map(O=>O.character))).map(O=>i.jsxs(E.div,{className:"flex flex-col items-center",whileHover:{scale:1.05,y:-5},transition:{type:"spring",stiffness:300},children:[i.jsxs("div",{className:"w-14 h-14 rounded-full overflow-hidden border-2 border-purple-500 shadow-lg shadow-purple-900/20 mb-2 relative",children:[i.jsx("img",{src:Ux[O],alt:hi[O],className:"w-full h-full object-cover",loading:"lazy"}),i.jsx(E.div,{className:"absolute inset-0 rounded-full bg-gradient-to-r from-purple-500/20 to-blue-500/20",animate:{scale:[1,1.1,1],opacity:[.5,.8,.5]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}})]}),i.jsx("span",{className:`text-sm font-medium ${O==="narrator"?"text-gray-400":`bg-gradient-to-r ${qr[O]} bg-clip-text text-transparent`}`,children:hi[O]})]},O))}),i.jsx("div",{className:"max-w-2xl mx-auto space-y-6",children:_.content.map((O,U)=>i.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.7+U*.1},className:`
                      p-5 rounded-xl border shadow-lg backdrop-blur-sm relative overflow-hidden
                      ${O.character==="narrator"?"bg-gray-800/90 border-gray-700":`bg-gradient-to-br from-purple-900/30 to-blue-900/30 border-${qr[O.character].split(" ")[1].split("-")[0]}-700/60`}
                    `,children:[O.character!=="narrator"&&i.jsx("div",{className:`absolute -left-3 top-1/2 -translate-y-1/2 w-6 h-6 transform rotate-45 
                        ${O.character==="narrator"?"bg-gray-800/90":`bg-gradient-to-br from-purple-900/30 to-blue-900/30 border-l border-t border-${qr[O.character].split(" ")[1].split("-")[0]}-700/60`}
                      `}),i.jsx("div",{className:"absolute inset-0 opacity-10",children:i.jsx("div",{className:"absolute top-0 right-0 w-40 h-40 rounded-full bg-gradient-to-br from-purple-500/30 to-blue-500/30 blur-3xl"})}),O.character!=="narrator"&&i.jsx("div",{className:`
                        font-bold text-sm mb-2 inline-block px-3 py-1 rounded-full relative z-10
                        ${O.character==="narrator"?"text-gray-400 bg-gray-700/50":`bg-gradient-to-r ${qr[O.character]} bg-clip-text text-transparent bg-gray-800/70`}
                      `,children:hi[O.character]}),i.jsx("p",{className:`leading-relaxed ${O.character==="narrator"?"text-gray-300 italic":"text-white"} relative z-10`,children:O.text}),O.character!=="narrator"&&O.emotion&&i.jsxs("div",{className:`mt-2 text-xs inline-block px-2 py-1 rounded-full bg-opacity-30 relative z-10
                        ${O.emotion==="happy"?"bg-yellow-500 text-yellow-200":O.emotion==="sad"?"bg-blue-500 text-blue-200":O.emotion==="angry"?"bg-red-500 text-red-200":O.emotion==="surprised"?"bg-purple-500 text-purple-200":"bg-gray-500 text-gray-200"}
                      `,children:[O.emotion==="happy"&&"😊 开心",O.emotion==="sad"&&"😢 难过",O.emotion==="angry"&&"😠 愤怒",O.emotion==="surprised"&&"😮 惊讶",O.emotion==="calm"&&"😌 平静"]})]},O.id))}),A>=_.content.length-1&&i.jsxs(E.div,{className:"mt-10 text-center",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5,delay:1},children:[i.jsx("div",{className:"inline-block p-4 bg-gradient-to-r from-green-600 to-green-400 rounded-full mb-3 shadow-lg shadow-green-500/30",children:i.jsx("i",{className:"fa-solid fa-check text-2xl text-white"})}),i.jsx("p",{className:"text-lg font-bold text-green-400",children:"恭喜您完成了这个章节！"}),i.jsx("p",{className:"text-gray-400 mt-2",children:"下一个章节已经解锁，继续探索光明与暗影的故事吧！"})]})]}),i.jsxs("div",{className:"bg-gray-900 p-4 border-t border-gray-800",children:[i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsx("span",{className:"text-gray-400 text-sm",children:"阅读进度"}),i.jsxs("span",{className:"text-gray-300 text-sm",children:[Math.round(A/_.content.length*100),"%"]})]}),i.jsx("div",{className:"w-full bg-gray-800 rounded-full h-2 overflow-hidden",children:i.jsx(E.div,{className:"bg-gradient-to-r from-purple-600 to-blue-600 h-full rounded-full relative",initial:{width:0},animate:{width:`${A/_.content.length*100}%`},transition:{duration:1,ease:"easeOut"},children:i.jsx(E.div,{className:"absolute inset-y-0 left-0 w-20 bg-white/30 blur-sm",animate:{x:["-20px","100%"],opacity:[0,.7,0]},transition:{repeat:1/0,duration:2,ease:"easeInOut",repeatDelay:1}})})}),i.jsxs("div",{className:"flex justify-center mt-4 gap-4",children:[i.jsxs(E.button,{whileHover:{scale:1.05,backgroundColor:"rgba(75, 85, 99, 0.8)"},whileTap:{scale:.95},className:"bg-gray-800 hover:bg-gray-700 text-gray-300 px-4 py-2 rounded-lg transition-colors duration-300 flex items-center",onClick:()=>{const O=document.querySelector(".max-h-\\[90vh\\] .overflow-y-auto");O&&O.scrollTo({top:0,behavior:"smooth"})},children:[i.jsx("i",{className:"fa-solid fa-arrow-up mr-2"}),"返回顶部"]}),i.jsxs(E.button,{whileHover:{scale:1.05,backgroundColor:"rgba(75, 85, 99, 0.8)"},whileTap:{scale:.95},className:"bg-gray-800 hover:bg-gray-700 text-gray-300 px-4 py-2 rounded-lg transition-colors duration-300 flex items-center",onClick:N,children:[i.jsx("i",{className:"fa-solid fa-times mr-2"}),"关闭"]})]})]})]})]})})};return p?i.jsxs("div",{className:"min-h-screen bg-gray-900 flex flex-col items-center justify-center text-white p-4 relative overflow-hidden",children:[i.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-purple-500/20 rounded-full blur-3xl animate-pulse"}),i.jsx("div",{className:"absolute top-1/4 left-1/4 w-64 h-64 bg-blue-500/20 rounded-full blur-3xl animate-pulse animation-delay-2000"}),i.jsx(E.div,{animate:{rotate:360,scale:[1,1.1,1]},transition:{rotate:{duration:2,repeat:1/0,ease:"linear"},scale:{duration:1.5,repeat:1/0,ease:"easeInOut"}},className:"text-5xl mb-4 relative z-10",children:i.jsx("i",{className:"fa-solid fa-book"})}),i.jsx("h2",{className:"text-2xl font-bold mb-2 relative z-10",children:"正在加载剧情数据..."}),i.jsx("p",{className:"text-gray-400 relative z-10",children:"探索光明与暗影的故事"})]}):i.jsxs("div",{className:`min-h-screen ${e==="light"?"bg-gray-100":"bg-gray-900"} text-gray-900 dark:text-white transition-colors duration-300 p-4 relative overflow-hidden`,children:[i.jsxs("div",{className:"fixed top-0 left-0 right-0 bottom-0 pointer-events-none z-0",children:[i.jsx(E.div,{className:"absolute top-0 right-0 w-1/3 h-1/3 bg-purple-500/5 rounded-full blur-3xl",animate:{scale:[1,1.2,1],x:[0,-20,0],y:[0,-20,0]},transition:{duration:15,repeat:1/0,ease:"easeInOut"}}),i.jsx(E.div,{className:"absolute bottom-0 left-0 w-1/3 h-1/3 bg-blue-500/5 rounded-full blur-3xl",animate:{scale:[1,1.2,1],x:[0,20,0],y:[0,20,0]},transition:{duration:12,repeat:1/0,ease:"easeInOut",delay:1}})]}),i.jsxs("header",{className:"max-w-6xl mx-auto mb-8 relative z-10",children:[i.jsx("div",{className:"absolute top-0 left-0 z-20",children:i.jsx(E.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},className:"bg-gray-800/80 dark:bg-gray-900/80 backdrop-blur-sm p-3 rounded-full border border-gray-700 text-white hover:bg-gray-700 transition-all duration-300 shadow-lg flex items-center justify-center",onClick:()=>window.history.back(),"aria-label":"返回上一页",children:i.jsx("i",{className:"fa-solid fa-arrow-left text-xl"})})}),i.jsxs(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"flex flex-col items-center justify-center text-center pt-12 pb-4",children:[i.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-32 h-1 bg-gradient-to-r from-purple-500 to-blue-500 rounded-full"}),i.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4 bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent",children:"光明与暗影的故事"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400 max-w-2xl",children:"探索光明大陆与暗影世界之间的史诗传说，了解这场永恒之战的起源与未来。"}),i.jsxs("div",{className:"mt-8 flex flex-col md:flex-row items-center justify-center gap-6 w-full max-w-2xl",children:[i.jsxs(E.div,{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-xl p-4 shadow-lg w-full md:w-1/2 border border-gray-200 dark:border-gray-700 relative overflow-hidden group",whileHover:{scale:1.02},transition:{type:"spring",stiffness:300},children:[i.jsx(E.div,{className:"absolute -top-10 -right-10 w-32 h-32 bg-purple-500/10 rounded-full blur-2xl",animate:{scale:[1,1.2,1],opacity:[.2,.3,.2]},transition:{duration:4,repeat:1/0,ease:"easeInOut"}}),i.jsx("div",{className:"text-gray-500 dark:text-gray-400 text-sm mb-1 relative z-10",children:"已解锁章节"}),i.jsxs("div",{className:"text-3xl font-bold text-purple-600 dark:text-purple-400 relative z-10",children:[o.length," / ",Rt.length]}),i.jsx("div",{className:"mt-2 w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2 overflow-hidden relative z-10",children:i.jsx(E.div,{initial:{width:0},animate:{width:`${o.length/Rt.length*100}%`},transition:{duration:1,ease:"easeOut"},className:"bg-gradient-to-r from-purple-600 to-blue-600 h-full rounded-full relative",children:i.jsx(E.div,{className:"absolute inset-y-0 left-0 w-10 bg-white/30 blur-sm",animate:{x:["-10px","100%"],opacity:[0,.7,0]},transition:{repeat:1/0,duration:2,ease:"easeInOut",repeatDelay:1}})})})]}),i.jsxs(E.div,{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-xl p-4 shadow-lg w-full md:w-1/2 border border-gray-200 dark:border-gray-700 relative overflow-hidden group",whileHover:{scale:1.02},transition:{type:"spring",stiffness:300},children:[i.jsx(E.div,{className:"absolute -top-10 -right-10 w-32 h-32 bg-blue-500/10 rounded-full blur-2xl",animate:{scale:[1,1.2,1],opacity:[.2,.3,.2]},transition:{duration:4,repeat:1/0,ease:"easeInOut",delay:1}}),i.jsx("div",{className:"text-gray-500 dark:text-gray-400 text-sm mb-1 relative z-10",children:"总阅读进度"}),i.jsxs("div",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400 relative z-10",children:[Math.round(Object.values(u).reduce((_,T,R)=>{const A=Rt[R];return A?_+T/A.content.length:_},0)/Rt.length*100),"%"]}),i.jsx("div",{className:"mt-2 w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2 overflow-hidden relative z-10",children:i.jsx(E.div,{initial:{width:0},animate:{width:`${Object.values(u).reduce((_,T,R)=>{const A=Rt[R];return A?_+T/A.content.length:_},0)/Rt.length*100}%`},transition:{duration:1,ease:"easeOut"},className:"bg-gradient-to-r from-blue-600 to-cyan-600 h-full rounded-full relative",children:i.jsx(E.div,{className:"absolute inset-y-0 left-0 w-10 bg-white/30 blur-sm",animate:{x:["-10px","100%"],opacity:[0,.7,0]},transition:{repeat:1/0,duration:2,ease:"easeInOut",repeatDelay:1,delay:.5}})})})]})]})]})]}),i.jsxs("main",{className:"max-w-6xl mx-auto pb-16 relative z-10",children:[i.jsxs("div",{className:"mb-12",children:[i.jsxs("h2",{className:"text-2xl font-bold mb-6 text-center",children:[i.jsx("i",{className:"fa-solid fa-book-open mr-2 text-purple-400"}),"游戏剧情"]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Rt.map((_,T)=>C(_,T))})]}),i.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.5},className:"mt-12 bg-gradient-to-br from-blue-900/30 to-cyan-900/20 rounded-xl p-6 shadow-xl border border-blue-800/50 relative overflow-hidden group cursor-pointer",onClick:()=>b("/side-stories"),children:[i.jsx(E.div,{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-64 h-64 bg-blue-500/10 rounded-full blur-3xl",animate:{scale:[1,1.2,1],opacity:[.1,.2,.1]},transition:{duration:8,repeat:1/0,ease:"easeInOut"}}),i.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between relative z-10",children:[i.jsxs("div",{className:"flex items-center mb-4 md:mb-0",children:[i.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-r from-blue-600 to-cyan-600 flex items-center justify-center text-white text-2xl mr-4 shadow-lg shadow-blue-900/30",children:i.jsx("i",{className:"fa-solid fa-star"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-white mb-1",children:"探索角色的秘密故事"}),i.jsx("p",{className:"text-gray-300",children:'了解"宿槐的传说"、"清鸢的回忆"等角色背后的故事'})]})]}),i.jsxs(E.div,{className:"bg-white/10 backdrop-blur-md px-6 py-3 rounded-full text-white font-medium flex items-center",whileHover:{scale:1.05},whileTap:{scale:.95},children:["前往番外剧情",i.jsx(E.span,{className:"ml-2",animate:{x:[0,5,0]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"},children:i.jsx("i",{className:"fa-solid fa-arrow-right"})})]})]}),i.jsx("div",{className:"mt-6 grid grid-cols-4 gap-3",children:It.slice(0,4).map((_,T)=>i.jsx(E.div,{className:"w-full aspect-square rounded-lg overflow-hidden border border-blue-500/30 shadow-lg",whileHover:{scale:1.05},initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.7+T*.1},children:i.jsx("img",{src:_.thumbnail,alt:_.title,className:"w-full h-full object-cover",loading:"lazy"})},_.id))}),i.jsxs("div",{className:"mt-4 text-center text-blue-400 text-sm",children:["共 ",It.length," 个角色故事 · 点击查看更多"]})]}),i.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:1},className:"mt-12 bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-xl p-6 shadow-lg border border-gray-200 dark:border-gray-700 relative overflow-hidden",whileHover:{y:-5},children:[i.jsx("div",{className:"absolute top-0 right-0 w-40 h-40 bg-yellow-500/10 rounded-full blur-3xl"}),i.jsxs("h2",{className:"text-xl font-bold mb-4 flex items-center relative z-10",children:[i.jsx("i",{className:"fa-solid fa-lightbulb text-yellow-500 mr-2"}),"阅读提示"]}),i.jsxs("ul",{className:"space-y-3 text-gray-600 dark:text-gray-300 relative z-10",children:[i.jsxs("li",{className:"flex items-start",children:[i.jsx("i",{className:"fa-solid fa-check-circle text-green-500 mr-2 mt-1"}),i.jsx("span",{children:"完成游戏关卡可以解锁新的剧情章节"})]}),i.jsxs("li",{className:"flex items-start",children:[i.jsx("i",{className:"fa-solid fa-check-circle text-green-500 mr-2 mt-1"}),i.jsx("span",{children:"在游戏中收集特殊物品也可能解锁隐藏剧情"})]}),i.jsxs("li",{className:"flex items-start",children:[i.jsx("i",{className:"fa-solid fa-check-circle text-green-500 mr-2 mt-1"}),i.jsx("span",{children:"阅读进度会自动保存，您可以随时继续上次的阅读"})]}),i.jsxs("li",{className:"flex items-start",children:[i.jsx("i",{className:"fa-solid fa-check-circle text-green-500 mr-2 mt-1"}),i.jsx("span",{children:"部分剧情内容可能揭示游戏中的隐藏机制和策略"})]})]})]})]}),i.jsx("footer",{className:"bg-gray-800/90 backdrop-blur-sm text-gray-300 py-6 text-center relative z-10 border-t border-gray-700",children:i.jsx("p",{children:"© 2025 光明与暗影之战 - 探索完整的故事线"})}),t&&M(),i.jsx(dr,{children:h&&i.jsx(E.div,{className:"fixed inset-0 z-40 bg-black/80 backdrop-blur-sm",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:N})})]})},E3=()=>{const{theme:e}=Ta(),[n]=fg(),[t,s]=j.useState(null),[o,c]=j.useState([]),[u,f]=j.useState({}),[h,m]=j.useState(!1),[p,y]=j.useState(!0),[b,v]=j.useState("all"),[k,S]=j.useState(It);j.useEffect(()=>{const A=()=>{const U=Il();c(U);const ae={};It.forEach(H=>{const le=`side_story_progress_${H.id}`,je=localStorage.getItem(le);je?ae[H.id]=parseInt(je):ae[H.id]=0}),f(ae),y(!1)};A();const O=U=>{U.key&&U.key.startsWith("side_story_progress_")&&A()};return window.addEventListener("storage",O),()=>window.removeEventListener("storage",O)},[]),j.useEffect(()=>{S(b==="all"?It:It.filter(A=>A.characterType===b))},[b]);const N=A=>o.includes(A),C=A=>{const O=It.find(le=>le.id===A);if(!O)return 0;const U=`side_story_progress_${A}`,ae=localStorage.getItem(U),H=ae?parseInt(ae):0;return Math.round(H/O.content.length*100)},M=A=>{N(A)&&(s(A),m(!0))};j.useEffect(()=>{const A=n.get("storyId"),O=n.get("isSideStory")==="true";A&&O&&Il().includes(A)&&(s(A),m(!0))},[n]);const _=()=>{s(null),m(!1)},T=(A,O)=>{const U=N(A.id),ae=C(A.id),H=ae>0;return i.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:O*.1},className:`
          relative overflow-hidden rounded-xl cursor-pointer transition-all duration-300
          ${U?"bg-gradient-to-br from-blue-900/30 to-cyan-900/20 hover:shadow-xl hover:shadow-blue-900/20 border border-blue-800/50 group":"bg-gray-800/50 border border-gray-700 opacity-60"}
        `,onClick:()=>M(A.id),whileHover:U?{scale:1.02}:void 0,whileTap:U?{scale:.98}:void 0,children:[i.jsx("div",{className:`absolute top-4 left-4 z-10 text-xs font-bold px-2 py-1 rounded-full ${A.characterType==="plant"?"bg-green-600 text-white":"bg-red-600 text-white"} shadow-md flex items-center`,children:A.characterType==="plant"?i.jsxs(i.Fragment,{children:[i.jsx("i",{className:"fa-solid fa-leaf mr-1"}),"植物角色"]}):i.jsxs(i.Fragment,{children:[i.jsx("i",{className:"fa-solid fa-ghost mr-1"}),"僵尸角色"]})}),i.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-40 h-40 bg-blue-500/10 rounded-full blur-3xl z-0"}),i.jsxs("div",{className:"h-48 overflow-hidden relative",children:[i.jsx("img",{src:A.thumbnail,alt:A.title,className:"w-full h-full object-cover transition-transform duration-700 ease-in-out group-hover:scale-110 z-10 relative",loading:"lazy"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-black/70 to-transparent z-20"}),i.jsxs("div",{className:"absolute bottom-4 left-4 right-4 z-30",children:[i.jsx(E.h3,{className:"text-xl font-bold text-white drop-shadow-lg",initial:{y:10,opacity:0},whileHover:{y:0,opacity:1},transition:{duration:.3},children:A.title}),i.jsx(E.p,{className:"text-gray-300 text-sm mt-1 line-clamp-1",initial:{y:10,opacity:0},whileHover:{y:0,opacity:1},transition:{duration:.3,delay:.1},children:A.description})]}),!U&&i.jsx(E.div,{className:"absolute top-4 right-4 bg-black/70 p-2 rounded-full text-white z-30",animate:{rotate:[0,10,-10,10,0]},transition:{duration:2,repeat:1/0,repeatDelay:3},children:i.jsx("i",{className:"fa-solid fa-lock"})}),H&&i.jsxs("div",{className:"absolute top-4 right-4 bg-black/70 px-3 py-1 rounded-full text-white text-sm flex items-center z-30",children:[i.jsx("i",{className:"fa-solid fa-book-open mr-1"}),ae,"%"]}),U&&i.jsx(E.div,{className:"absolute inset-0 flex items-center justify-center z-20 opacity-0 group-hover:opacity-100 transition-opacity duration-300",initial:{scale:.8},whileHover:{scale:1},transition:{type:"spring",stiffness:300},children:i.jsxs("div",{className:"bg-white/10 backdrop-blur-md px-4 py-2 rounded-full text-white text-sm",children:[i.jsx("i",{className:"fa-solid fa-book-open mr-1"})," 查看角色故事"]})})]}),i.jsx("div",{className:"p-4",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-r from-blue-600 to-cyan-600 flex items-center justify-center text-white font-bold mr-2",children:O+1}),i.jsx("span",{className:"text-gray-400 text-sm",children:"角色故事"})]}),i.jsxs("span",{className:"text-gray-400 text-sm flex items-center",children:[i.jsx("i",{className:"fa-regular fa-clock mr-1"}),Math.round(A.content.length*.5),"分钟"]})]})}),U&&i.jsx(E.div,{className:"absolute -bottom-10 -right-10 w-40 h-40 bg-blue-500/10 rounded-full blur-3xl",animate:{scale:[1,1.2,1],opacity:[.1,.2,.1]},transition:{duration:5,repeat:1/0,ease:"easeInOut"}})]},A.id)},R=()=>{if(!t)return null;const A=It.find(H=>H.id===t);if(!A)return null;const O=`side_story_progress_${t}`,U=localStorage.getItem(O),ae=U?parseInt(U):0;return i.jsx(dr,{children:i.jsxs(E.div,{className:"fixed inset-0 z-50 flex items-center justify-center p-4 overflow-hidden",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:_,children:[i.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[i.jsx("img",{src:A.thumbnail,alt:A.title,className:"w-full h-full object-cover object-center brightness-20",loading:"lazy"}),i.jsx(E.div,{className:"absolute inset-0 bg-gradient-to-t from-black via-black/80 to-black/20",animate:{opacity:[.7,.9,.7]},transition:{duration:8,repeat:1/0,ease:"easeInOut"}}),i.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-[2px]"})]}),i.jsxs(E.div,{className:"relative w-full h-full max-w-4xl max-h-[90vh] flex flex-col shadow-2xl bg-gray-900/95 rounded-xl overflow-hidden",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.7},onClick:H=>H.stopPropagation(),children:[i.jsxs("div",{className:"bg-gradient-to-r from-blue-900 to-cyan-900 p-4 flex justify-between items-center border-b border-gray-800 relative overflow-hidden",children:[i.jsx(E.div,{className:"absolute top-0 right-0 w-40 h-40 bg-blue-500/20 rounded-full blur-3xl",animate:{scale:[1,1.2,1],opacity:[.2,.3,.2]},transition:{duration:4,repeat:1/0,ease:"easeInOut"}}),i.jsxs("h2",{className:"text-xl font-bold text-white flex items-center relative z-10",children:[i.jsx("i",{className:"fa-solid fa-star mr-2 text-yellow-400"}),A.title,i.jsx("span",{className:"ml-2 text-xs bg-blue-600/80 text-white px-2 py-0.5 rounded-full",children:"番外"})]}),i.jsx(E.button,{className:"text-gray-300 hover:text-white transition-colors duration-300 p-2 rounded-full hover:bg-white/10",onClick:_,whileHover:{scale:1.1},whileTap:{scale:.9},children:i.jsx("i",{className:"fa-solid fa-times text-xl"})})]}),i.jsxs("div",{className:"flex-grow p-6 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-700 scrollbar-track-gray-900",style:{scrollBehavior:"smooth"},children:[i.jsxs(E.div,{className:"text-center mb-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.3},children:[i.jsxs("h1",{className:"text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-400 via-cyan-400 to-teal-400 mb-3 drop-shadow-lg",children:[A.title,i.jsx("span",{className:"ml-2 text-lg",children:"✨"})]}),i.jsx("p",{className:"text-gray-300 max-w-2xl mx-auto",children:A.description})]}),i.jsx(E.div,{className:"flex flex-wrap justify-center gap-4 mb-10",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.5},children:Array.from(new Set(A.content.map(H=>H.character))).map(H=>i.jsxs(E.div,{className:"flex flex-col items-center",whileHover:{scale:1.05,y:-5},transition:{type:"spring",stiffness:300},children:[i.jsxs("div",{className:"w-14 h-14 rounded-full overflow-hidden border-2 border-blue-500 shadow-lg shadow-blue-900/20 mb-2 relative",children:[i.jsx("img",{src:Ux[H],alt:hi[H],className:"w-full h-full object-cover",loading:"lazy"}),i.jsx(E.div,{className:"absolute inset-0 rounded-full bg-gradient-to-r from-blue-500/20 to-cyan-500/20",animate:{scale:[1,1.1,1],opacity:[.5,.8,.5]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}})]}),i.jsx("span",{className:`text-sm font-medium ${H==="narrator"?"text-gray-400":`bg-gradient-to-r ${qr[H]} bg-clip-text text-transparent`}`,children:hi[H]})]},H))}),i.jsx("div",{className:"max-w-2xl mx-auto space-y-6",children:A.content.map((H,le)=>i.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.7+le*.1},className:`
                      p-5 rounded-xl border shadow-lg backdrop-blur-sm relative overflow-hidden
                      ${H.character==="narrator"?"bg-gray-800/90 border-gray-700":`bg-gradient-to-br from-blue-900/30 to-cyan-900/30 border-${qr[H.character].split(" ")[1].split("-")[0]}-700/60`}
                    `,children:[H.character!=="narrator"&&i.jsx("div",{className:`absolute -left-3 top-1/2 -translate-y-1/2 w-6 h-6 transform rotate-45 
                        ${H.character==="narrator"?"bg-gray-800/90":`bg-gradient-to-br from-blue-900/30 to-cyan-900/30 border-l border-t border-${qr[H.character].split(" ")[1].split("-")[0]}-700/60`}
                      `}),i.jsx("div",{className:"absolute inset-0 opacity-10",children:i.jsx("div",{className:"absolute top-0 right-0 w-40 h-40 rounded-full bg-gradient-to-br from-blue-500/30 to-cyan-500/30 blur-3xl"})}),H.character!=="narrator"&&i.jsx("div",{className:`
                        font-bold text-sm mb-2 inline-block px-3 py-1 rounded-full relative z-10
                        ${H.character==="narrator"?"text-gray-400 bg-gray-700/50":`bg-gradient-to-r ${qr[H.character]} bg-clip-text text-transparent bg-gray-800/70`}
                      `,children:hi[H.character]}),i.jsx("p",{className:`leading-relaxed ${H.character==="narrator"?"text-gray-300 italic":"text-white"} relative z-10`,children:H.text}),H.character!=="narrator"&&H.emotion&&i.jsxs("div",{className:`mt-2 text-xs inline-block px-2 py-1 rounded-full bg-opacity-30 relative z-10
                        ${H.emotion==="happy"?"bg-yellow-500 text-yellow-200":H.emotion==="sad"?"bg-blue-500 text-blue-200":H.emotion==="angry"?"bg-red-500 text-red-200":H.emotion==="surprised"?"bg-purple-500 text-purple-200":"bg-gray-500 text-gray-200"}
                      `,children:[H.emotion==="happy"&&"😊 开心",H.emotion==="sad"&&"😢 难过",H.emotion==="angry"&&"😠 愤怒",H.emotion==="surprised"&&"😮 惊讶",H.emotion==="calm"&&"😌 平静"]})]},H.id))}),ae>=A.content.length-1&&i.jsxs(E.div,{className:"mt-10 text-center",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5,delay:1},children:[i.jsx("div",{className:"inline-block p-4 bg-gradient-to-r from-green-600 to-green-400 rounded-full mb-3 shadow-lg shadow-green-500/30",children:i.jsx("i",{className:"fa-solid fa-check text-2xl text-white"})}),i.jsx("p",{className:"text-lg font-bold text-green-400",children:"恭喜您完成了这个番外故事！"}),i.jsx("p",{className:"text-gray-400 mt-2",children:"继续探索其他角色的背景故事，了解更多光明与暗影的秘密吧！"})]})]}),i.jsxs("div",{className:"bg-gray-900 p-4 border-t border-gray-800",children:[i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsx("span",{className:"text-gray-400 text-sm",children:"阅读进度"}),i.jsxs("span",{className:"text-gray-300 text-sm",children:[Math.round(ae/A.content.length*100),"%"]})]}),i.jsx("div",{className:"w-full bg-gray-800 rounded-full h-2 overflow-hidden",children:i.jsx(E.div,{className:"bg-gradient-to-r from-blue-600 to-cyan-600 h-full rounded-full relative",initial:{width:0},animate:{width:`${ae/A.content.length*100}%`},transition:{duration:1,ease:"easeOut"},children:i.jsx(E.div,{className:"absolute inset-y-0 left-0 w-20 bg-white/30 blur-sm",animate:{x:["-20px","100%"],opacity:[0,.7,0]},transition:{repeat:1/0,duration:2,ease:"easeInOut",repeatDelay:1}})})}),i.jsxs("div",{className:"flex justify-center mt-4 gap-4",children:[i.jsxs(E.button,{whileHover:{scale:1.05,backgroundColor:"rgba(75, 85, 99, 0.8)"},whileTap:{scale:.95},className:"bg-gray-800 hover:bg-gray-700 text-gray-300 px-4 py-2 rounded-lg transition-colors duration-300 flex items-center",onClick:()=>{const H=document.querySelector(".max-h-\\[90vh\\] .overflow-y-auto");H&&H.scrollTo({top:0,behavior:"smooth"})},children:[i.jsx("i",{className:"fa-solid fa-arrow-up mr-2"}),"返回顶部"]}),i.jsxs(E.button,{whileHover:{scale:1.05,backgroundColor:"rgba(75, 85, 99, 0.8)"},whileTap:{scale:.95},className:"bg-gray-800 hover:bg-gray-700 text-gray-300 px-4 py-2 rounded-lg transition-colors duration-300 flex items-center",onClick:_,children:[i.jsx("i",{className:"fa-solid fa-times mr-2"}),"关闭"]})]})]})]})]})})};return p?i.jsxs("div",{className:"min-h-screen bg-gray-900 flex flex-col items-center justify-center text-white p-4 relative overflow-hidden",children:[i.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-blue-500/20 rounded-full blur-3xl animate-pulse"}),i.jsx("div",{className:"absolute top-1/4 left-1/4 w-64 h-64 bg-cyan-500/20 rounded-full blur-3xl animate-pulse animation-delay-2000"}),i.jsx(E.div,{animate:{rotate:360,scale:[1,1.1,1]},transition:{rotate:{duration:2,repeat:1/0,ease:"linear"},scale:{duration:1.5,repeat:1/0,ease:"easeInOut"}},className:"text-5xl mb-4 relative z-10",children:i.jsx("i",{className:"fa-solid fa-star"})}),i.jsx("h2",{className:"text-2xl font-bold mb-2 relative z-10",children:"正在加载番外故事..."}),i.jsx("p",{className:"text-gray-400 relative z-10",children:"探索角色背后的秘密"})]}):i.jsxs("div",{className:`min-h-screen ${e==="light"?"bg-gray-100":"bg-gray-900"} text-gray-900 dark:text-white transition-colors duration-300 p-4 relative overflow-hidden`,children:[i.jsxs("div",{className:"fixed top-0 left-0 right-0 bottom-0 pointer-events-none z-0",children:[i.jsx(E.div,{className:"absolute top-0 right-0 w-1/3 h-1/3 bg-blue-500/5 rounded-full blur-3xl",animate:{scale:[1,1.2,1],x:[0,-20,0],y:[0,-20,0]},transition:{duration:15,repeat:1/0,ease:"easeInOut"}}),i.jsx(E.div,{className:"absolute bottom-0 left-0 w-1/3 h-1/3 bg-cyan-500/5 rounded-full blur-3xl",animate:{scale:[1,1.2,1],x:[0,20,0],y:[0,20,0]},transition:{duration:12,repeat:1/0,ease:"easeInOut",delay:1}})]}),i.jsxs("header",{className:"max-w-6xl mx-auto mb-8 relative z-10",children:[i.jsx("div",{className:"absolute top-0 left-0 z-20",children:i.jsx(E.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},className:"bg-gray-800/80 dark:bg-gray-900/80 backdrop-blur-sm p-3 rounded-full border border-gray-700 text-white hover:bg-gray-700 transition-all duration-300 shadow-lg flex items-center justify-center",onClick:()=>window.history.back(),"aria-label":"返回上一页",children:i.jsx("i",{className:"fa-solid fa-arrow-left text-xl"})})}),i.jsxs(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"flex flex-col items-center justify-center text-center pt-12 pb-4",children:[i.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-32 h-1 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-full"}),i.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4 bg-gradient-to-r from-blue-600 to-cyan-600 bg-clip-text text-transparent",children:"角色的秘密故事"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400 max-w-2xl",children:"探索每个角色不为人知的故事，了解他们的过去、情感和动机。这些传说和回忆将帮助你更深入地理解光明与暗影的世界。"}),i.jsxs("div",{className:"mt-8 flex flex-col md:flex-row items-center justify-center gap-6 w-full max-w-2xl",children:[i.jsxs(E.div,{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-xl p-4 shadow-lg w-full md:w-1/2 border border-gray-200 dark:border-gray-700 relative overflow-hidden group",whileHover:{scale:1.02},transition:{type:"spring",stiffness:300},children:[i.jsx(E.div,{className:"absolute -top-10 -right-10 w-32 h-32 bg-blue-500/10 rounded-full blur-2xl",animate:{scale:[1,1.2,1],opacity:[.2,.3,.2]},transition:{duration:4,repeat:1/0,ease:"easeInOut"}}),i.jsx("div",{className:"text-gray-500 dark:text-gray-400 text-sm mb-1 relative z-10",children:"已解锁故事"}),i.jsxs("div",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400 relative z-10",children:[o.filter(A=>A.startsWith("side-")).length," / ",It.length]}),i.jsx("div",{className:"mt-2 w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2 overflow-hidden relative z-10",children:i.jsx(E.div,{initial:{width:0},animate:{width:`${o.filter(A=>A.startsWith("side-")).length/It.length*100}%`},transition:{duration:1,ease:"easeOut"},className:"bg-gradient-to-r from-blue-600 to-cyan-600 h-full rounded-full relative",children:i.jsx(E.div,{className:"absolute inset-y-0 left-0 w-10 bg-white/30 blur-sm",animate:{x:["-10px","100%"],opacity:[0,.7,0]},transition:{repeat:1/0,duration:2,ease:"easeInOut",repeatDelay:1}})})})]}),i.jsxs(E.div,{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-xl p-4 shadow-lg w-full md:w-1/2 border border-gray-200 dark:border-gray-700 relative overflow-hidden group",whileHover:{scale:1.02},transition:{type:"spring",stiffness:300},children:[i.jsx(E.div,{className:"absolute -top-10 -right-10 w-32 h-32 bg-cyan-500/10 rounded-full blur-2xl",animate:{scale:[1,1.2,1],opacity:[.2,.3,.2]},transition:{duration:4,repeat:1/0,ease:"easeInOut",delay:1}}),i.jsx("div",{className:"text-gray-500 dark:text-gray-400 text-sm mb-1 relative z-10",children:"总阅读进度"}),i.jsxs("div",{className:"text-3xl font-bold text-cyan-600 dark:text-cyan-400 relative z-10",children:[Math.round(Object.values(u).reduce((A,O,U)=>{const ae=It[U];return ae?A+O/ae.content.length:A},0)/It.length*100),"%"]}),i.jsx("div",{className:"mt-2 w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2 overflow-hidden relative z-10",children:i.jsx(E.div,{initial:{width:0},animate:{width:`${Object.values(u).reduce((A,O,U)=>{const ae=It[U];return ae?A+O/ae.content.length:A},0)/It.length*100}%`},transition:{duration:1,ease:"easeOut"},className:"bg-gradient-to-r from-cyan-600 to-teal-600 h-full rounded-full relative",children:i.jsx(E.div,{className:"absolute inset-y-0 left-0 w-10 bg-white/30 blur-sm",animate:{x:["-10px","100%"],opacity:[0,.7,0]},transition:{repeat:1/0,duration:2,ease:"easeInOut",repeatDelay:1,delay:.5}})})})]})]})]})]}),i.jsxs("main",{className:"max-w-6xl mx-auto pb-16 relative z-10",children:[i.jsxs("div",{className:"flex flex-wrap gap-2 mb-6",children:[i.jsx("button",{className:`px-4 py-2 rounded-full text-sm font-medium transition-colors duration-200 ${b==="all"?"bg-gray-800 text-white":"bg-gray-800/50 text-gray-400 hover:bg-gray-800 hover:text-white"}`,onClick:()=>v("all"),children:"全部角色"}),i.jsxs("button",{className:`px-4 py-2 rounded-full text-sm font-medium transition-colors duration-200 ${b==="plant"?"bg-green-900/50 text-green-400":"bg-green-900/20 text-green-400/70 hover:bg-green-900/50 hover:text-green-400"}`,onClick:()=>v("plant"),children:[i.jsx("i",{className:"fa-solid fa-seedling mr-1"}),"植物角色"]}),i.jsxs("button",{className:`px-4 py-2 rounded-full text-sm font-medium transition-colors duration-200 ${b==="zombie"?"bg-red-900/50 text-red-400":"bg-red-900/20 text-red-400/70 hover:bg-red-900/50 hover:text-red-400"}`,onClick:()=>v("zombie"),children:[i.jsx("i",{className:"fa-solid fa-skull mr-1"}),"僵尸角色"]})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:k.map((A,O)=>T(A,O))}),i.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:1},className:"mt-12 bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-xl p-6 shadow-lg border border-gray-200 dark:border-gray-700 relative overflow-hidden",whileHover:{y:-5},children:[i.jsx("div",{className:"absolute top-0 right-0 w-40 h-40 bg-yellow-500/10 rounded-full blur-3xl"}),i.jsxs("h2",{className:"text-xl font-bold mb-4 flex items-center relative z-10",children:[i.jsx("i",{className:"fa-solid fa-lightbulb text-yellow-500 mr-2"}),"阅读提示"]}),i.jsxs("ul",{className:"space-y-3 text-gray-600 dark:text-gray-300 relative z-10",children:[i.jsxs("li",{className:"flex items-start",children:[i.jsx("i",{className:"fa-solid fa-check-circle text-green-500 mr-2 mt-1"}),i.jsx("span",{children:"完成游戏关卡可以解锁新的角色故事"})]}),i.jsxs("li",{className:"flex items-start",children:[i.jsx("i",{className:"fa-solid fa-check-circle text-green-500 mr-2 mt-1"}),i.jsx("span",{children:"在游戏中收集特殊物品也可能解锁隐藏故事"})]}),i.jsxs("li",{className:"flex items-start",children:[i.jsx("i",{className:"fa-solid fa-check-circle text-green-500 mr-2 mt-1"}),i.jsx("span",{children:"阅读进度会自动保存，您可以随时继续上次的阅读"})]}),i.jsxs("li",{className:"flex items-start",children:[i.jsx("i",{className:"fa-solid fa-check-circle text-green-500 mr-2 mt-1"}),i.jsx("span",{children:"角色故事可能揭示游戏中的隐藏机制和策略"})]})]})]})]}),i.jsx("footer",{className:"bg-gray-800/90 backdrop-blur-sm text-gray-300 py-6 text-center relative z-10 border-t border-gray-700",children:i.jsx("p",{children:"© 2025 光明与暗影之战 - 探索角色背后的故事"})}),t&&R(),i.jsx(dr,{children:h&&i.jsx(E.div,{className:"fixed inset-0 z-40 bg-black/80 backdrop-blur-sm",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:_})})]})},M3=()=>{const{theme:e}=Ta(),n=Kn(),t=[{id:"major-events",title:"重大事件时间线",description:"跟随时间脉络，探索光明与暗影之战的关键转折点，见证历史上那些改变世界命运的重要时刻",icon:"fa-landmark",color:"from-blue-600 to-indigo-600",accentColor:"text-blue-400",bgColor:"bg-blue-900/20",borderColor:"border-blue-800/50"},{id:"introduction",title:"世界设定探索",description:"深入了解游戏世界的完整设定、各势力背景、角色关系和丰富的世界观体系",icon:"fa-book-open",color:"from-purple-600 to-pink-600",accentColor:"text-purple-400",bgColor:"bg-purple-900/20",borderColor:"border-purple-800/50"}],s=o=>{n(`/story-branch/${o}`)};return i.jsxs("div",{className:`min-h-screen ${e==="light"?"bg-gray-100":"bg-gray-900"} text-gray-900 dark:text-white transition-colors duration-300 p-4 relative overflow-hidden`,children:[i.jsxs("div",{className:"fixed top-0 left-0 right-0 bottom-0 pointer-events-none z-0",children:[i.jsx(E.div,{className:"absolute top-1/4 right-1/4 w-1/3 h-1/3 bg-purple-500/5 rounded-full blur-3xl",animate:{scale:[1,1.2,1],x:[0,-20,0],y:[0,-20,0]},transition:{duration:15,repeat:1/0,ease:"easeInOut"}}),i.jsx(E.div,{className:"absolute bottom-1/4 left-1/4 w-1/3 h-1/3 bg-blue-500/5 rounded-full blur-3xl",animate:{scale:[1,1.2,1],x:[0,20,0],y:[0,20,0]},transition:{duration:12,repeat:1/0,ease:"easeInOut",delay:1}})]}),i.jsxs("header",{className:"max-w-6xl mx-auto mb-12 relative z-10",children:[i.jsx("div",{className:"absolute top-0 left-0 z-20",children:i.jsx(E.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},className:"bg-gray-800/80 dark:bg-gray-900/80 backdrop-blur-sm p-3 rounded-full border border-gray-700 text-white hover:bg-gray-700 transition-all duration-300 shadow-lg flex items-center justify-center",onClick:()=>n(-1),"aria-label":"返回上一页",children:i.jsx("i",{className:"fa-solid fa-arrow-left text-xl"})})}),i.jsxs(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"flex flex-col items-center justify-center text-center pt-12 pb-4",children:[i.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-32 h-1 bg-gradient-to-r from-purple-500 to-blue-500 rounded-full"}),i.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4 bg-gradient-to-r from-purple-600 via-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"剧情分支"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400 max-w-2xl",children:"选择一个分支，深入探索光明与暗影之战的精彩故事。了解游戏世界的重大事件和详细设定。"})]})]}),i.jsxs("main",{className:"max-w-6xl mx-auto pb-16 relative z-10",children:[i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:t.map((o,c)=>i.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.7,delay:c*.2},className:`
                relative overflow-hidden rounded-xl cursor-pointer transition-all duration-300
                ${o.bgColor} hover:shadow-xl hover:shadow-blue-900/20 ${o.borderColor} border group
                backdrop-blur-sm hover:-translate-y-1
              `,onClick:()=>s(o.id),whileHover:{scale:1.02},whileTap:{scale:.98},children:[i.jsx(E.div,{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-64 h-64 bg-blue-500/10 rounded-full blur-3xl z-0",animate:{scale:[1,1.2,1],opacity:[.1,.2,.1]},transition:{duration:6,repeat:1/0,ease:"easeInOut"}}),i.jsxs("div",{className:"p-8 relative z-10",children:[i.jsx(E.div,{className:`w-16 h-16 rounded-full bg-gradient-to-br ${o.color} flex items-center justify-center text-white text-2xl mb-6 shadow-lg shadow-blue-900/20`,whileHover:{scale:1.1,rotate:5},transition:{type:"spring",stiffness:400},children:i.jsx("i",{className:`fa-solid ${o.icon}`})}),i.jsxs("h2",{className:"text-2xl font-bold text-white mb-3 relative inline-block",children:[o.title,i.jsx(E.div,{className:"absolute -bottom-1 left-0 right-0 h-0.5 bg-gradient-to-r from-transparent via-blue-500 to-transparent",initial:{width:0},whileInView:{width:"100%"},transition:{duration:.8}})]}),i.jsx("p",{className:"text-gray-300 mb-6 leading-relaxed",children:o.description}),i.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:o.id==="major-events"?i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"px-3 py-1 bg-blue-900/40 text-blue-300 rounded-full text-xs font-medium",children:"时间线展示"}),i.jsx("span",{className:"px-3 py-1 bg-blue-900/40 text-blue-300 rounded-full text-xs font-medium",children:"关键战役"}),i.jsx("span",{className:"px-3 py-1 bg-blue-900/40 text-blue-300 rounded-full text-xs font-medium",children:"历史转折点"})]}):i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"px-3 py-1 bg-purple-900/40 text-purple-300 rounded-full text-xs font-medium",children:"世界观"}),i.jsx("span",{className:"px-3 py-1 bg-purple-900/40 text-purple-300 rounded-full text-xs font-medium",children:"角色背景"}),i.jsx("span",{className:"px-3 py-1 bg-purple-900/40 text-purple-300 rounded-full text-xs font-medium",children:"势力介绍"})]})}),i.jsxs(E.div,{className:`inline-flex items-center ${o.accentColor} font-medium group`,whileHover:{x:5},transition:{type:"spring",stiffness:400},children:[i.jsxs("span",{className:"relative overflow-hidden",children:["开始探索",i.jsx(E.span,{className:"absolute inset-0 bg-white/10",initial:{x:"-100%"},whileHover:{x:0},transition:{duration:.3}})]}),i.jsx(E.span,{className:"ml-2",animate:{x:[0,3,0]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"},children:i.jsx("i",{className:"fa-solid fa-arrow-right group-hover:text-white transition-colors duration-300"})})]})]}),i.jsx(E.div,{className:"absolute -bottom-16 -right-16 w-64 h-64 bg-blue-500/10 rounded-full blur-3xl",animate:{scale:[1,1.2,1],opacity:[.1,.2,.1]},transition:{duration:8,repeat:1/0,ease:"easeInOut",delay:1}})]},o.id))}),i.jsxs(E.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.6},className:"mt-16 bg-gray-800/50 dark:bg-gray-900/50 backdrop-blur-sm rounded-xl p-6 border border-gray-700 relative overflow-hidden",children:[i.jsx("div",{className:"absolute top-0 right-0 w-40 h-40 bg-purple-500/10 rounded-full blur-3xl"}),i.jsxs("h2",{className:"text-xl font-bold mb-4 text-white flex items-center relative z-10",children:[i.jsx("i",{className:"fa-solid fa-info-circle text-purple-400 mr-2"}),"探索游戏的深度世界"]}),i.jsx("p",{className:"text-gray-300 mb-4 relative z-10",children:'剧情分支系统为您提供了深入探索游戏世界观的途径。通过"重大事件时间线"，您可以了解光明与暗影之战的历史发展；通过"世界设定探索"，您可以深入了解游戏中的各个角色、势力和地理环境。'}),i.jsx("p",{className:"text-gray-300 relative z-10",children:"我们会持续更新剧情内容，随着游戏的推进和新角色的加入，您将能够探索更多隐藏的故事和秘密。完成特定任务还可能解锁独家的限定剧情内容。"})]})]}),i.jsx("footer",{className:"bg-gray-800/90 backdrop-blur-sm text-gray-300 py-6 text-center relative z-10 border-t border-gray-700",children:i.jsx("p",{children:"© 2025 光明与暗影之战 - 探索完整的故事线"})})]})},A3=()=>{const{theme:e}=Ta(),n=Kn(),[t,s]=j.useState("all"),o=[{id:"event-1",title:"光明大陆的诞生",time:"创世之初",description:"在宇宙诞生的混沌之中，两股强大的力量相互交织——光明与暗影。它们既相互对立，又相互依存，共同维持着宇宙的平衡。在这两股力量的交汇处，诞生了一片美丽的世界——光明大陆。",importance:"high",icon:"fa-globe"},{id:"event-2",title:"守护者的出现",time:"远古时代",description:"光明大陆诞生的同时，从世界本源之力中自然孕育出了两位守护者——清鸢与宿槐。她们本为同源一体，如同双生姐妹，清鸢代表着光明与生命，宿槐代表着自然与平衡。",importance:"high",icon:"fa-user-shield"},{id:"event-3",title:"人类文明的崛起",time:"古代时期",description:"随着时间的推移，人类文明逐渐发展壮大。他们开始在光明大陆上建立自己的家园，发展出独特的文化和魔法体系。人类与自然和谐相处，受到守护者的祝福。",importance:"medium",icon:"fa-city"},{id:"event-4",title:"环境失衡与宿槐的质疑",time:"近代早期",description:"人类开始过度开发自然，砍伐森林，污染河流，破坏了大陆的生态平衡。宿槐对此感到无比痛心，多次向人类发出警告，但都被置若罔闻。她开始质疑自己守护人类的意义。",importance:"high",icon:"fa-exclamation-triangle"},{id:"event-5",title:"宿槐的堕落",time:"近代中期",description:"在无尽的痛苦与愤怒中，宿槐的内心逐渐被黑暗所吞噬。她改名为宿槐，决心用自己的方式守护这个世界——即使那意味着要与姐姐为敌。宿槐成为了暗影女王，率领着暗影大军开始了对光明大陆的入侵。",importance:"high",icon:"fa-ghost"},{id:"event-6",title:"徐清岚的到来",time:"现代初期",description:"来自异世界的魔法少女徐清岚，在古老的魔法阵中启动了传送咒语，穿越到了光明大陆。她的到来为这场光暗之战带来了新的变数。",importance:"high",icon:"fa-wand-magic-sparkles"},{id:"event-7",title:"善•猫教主的救赎",time:"现代中期",description:"清鸢用光明之力净化了被黑暗侵蚀的小猫，赋予它全新的生命形态。重生后的小猫获得了更加强大的光明之力，它决定用这份力量来弥补自己过去的过错，成为了善•猫教主。",importance:"medium",icon:"fa-cat"},{id:"event-8",title:"星界之门的危机",time:"现代后期",description:"在季灾的精心策划下，徐清岚（暗）带着暗影大军突然出现在星界山顶，发动了对青玄的突袭。尽管青玄展现出了惊人的实力，但最终还是因为寡不敌众而坠落，星界之门的平衡被打破。",importance:"high",icon:"fa-gate-open"},{id:"event-9",title:"徐清岚的觉醒",time:"当代",description:"在与宿槐的最终决战中，徐清岚为了保护清鸢和善•猫教主，激发了体内沉睡的星界之力，完成了前所未有的神化觉醒。神化后的徐清岚获得了无与伦比的力量，成为了对抗暗影的关键。",importance:"high",icon:"fa-star"},{id:"event-10",title:"明渊的秘密",time:"当代",description:'在光明大陆的最边缘，有一个被称为"明渊"的神秘地方。这里是光明与暗影的交汇之处，也是通往星界之门的最后关键。一个名为慕容言风的神秘人类居住在这里，他的存在为光暗之战增添了更多变数。',importance:"medium",icon:"fa-mountain"}],c=t==="all"?o:o.filter(h=>h.importance===t),u=h=>{switch(h){case"high":return"bg-red-900/50 text-red-400";case"medium":return"bg-yellow-900/50 text-yellow-400";case"low":return"bg-green-900/50 text-green-400";default:return"bg-gray-700/50 text-gray-400"}},f=h=>{switch(h){case"high":return"bg-red-500 text-white border-red-400";case"medium":return"bg-yellow-500 text-white border-yellow-400";case"low":return"bg-green-500 text-white border-green-400";default:return"bg-gray-500 text-white border-gray-400"}};return i.jsxs("div",{className:`min-h-screen ${e==="light"?"bg-gray-100":"bg-gray-900"} text-gray-900 dark:text-white transition-colors duration-300 p-4 relative overflow-hidden`,children:[i.jsxs("div",{className:"fixed top-0 left-0 right-0 bottom-0 pointer-events-none z-0",children:[i.jsx(E.div,{className:"absolute top-1/4 right-1/4 w-1/3 h-1/3 bg-blue-500/5 rounded-full blur-3xl",animate:{scale:[1,1.2,1],x:[0,-20,0],y:[0,-20,0]},transition:{duration:15,repeat:1/0,ease:"easeInOut"}}),i.jsx(E.div,{className:"absolute bottom-1/4 left-1/4 w-1/3 h-1/3 bg-indigo-500/5 rounded-full blur-3xl",animate:{scale:[1,1.2,1],x:[0,20,0],y:[0,20,0]},transition:{duration:12,repeat:1/0,ease:"easeInOut",delay:1}})]}),i.jsxs("header",{className:"max-w-6xl mx-auto mb-8 relative z-10",children:[i.jsx("div",{className:"absolute top-0 left-0 z-20",children:i.jsx(E.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},className:"bg-gray-800/80 dark:bg-gray-900/80 backdrop-blur-sm p-3 rounded-full border border-gray-700 text-white hover:bg-gray-700 transition-all duration-300 shadow-lg flex items-center justify-center",onClick:()=>n(-1),"aria-label":"返回上一页",children:i.jsx("i",{className:"fa-solid fa-arrow-left text-xl"})})}),i.jsxs(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"flex flex-col items-center justify-center text-center pt-12 pb-4",children:[i.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-32 h-1 bg-gradient-to-r from-blue-500 to-indigo-500 rounded-full"}),i.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4 bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"重大事件"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400 max-w-2xl",children:"探索游戏中发生的重大事件时间线，了解光明与暗影之战的关键转折点和重要历史事件。"})]})]}),i.jsxs("main",{className:"max-w-6xl mx-auto pb-16 relative z-10",children:[i.jsxs("div",{className:"flex flex-wrap gap-2 mb-8",children:[i.jsx("button",{className:`px-4 py-2 rounded-full text-sm font-medium transition-colors duration-200 ${t==="all"?"bg-gray-800 text-white":"bg-gray-800/50 text-gray-400 hover:bg-gray-800 hover:text-white"}`,onClick:()=>s("all"),children:"所有事件"}),i.jsxs("button",{className:`px-4 py-2 rounded-full text-sm font-medium transition-colors duration-200 ${t==="high"?"bg-red-900/50 text-red-400":"bg-red-900/20 text-red-400/70 hover:bg-red-900/50 hover:text-red-400"}`,onClick:()=>s("high"),children:[i.jsx("i",{className:"fa-solid fa-exclamation-circle mr-1"}),"重要事件"]}),i.jsxs("button",{className:`px-4 py-2 rounded-full text-sm font-medium transition-colors duration-200 ${t==="medium"?"bg-yellow-900/50 text-yellow-400":"bg-yellow-900/20 text-yellow-400/70 hover:bg-yellow-900/50 hover:text-yellow-400"}`,onClick:()=>s("medium"),children:[i.jsx("i",{className:"fa-solid fa-circle-info mr-1"}),"一般事件"]})]}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute left-0 md:left-1/2 top-0 bottom-0 w-0.5 bg-gray-700 transform md:-translate-x-1/2"}),i.jsx("div",{className:"space-y-12",children:c.map((h,m)=>i.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.7,delay:m*.1},className:`relative flex flex-col md:flex-row ${m%2===0?"md:flex-row-reverse":""}`,children:[i.jsx("div",{className:"absolute left-0 md:left-1/2 top-0 transform -translate-y-1/2 md:-translate-x-1/2 z-10",children:i.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${f(h.importance)} border-4 border-gray-800 shadow-lg`,children:i.jsx("i",{className:`fa-solid ${h.icon} text-sm`})})}),i.jsxs("div",{className:`flex-1 md:pr-12 ${m%2===0?"md:text-right md:pr-12 md:pl-0":"md:pl-12 md:pr-0"} mt-6 md:mt-0`,children:[i.jsx("div",{className:`inline-block mb-2 text-xs font-medium px-2 py-0.5 rounded-full ${u(h.importance)}`,children:h.time}),i.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:h.title}),i.jsx("p",{className:"text-gray-300",children:h.description})]}),i.jsx("div",{className:"flex-1"})]},h.id))})]}),i.jsxs(E.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.8},className:"mt-16 bg-gray-800/50 dark:bg-gray-900/50 backdrop-blur-sm rounded-xl p-6 border border-gray-700 relative overflow-hidden",children:[i.jsx("div",{className:"absolute top-0 right-0 w-40 h-40 bg-blue-500/10 rounded-full blur-3xl"}),i.jsxs("h2",{className:"text-xl font-bold mb-4 text-white flex items-center relative z-10",children:[i.jsx("i",{className:"fa-solid fa-map-location-dot text-blue-400 mr-2"}),"光明大陆历史地图"]}),i.jsx("div",{className:"aspect-video bg-gray-900 rounded-lg overflow-hidden relative mb-4",children:i.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:i.jsxs("div",{className:"text-gray-500 text-center p-8",children:[i.jsx("i",{className:"fa-solid fa-map-location-dot text-4xl mb-4"}),i.jsx("p",{children:"光明大陆地图正在加载中..."}),i.jsx("p",{className:"text-sm mt-2",children:"显示重大事件发生的地理位置"})]})})}),i.jsx("p",{className:"text-gray-400 text-sm",children:"此地图展示了光明大陆的主要区域和重大事件发生的地理位置。随着您探索更多剧情，地图将逐渐解锁更多区域和细节。"})]}),i.jsxs(E.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:1},className:"mt-8 bg-gray-800/50 dark:bg-gray-900/50 backdrop-blur-sm rounded-xl p-6 border border-gray-700 relative overflow-hidden",children:[i.jsx("div",{className:"absolute bottom-0 left-0 w-40 h-40 bg-purple-500/10 rounded-full blur-3xl"}),i.jsxs("h2",{className:"text-xl font-bold mb-4 text-white flex items-center relative z-10",children:[i.jsx("i",{className:"fa-solid fa-network-wired text-purple-400 mr-2"}),"主要人物关系"]}),i.jsx("div",{className:"aspect-square md:aspect-video bg-gray-900 rounded-lg overflow-hidden relative",children:i.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:i.jsxs("div",{className:"text-gray-500 text-center p-8",children:[i.jsx("i",{className:"fa-solid fa-users text-4xl mb-4"}),i.jsx("p",{children:"人物关系图正在加载中..."}),i.jsx("p",{className:"text-sm mt-2",children:"展示主要角色之间的关联"})]})})})]})]}),i.jsx("footer",{className:"bg-gray-800/90 backdrop-blur-sm text-gray-300 py-6 text-center relative z-10 border-t border-gray-700",children:i.jsx("p",{children:"© 2025 光明与暗影之战 - 历史大事件"})})]})},I3=()=>{var u,f;const{theme:e}=Ta(),n=Kn(),[t,s]=j.useState("world"),o=[{id:"world",title:"世界观",description:"了解光明大陆与暗影世界的起源、地理环境和生态系统",icon:"fa-globe-asia",color:"from-blue-600 to-cyan-600"},{id:"characters",title:"主要角色",description:"深入了解游戏中重要角色的背景故事和性格特点",icon:"fa-users",color:"from-purple-600 to-pink-600"},{id:"magic",title:"魔法体系",description:"探索游戏中独特的魔法体系和技能设定",icon:"fa-wand-sparkles",color:"from-amber-600 to-orange-600"},{id:"history",description:"了解光明与暗影之间的历史冲突和重要战役",icon:"fa-book",color:"from-green-600 to-teal-600",title:"历史冲突"},{id:"locations",title:"重要地点",description:"探索光明大陆上的关键地点和它们的重要性",icon:"fa-map-marker-alt",color:"from-red-600 to-rose-600"},{id:"organizations",title:"势力组织",description:"了解光明大陆上的各种势力和组织",icon:"fa-landmark",color:"from-indigo-600 to-violet-600"}],c=h=>h===t?"bg-gray-800 text-white":"bg-gray-800/50 text-gray-400 hover:bg-gray-800 hover:text-white";return i.jsxs("div",{className:`min-h-screen ${e==="light"?"bg-gray-100":"bg-gray-900"} text-gray-900 dark:text-white transition-colors duration-300 p-4 relative overflow-hidden`,children:[i.jsxs("div",{className:"fixed top-0 left-0 right-0 bottom-0 pointer-events-none z-0",children:[i.jsx(E.div,{className:"absolute top-1/4 right-1/4 w-1/3 h-1/3 bg-purple-500/5 rounded-full blur-3xl",animate:{scale:[1,1.2,1],x:[0,-20,0],y:[0,-20,0]},transition:{duration:15,repeat:1/0,ease:"easeInOut"}}),i.jsx(E.div,{className:"absolute bottom-1/4 left-1/4 w-1/3 h-1/3 bg-pink-500/5 rounded-full blur-3xl",animate:{scale:[1,1.2,1],x:[0,20,0],y:[0,20,0]},transition:{duration:12,repeat:1/0,ease:"easeInOut",delay:1}})]}),i.jsxs("header",{className:"max-w-6xl mx-auto mb-8 relative z-10",children:[i.jsx("div",{className:"absolute top-0 left-0 z-20",children:i.jsx(E.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},className:"bg-gray-800/80 dark:bg-gray-900/80 backdrop-blur-sm p-3 rounded-full border border-gray-700 text-white hover:bg-gray-700 transition-all duration-300 shadow-lg flex items-center justify-center",onClick:()=>n(-1),"aria-label":"返回上一页",children:i.jsx("i",{className:"fa-solid fa-arrow-left text-xl"})})}),i.jsxs(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"flex flex-col items-center justify-center text-center pt-12 pb-4",children:[i.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-32 h-1 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full"}),i.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4 bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"相关介绍"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400 max-w-2xl",children:"深入了解游戏世界的设定、角色背景和世界观介绍，探索光明与暗影之战的精彩细节。"})]})]}),i.jsxs("main",{className:"max-w-6xl mx-auto pb-16 relative z-10",children:[i.jsx("div",{className:"flex flex-wrap gap-2 mb-8 overflow-x-auto pb-2 scrollbar-thin scrollbar-thumb-gray-700 scrollbar-track-transparent",children:o.map(h=>i.jsxs(E.button,{className:`px-4 py-2 rounded-full text-sm font-medium transition-colors duration-200 ${c(h.id)}`,onClick:()=>s(h.id),whileHover:{scale:1.05},whileTap:{scale:.95},children:[i.jsx("i",{className:`fa-solid ${h.icon} mr-1.5`}),h.title]},h.id))}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[i.jsxs(E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.7},className:"bg-gray-800/50 dark:bg-gray-900/50 backdrop-blur-sm rounded-xl p-6 border border-gray-700 relative overflow-hidden h-full",children:[i.jsx("div",{className:"absolute -top-20 -right-20 w-64 h-64 bg-purple-500/10 rounded-full blur-3xl"}),i.jsx("h2",{className:"text-2xl font-bold text-white mb-4 relative z-10 flex items-center",children:o.find(h=>h.id===t)&&i.jsxs(i.Fragment,{children:[i.jsx("i",{className:`fa-solid ${(u=o.find(h=>h.id===t))==null?void 0:u.icon} text-purple-400 mr-2`}),(f=o.find(h=>h.id===t))==null?void 0:f.title]})}),i.jsxs("div",{className:"space-y-4 relative z-10",children:[t==="world"&&i.jsxs(i.Fragment,{children:[i.jsx("h3",{className:"text-xl font-semibold text-purple-400",children:"世界起源"}),i.jsx("p",{className:"text-gray-300",children:"在宇宙诞生的混沌之中，两股强大的力量相互交织——光明与暗影。它们既相互对立，又相互依存，共同维持着宇宙的平衡。在这两股力量的交汇处，诞生了一片美丽的世界——光明大陆。"}),i.jsx("h3",{className:"text-xl font-semibold text-purple-400 mt-6",children:"地理环境"}),i.jsx("p",{className:"text-gray-300",children:"光明大陆由多个不同的区域组成，包括茂密的精灵森林、广阔的人类王国、神秘的星界山脉、危险的暗影边界等。每个区域都有其独特的生态系统和居民。"}),i.jsx("h3",{className:"text-xl font-semibold text-purple-400 mt-6",children:"生态系统"}),i.jsx("p",{className:"text-gray-300",children:"光明大陆的生态系统丰富多样，包括各种神奇的植物和生物。这些生物与环境和谐共生，形成了复杂而稳定的生态链。然而，随着暗影力量的侵蚀，这一平衡正在被打破。"})]}),t==="characters"&&i.jsxs(i.Fragment,{children:[i.jsx("h3",{className:"text-xl font-semibold text-purple-400",children:"主要角色介绍"}),i.jsx("p",{className:"text-gray-300",children:"光明与暗影之战中涌现出许多重要角色，他们各自有着独特的背景故事和动机。清鸢代表着光明与生命，宿槐代表着自然与平衡（后来堕落为暗影女王），徐清岚是来自异世界的魔法少女，还有善•猫教主、青玄、慕容言风等众多角色。"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[i.jsxs("div",{className:"bg-gray-900/80 p-4 rounded-lg border border-gray-700",children:[i.jsx("div",{className:"text-lg font-semibold text-pink-400 mb-2",children:"清鸢"}),i.jsx("p",{className:"text-sm text-gray-400",children:"光明大陆的守护者，代表光明与生命的力量。她温柔善良，始终相信生命的美好。"})]}),i.jsxs("div",{className:"bg-gray-900/80 p-4 rounded-lg border border-gray-700",children:[i.jsx("div",{className:"text-lg font-semibold text-red-400 mb-2",children:"宿槐"}),i.jsx("p",{className:"text-sm text-gray-400",children:"曾经是清鸢的妹妹，现在的暗影女王。她对人类失望，决心用自己的方式守护世界。"})]}),i.jsxs("div",{className:"bg-gray-900/80 p-4 rounded-lg border border-gray-700",children:[i.jsx("div",{className:"text-lg font-semibold text-purple-400 mb-2",children:"徐清岚"}),i.jsx("p",{className:"text-sm text-gray-400",children:"来自异世界的魔法少女，拥有强大的魔法天赋。她的到来为光暗之战带来了新的变数。"})]}),i.jsxs("div",{className:"bg-gray-900/80 p-4 rounded-lg border border-gray-700",children:[i.jsx("div",{className:"text-lg font-semibold text-blue-400 mb-2",children:"善•猫教主"}),i.jsx("p",{className:"text-sm text-gray-400",children:"被清鸢净化的小猫，获得了光明之力。它决定用这份力量来弥补自己过去的过错。"})]})]})]}),t==="magic"&&i.jsxs(i.Fragment,{children:[i.jsx("h3",{className:"text-xl font-semibold text-purple-400",children:"魔法体系"}),i.jsx("p",{className:"text-gray-300",children:"光明大陆的魔法体系主要分为光明魔法、暗影魔法、自然魔法和元素魔法四大类。每种魔法都有其独特的特点和用途。"}),i.jsx("h3",{className:"text-xl font-semibold text-purple-400 mt-6",children:"光明魔法"}),i.jsx("p",{className:"text-gray-300",children:"光明魔法是最纯净的魔法能量，主要用于治疗、净化和保护。清鸢是光明魔法的代表人物。"}),i.jsx("h3",{className:"text-xl font-semibold text-purple-400 mt-6",children:"暗影魔法"}),i.jsx("p",{className:"text-gray-300",children:"暗影魔法是黑暗的能量，主要用于破坏、腐蚀和控制。宿槐是暗影魔法的代表人物。"}),i.jsx("h3",{className:"text-xl font-semibold text-purple-400 mt-6",children:"自然魔法"}),i.jsx("p",{className:"text-gray-300",children:"自然魔法是与自然力量共鸣的魔法，主要用于操控植物、动物和天气。"}),i.jsx("h3",{className:"text-xl font-semibold text-purple-400 mt-6",children:"元素魔法"}),i.jsx("p",{className:"text-gray-300",children:"元素魔法是操控基本元素（火、水、风、土）的魔法，具有强大的攻击力和防御力。"})]}),t==="history"&&i.jsxs(i.Fragment,{children:[i.jsx("h3",{className:"text-xl font-semibold text-purple-400",children:"历史冲突"}),i.jsx("p",{className:"text-gray-300",children:"光明与暗影之间的冲突由来已久。从最初的平衡共存，到后来的对立冲突，这段历史充满了曲折和悲剧。"}),i.jsx("h3",{className:"text-xl font-semibold text-purple-400 mt-6",children:"早期平衡"}),i.jsx("p",{className:"text-gray-300",children:"在远古时代，光明与暗影力量保持着相对平衡的状态。清鸢和宿槐作为守护者，共同维护着光明大陆的和平与繁荣。"}),i.jsx("h3",{className:"text-xl font-semibold text-purple-400 mt-6",children:"人类的崛起"}),i.jsx("p",{className:"text-gray-300",children:"随着人类文明的发展，他们开始过度开发自然，破坏了大陆的生态平衡。这引起了宿槐的不满和愤怒。"}),i.jsx("h3",{className:"text-xl font-semibold text-purple-400 mt-6",children:"宿槐的堕落"}),i.jsx("p",{className:"text-gray-300",children:"在无尽的痛苦与愤怒中，宿槐的内心逐渐被黑暗所吞噬。她成为了暗影女王，率领着暗影大军开始了对光明大陆的入侵。"}),i.jsx("h3",{className:"text-xl font-semibold text-purple-400 mt-6",children:"现代战争"}),i.jsx("p",{className:"text-gray-300",children:"当前的光暗之战已经持续了数百年，双方互有胜负。徐清岚的到来为这场战争带来了新的希望。"})]}),t==="locations"&&i.jsxs(i.Fragment,{children:[i.jsx("h3",{className:"text-xl font-semibold text-purple-400",children:"重要地点"}),i.jsx("p",{className:"text-gray-300",children:"光明大陆上有许多重要的地点，它们在光暗之战中发挥着关键作用。"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[i.jsxs("div",{className:"bg-gray-900/80 p-4 rounded-lg border border-gray-700",children:[i.jsx("div",{className:"text-lg font-semibold text-green-400 mb-2",children:"精灵森林"}),i.jsx("p",{className:"text-sm text-gray-400",children:"清鸢和宿槐的诞生地，也是自然魔法最强大的地方。"})]}),i.jsxs("div",{className:"bg-gray-900/80 p-4 rounded-lg border border-gray-700",children:[i.jsx("div",{className:"text-lg font-semibold text-red-400 mb-2",children:"暗影边界"}),i.jsx("p",{className:"text-sm text-gray-400",children:"光明大陆与暗影世界的交界处，是暗影大军入侵的主要通道。"})]}),i.jsxs("div",{className:"bg-gray-900/80 p-4 rounded-lg border border-gray-700",children:[i.jsx("div",{className:"text-lg font-semibold text-blue-400 mb-2",children:"星界山脉"}),i.jsx("p",{className:"text-sm text-gray-400",children:"光明大陆最高的山脉，山顶有通往星界之门的入口。"})]}),i.jsxs("div",{className:"bg-gray-900/80 p-4 rounded-lg border border-gray-700",children:[i.jsx("div",{className:"text-lg font-semibold text-purple-400 mb-2",children:"明渊"}),i.jsx("p",{className:"text-sm text-gray-400",children:"光明大陆的边缘地带，是光明与暗影的交汇之处，住着神秘的慕容言风。"})]})]})]}),t==="organizations"&&i.jsxs(i.Fragment,{children:[i.jsx("h3",{className:"text-xl font-semibold text-purple-400",children:"势力组织"}),i.jsx("p",{className:"text-gray-300",children:"光明大陆上存在着许多不同的势力和组织，它们在光暗之战中扮演着不同的角色。"}),i.jsxs("div",{className:"space-y-4 mt-4",children:[i.jsxs("div",{className:"bg-gray-900/80 p-4 rounded-lg border border-gray-700",children:[i.jsx("div",{className:"text-lg font-semibold text-blue-400 mb-2",children:"光明守护者"}),i.jsx("p",{className:"text-sm text-gray-400",children:"由清鸢领导的组织，致力于保护光明大陆免受暗影力量的侵蚀。成员包括各种光明生物和正义的人类。"})]}),i.jsxs("div",{className:"bg-gray-900/80 p-4 rounded-lg border border-gray-700",children:[i.jsx("div",{className:"text-lg font-semibold text-red-400 mb-2",children:"暗影军团"}),i.jsx("p",{className:"text-sm text-gray-400",children:"由宿槐领导的黑暗军队，由各种被暗影侵蚀的生物组成。他们的目标是将整个光明大陆置于暗影的统治之下。"})]}),i.jsxs("div",{className:"bg-gray-900/80 p-4 rounded-lg border border-gray-700",children:[i.jsx("div",{className:"text-lg font-semibold text-yellow-400 mb-2",children:"人类王国"}),i.jsx("p",{className:"text-sm text-gray-400",children:"光明大陆上的人类城邦联盟，在光暗之战中保持中立，但近年来逐渐倾向于支持光明守护者。"})]}),i.jsxs("div",{className:"bg-gray-900/80 p-4 rounded-lg border border-gray-700",children:[i.jsx("div",{className:"text-lg font-semibold text-green-400 mb-2",children:"精灵议会"}),i.jsx("p",{className:"text-sm text-gray-400",children:"由森林精灵组成的古老组织，负责守护精灵森林和自然平衡。"})]})]})]})]})]}),i.jsxs(E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.7,delay:.2},className:"space-y-8",children:[i.jsxs("div",{className:"bg-gray-800/50 dark:bg-gray-900/50 backdrop-blur-sm rounded-xl p-6 border border-gray-700 relative overflow-hidden",children:[i.jsx("div",{className:"absolute -bottom-20 -left-20 w-64 h-64 bg-pink-500/10 rounded-full blur-3xl"}),i.jsxs("h2",{className:"text-xl font-bold text-white mb-4 relative z-10 flex items-center",children:[i.jsx("i",{className:"fa-solid fa-images text-pink-400 mr-2"}),"相关视觉"]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 relative z-10",children:[i.jsx("div",{className:"rounded-lg overflow-hidden aspect-square",children:i.jsx("img",{src:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=ancient%20fantasy%20world%20landscape%20anime%20style%20beautiful%20nature%20scenery%20forest%20mountain%20castle&sign=2e82ef7c0872d4bf587b6a613077879d",alt:"光明大陆风景",className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300",loading:"lazy"})}),i.jsx("div",{className:"rounded-lg overflow-hidden aspect-square",children:i.jsx("img",{src:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=dark%20fantasy%20world%20shadow%20landscape%20anime%20style%20mystical%20atmosphere%20gloomy%20forest%20purple%20sky&sign=1e950066114357cbc3cb5c156e0f0635",alt:"暗影世界",className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300",loading:"lazy"})})]})]}),i.jsxs("div",{className:"bg-gray-800/50 dark:bg-gray-900/50 backdrop-blur-sm rounded-xl p-6 border border-gray-700 relative overflow-hidden",children:[i.jsx("div",{className:"absolute -top-20 -right-20 w-64 h-64 bg-purple-500/10 rounded-full blur-3xl"}),i.jsxs("h2",{className:"text-xl font-bold text-white mb-4 relative z-10 flex items-center",children:[i.jsx("i",{className:"fa-solid fa-user-friends text-purple-400 mr-2"}),"主要角色快速链接"]}),i.jsxs("div",{className:"space-y-3 relative z-10",children:[i.jsxs("div",{className:"flex items-center p-3 rounded-lg bg-gray-900/80 border border-gray-700 hover:border-purple-700 transition-colors duration-200",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-900 flex items-center justify-center text-blue-400 mr-3",children:i.jsx("i",{className:"fa-solid fa-user-shield"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"text-white font-medium",children:"清鸢"}),i.jsx("div",{className:"text-xs text-gray-400",children:"光明守护者"})]}),i.jsx("button",{className:"text-purple-400 hover:text-purple-300",children:i.jsx("i",{className:"fa-solid fa-arrow-right"})})]}),i.jsxs("div",{className:"flex items-center p-3 rounded-lg bg-gray-900/80 border border-gray-700 hover:border-red-700 transition-colors duration-200",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-red-900 flex items-center justify-center text-red-400 mr-3",children:i.jsx("i",{className:"fa-solid fa-ghost"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"text-white font-medium",children:"宿槐"}),i.jsx("div",{className:"text-xs text-gray-400",children:"暗影女王"})]}),i.jsx("button",{className:"text-purple-400 hover:text-purple-300",children:i.jsx("i",{className:"fa-solid fa-arrow-right"})})]}),i.jsxs("div",{className:"flex items-center p-3 rounded-lg bg-gray-900/80 border border-gray-700 hover:border-purple-700 transition-colors duration-200",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-purple-900 flex items-center justify-center text-purple-400 mr-3",children:i.jsx("i",{className:"fa-solid fa-wand-magic-sparkles"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"text-white font-medium",children:"徐清岚"}),i.jsx("div",{className:"text-xs text-gray-400",children:"魔法少女"})]}),i.jsx("button",{className:"text-purple-400 hover:text-purple-300",children:i.jsx("i",{className:"fa-solid fa-arrow-right"})})]}),i.jsxs("div",{className:"flex items-center p-3 rounded-lg bg-gray-900/80 border border-gray-700 hover:border-blue-700 transition-colors duration-200",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-900 flex items-center justify-center text-blue-400 mr-3",children:i.jsx("i",{className:"fa-solid fa-cat"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"text-white font-medium",children:"善•猫教主"}),i.jsx("div",{className:"text-xs text-gray-400",children:"光明使者"})]}),i.jsx("button",{className:"text-purple-400 hover:text-purple-300",children:i.jsx("i",{className:"fa-solid fa-arrow-right"})})]})]})]}),i.jsxs("div",{className:"bg-gray-800/50 dark:bg-gray-900/50 backdrop-blur-sm rounded-xl p-6 border border-gray-700 relative overflow-hidden",children:[i.jsx("div",{className:"absolute -bottom-20 -left-20 w-64 h-64 bg-blue-500/10 rounded-full blur-3xl"}),i.jsxs("h2",{className:"text-xl font-bold text-white mb-4 relative z-10 flex items-center",children:[i.jsx("i",{className:"fa-solid fa-lightbulb text-yellow-400 mr-2"}),"重要概念"]}),i.jsxs("div",{className:"flex flex-wrap gap-2 relative z-10",children:[i.jsx("span",{className:"px-3 py-1 bg-blue-900/30 text-blue-300 rounded-full text-sm",children:"光明之力"}),i.jsx("span",{className:"px-3 py-1 bg-red-900/30 text-red-300 rounded-full text-sm",children:"暗影之力"}),i.jsx("span",{className:"px-3 py-1 bg-green-900/30 text-green-300 rounded-full text-sm",children:"自然平衡"}),i.jsx("span",{className:"px-3 py-1 bg-purple-900/30 text-purple-300 rounded-full text-sm",children:"魔法能量"}),i.jsx("span",{className:"px-3 py-1 bg-yellow-900/30 text-yellow-300 rounded-full text-sm",children:"命运之轮"}),i.jsx("span",{className:"px-3 py-1 bg-indigo-900/30 text-indigo-300 rounded-full text-sm",children:"星界之门"}),i.jsx("span",{className:"px-3 py-1 bg-pink-900/30 text-pink-300 rounded-full text-sm",children:"时间法则"}),i.jsx("span",{className:"px-3 py-1 bg-cyan-900/30 text-cyan-300 rounded-full text-sm",children:"空间扭曲"}),i.jsx("span",{className:"px-3 py-1 bg-orange-900/30 text-orange-300 rounded-full text-sm",children:"元素之力"})]})]})]})]}),i.jsxs(E.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.4},className:"mt-12 bg-gray-800/50 dark:bg-gray-900/50 backdrop-blur-sm rounded-xl p-6 border border-gray-700 relative overflow-hidden",children:[i.jsx("div",{className:"absolute top-0 right-0 w-40 h-40 bg-yellow-500/10 rounded-full blur-3xl"}),i.jsxs("h2",{className:"text-xl font-bold mb-4 text-white flex items-center relative z-10",children:[i.jsx("i",{className:"fa-solid fa-info-circle text-yellow-400 mr-2"}),"探索提示"]}),i.jsxs("ul",{className:"space-y-3 text-gray-300 relative z-10",children:[i.jsxs("li",{className:"flex items-start",children:[i.jsx("i",{className:"fa-solid fa-check-circle text-green-500 mr-2 mt-1"}),i.jsx("span",{children:"随着游戏的进行，您将解锁更多的剧情内容和角色背景故事"})]}),i.jsxs("li",{className:"flex items-start",children:[i.jsx("i",{className:"fa-solid fa-check-circle text-green-500 mr-2 mt-1"}),i.jsx("span",{children:"完成特定任务或收集特殊物品可以解锁隐藏的剧情内容"})]}),i.jsxs("li",{className:"flex items-start",children:[i.jsx("i",{className:"fa-solid fa-check-circle text-green-500 mr-2 mt-1"}),i.jsx("span",{children:"与NPC对话可以获取更多关于游戏世界的信息和背景故事"})]}),i.jsxs("li",{className:"flex items-start",children:[i.jsx("i",{className:"fa-solid fa-check-circle text-green-500 mr-2 mt-1"}),i.jsx("span",{children:"探索游戏中的各个角落，您可能会发现一些隐藏的历史痕迹和线索"})]})]})]})]}),i.jsx("footer",{className:"bg-gray-800/90 backdrop-blur-sm text-gray-300 py-6 text-center relative z-10 border-t border-gray-700",children:i.jsx("p",{children:"© 2025 光明与暗影之战 - 世界观介绍"})})]})},R3=(e,n,t)=>Math.min(Math.max(e,n),t);var D3={value:()=>{}};function Kl(){for(var e=0,n=arguments.length,t={},s;e<n;++e){if(!(s=arguments[e]+"")||s in t||/[\s.]/.test(s))throw new Error("illegal type: "+s);t[s]=[]}return new kl(t)}function kl(e){this._=e}function L3(e,n){return e.trim().split(/^|\s+/).map(function(t){var s="",o=t.indexOf(".");if(o>=0&&(s=t.slice(o+1),t=t.slice(0,o)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:s}})}kl.prototype=Kl.prototype={constructor:kl,on:function(e,n){var t=this._,s=L3(e+"",t),o,c=-1,u=s.length;if(arguments.length<2){for(;++c<u;)if((o=(e=s[c]).type)&&(o=O3(t[o],e.name)))return o;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++c<u;)if(o=(e=s[c]).type)t[o]=_p(t[o],e.name,n);else if(n==null)for(o in t)t[o]=_p(t[o],e.name,null);return this},copy:function(){var e={},n=this._;for(var t in n)e[t]=n[t].slice();return new kl(e)},call:function(e,n){if((o=arguments.length-2)>0)for(var t=new Array(o),s=0,o,c;s<o;++s)t[s]=arguments[s+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(c=this._[e],s=0,o=c.length;s<o;++s)c[s].value.apply(n,t)},apply:function(e,n,t){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var s=this._[e],o=0,c=s.length;o<c;++o)s[o].value.apply(n,t)}};function O3(e,n){for(var t=0,s=e.length,o;t<s;++t)if((o=e[t]).name===n)return o.value}function _p(e,n,t){for(var s=0,o=e.length;s<o;++s)if(e[s].name===n){e[s]=D3,e=e.slice(0,s).concat(e.slice(s+1));break}return t!=null&&e.push({name:n,value:t}),e}var kd="http://www.w3.org/1999/xhtml";const Cp={svg:"http://www.w3.org/2000/svg",xhtml:kd,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Gl(e){var n=e+="",t=n.indexOf(":");return t>=0&&(n=e.slice(0,t))!=="xmlns"&&(e=e.slice(t+1)),Cp.hasOwnProperty(n)?{space:Cp[n],local:e}:e}function $3(e){return function(){var n=this.ownerDocument,t=this.namespaceURI;return t===kd&&n.documentElement.namespaceURI===kd?n.createElement(e):n.createElementNS(t,e)}}function F3(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Yx(e){var n=Gl(e);return(n.local?F3:$3)(n)}function V3(){}function b0(e){return e==null?V3:function(){return this.querySelector(e)}}function B3(e){typeof e!="function"&&(e=b0(e));for(var n=this._groups,t=n.length,s=new Array(t),o=0;o<t;++o)for(var c=n[o],u=c.length,f=s[o]=new Array(u),h,m,p=0;p<u;++p)(h=c[p])&&(m=e.call(h,h.__data__,p,c))&&("__data__"in h&&(m.__data__=h.__data__),f[p]=m);return new an(s,this._parents)}function q3(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function W3(){return[]}function Kx(e){return e==null?W3:function(){return this.querySelectorAll(e)}}function H3(e){return function(){return q3(e.apply(this,arguments))}}function U3(e){typeof e=="function"?e=H3(e):e=Kx(e);for(var n=this._groups,t=n.length,s=[],o=[],c=0;c<t;++c)for(var u=n[c],f=u.length,h,m=0;m<f;++m)(h=u[m])&&(s.push(e.call(h,h.__data__,m,u)),o.push(h));return new an(s,o)}function Gx(e){return function(){return this.matches(e)}}function Xx(e){return function(n){return n.matches(e)}}var Y3=Array.prototype.find;function K3(e){return function(){return Y3.call(this.children,e)}}function G3(){return this.firstElementChild}function X3(e){return this.select(e==null?G3:K3(typeof e=="function"?e:Xx(e)))}var Z3=Array.prototype.filter;function Q3(){return Array.from(this.children)}function J3(e){return function(){return Z3.call(this.children,e)}}function eN(e){return this.selectAll(e==null?Q3:J3(typeof e=="function"?e:Xx(e)))}function tN(e){typeof e!="function"&&(e=Gx(e));for(var n=this._groups,t=n.length,s=new Array(t),o=0;o<t;++o)for(var c=n[o],u=c.length,f=s[o]=[],h,m=0;m<u;++m)(h=c[m])&&e.call(h,h.__data__,m,c)&&f.push(h);return new an(s,this._parents)}function Zx(e){return new Array(e.length)}function nN(){return new an(this._enter||this._groups.map(Zx),this._parents)}function Dl(e,n){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=n}Dl.prototype={constructor:Dl,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,n){return this._parent.insertBefore(e,n)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function rN(e){return function(){return e}}function aN(e,n,t,s,o,c){for(var u=0,f,h=n.length,m=c.length;u<m;++u)(f=n[u])?(f.__data__=c[u],s[u]=f):t[u]=new Dl(e,c[u]);for(;u<h;++u)(f=n[u])&&(o[u]=f)}function iN(e,n,t,s,o,c,u){var f,h,m=new Map,p=n.length,y=c.length,b=new Array(p),v;for(f=0;f<p;++f)(h=n[f])&&(b[f]=v=u.call(h,h.__data__,f,n)+"",m.has(v)?o[f]=h:m.set(v,h));for(f=0;f<y;++f)v=u.call(e,c[f],f,c)+"",(h=m.get(v))?(s[f]=h,h.__data__=c[f],m.delete(v)):t[f]=new Dl(e,c[f]);for(f=0;f<p;++f)(h=n[f])&&m.get(b[f])===h&&(o[f]=h)}function sN(e){return e.__data__}function oN(e,n){if(!arguments.length)return Array.from(this,sN);var t=n?iN:aN,s=this._parents,o=this._groups;typeof e!="function"&&(e=rN(e));for(var c=o.length,u=new Array(c),f=new Array(c),h=new Array(c),m=0;m<c;++m){var p=s[m],y=o[m],b=y.length,v=lN(e.call(p,p&&p.__data__,m,s)),k=v.length,S=f[m]=new Array(k),N=u[m]=new Array(k),C=h[m]=new Array(b);t(p,y,S,N,C,v,n);for(var M=0,_=0,T,R;M<k;++M)if(T=S[M]){for(M>=_&&(_=M+1);!(R=N[_])&&++_<k;);T._next=R||null}}return u=new an(u,s),u._enter=f,u._exit=h,u}function lN(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function cN(){return new an(this._exit||this._groups.map(Zx),this._parents)}function uN(e,n,t){var s=this.enter(),o=this,c=this.exit();return typeof e=="function"?(s=e(s),s&&(s=s.selection())):s=s.append(e+""),n!=null&&(o=n(o),o&&(o=o.selection())),t==null?c.remove():t(c),s&&o?s.merge(o).order():o}function dN(e){for(var n=e.selection?e.selection():e,t=this._groups,s=n._groups,o=t.length,c=s.length,u=Math.min(o,c),f=new Array(o),h=0;h<u;++h)for(var m=t[h],p=s[h],y=m.length,b=f[h]=new Array(y),v,k=0;k<y;++k)(v=m[k]||p[k])&&(b[k]=v);for(;h<o;++h)f[h]=t[h];return new an(f,this._parents)}function hN(){for(var e=this._groups,n=-1,t=e.length;++n<t;)for(var s=e[n],o=s.length-1,c=s[o],u;--o>=0;)(u=s[o])&&(c&&u.compareDocumentPosition(c)^4&&c.parentNode.insertBefore(u,c),c=u);return this}function fN(e){e||(e=mN);function n(y,b){return y&&b?e(y.__data__,b.__data__):!y-!b}for(var t=this._groups,s=t.length,o=new Array(s),c=0;c<s;++c){for(var u=t[c],f=u.length,h=o[c]=new Array(f),m,p=0;p<f;++p)(m=u[p])&&(h[p]=m);h.sort(n)}return new an(o,this._parents).order()}function mN(e,n){return e<n?-1:e>n?1:e>=n?0:NaN}function pN(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function gN(){return Array.from(this)}function xN(){for(var e=this._groups,n=0,t=e.length;n<t;++n)for(var s=e[n],o=0,c=s.length;o<c;++o){var u=s[o];if(u)return u}return null}function yN(){let e=0;for(const n of this)++e;return e}function bN(){return!this.node()}function vN(e){for(var n=this._groups,t=0,s=n.length;t<s;++t)for(var o=n[t],c=0,u=o.length,f;c<u;++c)(f=o[c])&&e.call(f,f.__data__,c,o);return this}function wN(e){return function(){this.removeAttribute(e)}}function jN(e){return function(){this.removeAttributeNS(e.space,e.local)}}function NN(e,n){return function(){this.setAttribute(e,n)}}function SN(e,n){return function(){this.setAttributeNS(e.space,e.local,n)}}function kN(e,n){return function(){var t=n.apply(this,arguments);t==null?this.removeAttribute(e):this.setAttribute(e,t)}}function _N(e,n){return function(){var t=n.apply(this,arguments);t==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,t)}}function CN(e,n){var t=Gl(e);if(arguments.length<2){var s=this.node();return t.local?s.getAttributeNS(t.space,t.local):s.getAttribute(t)}return this.each((n==null?t.local?jN:wN:typeof n=="function"?t.local?_N:kN:t.local?SN:NN)(t,n))}function Qx(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function TN(e){return function(){this.style.removeProperty(e)}}function zN(e,n,t){return function(){this.style.setProperty(e,n,t)}}function PN(e,n,t){return function(){var s=n.apply(this,arguments);s==null?this.style.removeProperty(e):this.style.setProperty(e,s,t)}}function EN(e,n,t){return arguments.length>1?this.each((n==null?TN:typeof n=="function"?PN:zN)(e,n,t??"")):xi(this.node(),e)}function xi(e,n){return e.style.getPropertyValue(n)||Qx(e).getComputedStyle(e,null).getPropertyValue(n)}function MN(e){return function(){delete this[e]}}function AN(e,n){return function(){this[e]=n}}function IN(e,n){return function(){var t=n.apply(this,arguments);t==null?delete this[e]:this[e]=t}}function RN(e,n){return arguments.length>1?this.each((n==null?MN:typeof n=="function"?IN:AN)(e,n)):this.node()[e]}function Jx(e){return e.trim().split(/^|\s+/)}function v0(e){return e.classList||new ey(e)}function ey(e){this._node=e,this._names=Jx(e.getAttribute("class")||"")}ey.prototype={add:function(e){var n=this._names.indexOf(e);n<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var n=this._names.indexOf(e);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function ty(e,n){for(var t=v0(e),s=-1,o=n.length;++s<o;)t.add(n[s])}function ny(e,n){for(var t=v0(e),s=-1,o=n.length;++s<o;)t.remove(n[s])}function DN(e){return function(){ty(this,e)}}function LN(e){return function(){ny(this,e)}}function ON(e,n){return function(){(n.apply(this,arguments)?ty:ny)(this,e)}}function $N(e,n){var t=Jx(e+"");if(arguments.length<2){for(var s=v0(this.node()),o=-1,c=t.length;++o<c;)if(!s.contains(t[o]))return!1;return!0}return this.each((typeof n=="function"?ON:n?DN:LN)(t,n))}function FN(){this.textContent=""}function VN(e){return function(){this.textContent=e}}function BN(e){return function(){var n=e.apply(this,arguments);this.textContent=n??""}}function qN(e){return arguments.length?this.each(e==null?FN:(typeof e=="function"?BN:VN)(e)):this.node().textContent}function WN(){this.innerHTML=""}function HN(e){return function(){this.innerHTML=e}}function UN(e){return function(){var n=e.apply(this,arguments);this.innerHTML=n??""}}function YN(e){return arguments.length?this.each(e==null?WN:(typeof e=="function"?UN:HN)(e)):this.node().innerHTML}function KN(){this.nextSibling&&this.parentNode.appendChild(this)}function GN(){return this.each(KN)}function XN(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ZN(){return this.each(XN)}function QN(e){var n=typeof e=="function"?e:Yx(e);return this.select(function(){return this.appendChild(n.apply(this,arguments))})}function JN(){return null}function e4(e,n){var t=typeof e=="function"?e:Yx(e),s=n==null?JN:typeof n=="function"?n:b0(n);return this.select(function(){return this.insertBefore(t.apply(this,arguments),s.apply(this,arguments)||null)})}function t4(){var e=this.parentNode;e&&e.removeChild(this)}function n4(){return this.each(t4)}function r4(){var e=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(e,this.nextSibling):e}function a4(){var e=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(e,this.nextSibling):e}function i4(e){return this.select(e?a4:r4)}function s4(e){return arguments.length?this.property("__data__",e):this.node().__data__}function o4(e){return function(n){e.call(this,n,this.__data__)}}function l4(e){return e.trim().split(/^|\s+/).map(function(n){var t="",s=n.indexOf(".");return s>=0&&(t=n.slice(s+1),n=n.slice(0,s)),{type:n,name:t}})}function c4(e){return function(){var n=this.__on;if(n){for(var t=0,s=-1,o=n.length,c;t<o;++t)c=n[t],(!e.type||c.type===e.type)&&c.name===e.name?this.removeEventListener(c.type,c.listener,c.options):n[++s]=c;++s?n.length=s:delete this.__on}}}function u4(e,n,t){return function(){var s=this.__on,o,c=o4(n);if(s){for(var u=0,f=s.length;u<f;++u)if((o=s[u]).type===e.type&&o.name===e.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=c,o.options=t),o.value=n;return}}this.addEventListener(e.type,c,t),o={type:e.type,name:e.name,value:n,listener:c,options:t},s?s.push(o):this.__on=[o]}}function d4(e,n,t){var s=l4(e+""),o,c=s.length,u;if(arguments.length<2){var f=this.node().__on;if(f){for(var h=0,m=f.length,p;h<m;++h)for(o=0,p=f[h];o<c;++o)if((u=s[o]).type===p.type&&u.name===p.name)return p.value}return}for(f=n?u4:c4,o=0;o<c;++o)this.each(f(s[o],n,t));return this}function ry(e,n,t){var s=Qx(e),o=s.CustomEvent;typeof o=="function"?o=new o(n,t):(o=s.document.createEvent("Event"),t?(o.initEvent(n,t.bubbles,t.cancelable),o.detail=t.detail):o.initEvent(n,!1,!1)),e.dispatchEvent(o)}function h4(e,n){return function(){return ry(this,e,n)}}function f4(e,n){return function(){return ry(this,e,n.apply(this,arguments))}}function m4(e,n){return this.each((typeof n=="function"?f4:h4)(e,n))}function*p4(){for(var e=this._groups,n=0,t=e.length;n<t;++n)for(var s=e[n],o=0,c=s.length,u;o<c;++o)(u=s[o])&&(yield u)}var ay=[null];function an(e,n){this._groups=e,this._parents=n}function Ys(){return new an([[document.documentElement]],ay)}function g4(){return this}an.prototype=Ys.prototype={constructor:an,select:B3,selectAll:U3,selectChild:X3,selectChildren:eN,filter:tN,data:oN,enter:nN,exit:cN,join:uN,merge:dN,selection:g4,order:hN,sort:fN,call:pN,nodes:gN,node:xN,size:yN,empty:bN,each:vN,attr:CN,style:EN,property:RN,classed:$N,text:qN,html:YN,raise:GN,lower:ZN,append:QN,insert:e4,remove:n4,clone:i4,datum:s4,on:d4,dispatch:m4,[Symbol.iterator]:p4};function Wr(e){return typeof e=="string"?new an([[document.querySelector(e)]],[document.documentElement]):new an([[e]],ay)}function x4(e){let n;for(;n=e.sourceEvent;)e=n;return e}function Tp(e,n){if(e=x4(e),n===void 0&&(n=e.currentTarget),n){var t=n.ownerSVGElement||n;if(t.createSVGPoint){var s=t.createSVGPoint();return s.x=e.clientX,s.y=e.clientY,s=s.matrixTransform(n.getScreenCTM().inverse()),[s.x,s.y]}if(n.getBoundingClientRect){var o=n.getBoundingClientRect();return[e.clientX-o.left-n.clientLeft,e.clientY-o.top-n.clientTop]}}return[e.pageX,e.pageY]}const y4={passive:!1},Rs={capture:!0,passive:!1};function Zu(e){e.stopImmediatePropagation()}function fi(e){e.preventDefault(),e.stopImmediatePropagation()}function b4(e){var n=e.document.documentElement,t=Wr(e).on("dragstart.drag",fi,Rs);"onselectstart"in n?t.on("selectstart.drag",fi,Rs):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}function v4(e,n){var t=e.document.documentElement,s=Wr(e).on("dragstart.drag",null);n&&(s.on("click.drag",fi,Rs),setTimeout(function(){s.on("click.drag",null)},0)),"onselectstart"in t?s.on("selectstart.drag",null):(t.style.MozUserSelect=t.__noselect,delete t.__noselect)}const ml=e=>()=>e;function _d(e,{sourceEvent:n,subject:t,target:s,identifier:o,active:c,x:u,y:f,dx:h,dy:m,dispatch:p}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},subject:{value:t,enumerable:!0,configurable:!0},target:{value:s,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:c,enumerable:!0,configurable:!0},x:{value:u,enumerable:!0,configurable:!0},y:{value:f,enumerable:!0,configurable:!0},dx:{value:h,enumerable:!0,configurable:!0},dy:{value:m,enumerable:!0,configurable:!0},_:{value:p}})}_d.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function w4(e){return!e.ctrlKey&&!e.button}function j4(){return this.parentNode}function N4(e,n){return n??{x:e.x,y:e.y}}function S4(){return navigator.maxTouchPoints||"ontouchstart"in this}function k4(){var e=w4,n=j4,t=N4,s=S4,o={},c=Kl("start","drag","end"),u=0,f,h,m,p,y=0;function b(T){T.on("mousedown.drag",v).filter(s).on("touchstart.drag",N).on("touchmove.drag",C,y4).on("touchend.drag touchcancel.drag",M).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function v(T,R){if(!(p||!e.call(this,T,R))){var A=_(this,n.call(this,T,R),T,R,"mouse");A&&(Wr(T.view).on("mousemove.drag",k,Rs).on("mouseup.drag",S,Rs),b4(T.view),Zu(T),m=!1,f=T.clientX,h=T.clientY,A("start",T))}}function k(T){if(fi(T),!m){var R=T.clientX-f,A=T.clientY-h;m=R*R+A*A>y}o.mouse("drag",T)}function S(T){Wr(T.view).on("mousemove.drag mouseup.drag",null),v4(T.view,m),fi(T),o.mouse("end",T)}function N(T,R){if(e.call(this,T,R)){var A=T.changedTouches,O=n.call(this,T,R),U=A.length,ae,H;for(ae=0;ae<U;++ae)(H=_(this,O,T,R,A[ae].identifier,A[ae]))&&(Zu(T),H("start",T,A[ae]))}}function C(T){var R=T.changedTouches,A=R.length,O,U;for(O=0;O<A;++O)(U=o[R[O].identifier])&&(fi(T),U("drag",T,R[O]))}function M(T){var R=T.changedTouches,A=R.length,O,U;for(p&&clearTimeout(p),p=setTimeout(function(){p=null},500),O=0;O<A;++O)(U=o[R[O].identifier])&&(Zu(T),U("end",T,R[O]))}function _(T,R,A,O,U,ae){var H=c.copy(),le=Tp(ae||A,R),je,Ae,Te;if((Te=t.call(T,new _d("beforestart",{sourceEvent:A,target:b,identifier:U,active:u,x:le[0],y:le[1],dx:0,dy:0,dispatch:H}),O))!=null)return je=Te.x-le[0]||0,Ae=Te.y-le[1]||0,function $e(De,xe,Y){var de=le,ie;switch(De){case"start":o[U]=$e,ie=u++;break;case"end":delete o[U],--u;case"drag":le=Tp(Y||xe,R),ie=u;break}H.call(De,T,new _d(De,{sourceEvent:xe,subject:Te,target:b,identifier:U,active:ie,x:le[0]+je,y:le[1]+Ae,dx:le[0]-de[0],dy:le[1]-de[1],dispatch:H}),O)}}return b.filter=function(T){return arguments.length?(e=typeof T=="function"?T:ml(!!T),b):e},b.container=function(T){return arguments.length?(n=typeof T=="function"?T:ml(T),b):n},b.subject=function(T){return arguments.length?(t=typeof T=="function"?T:ml(T),b):t},b.touchable=function(T){return arguments.length?(s=typeof T=="function"?T:ml(!!T),b):s},b.on=function(){var T=c.on.apply(c,arguments);return T===c?b:T},b.clickDistance=function(T){return arguments.length?(y=(T=+T)*T,b):Math.sqrt(y)},b}function w0(e,n,t){e.prototype=n.prototype=t,t.constructor=e}function iy(e,n){var t=Object.create(e.prototype);for(var s in n)t[s]=n[s];return t}function Ks(){}var Ds=.7,Ll=1/Ds,mi="\\s*([+-]?\\d+)\\s*",Ls="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Hn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",_4=/^#([0-9a-f]{3,8})$/,C4=new RegExp(`^rgb\\(${mi},${mi},${mi}\\)$`),T4=new RegExp(`^rgb\\(${Hn},${Hn},${Hn}\\)$`),z4=new RegExp(`^rgba\\(${mi},${mi},${mi},${Ls}\\)$`),P4=new RegExp(`^rgba\\(${Hn},${Hn},${Hn},${Ls}\\)$`),E4=new RegExp(`^hsl\\(${Ls},${Hn},${Hn}\\)$`),M4=new RegExp(`^hsla\\(${Ls},${Hn},${Hn},${Ls}\\)$`),zp={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};w0(Ks,Os,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Pp,formatHex:Pp,formatHex8:A4,formatHsl:I4,formatRgb:Ep,toString:Ep});function Pp(){return this.rgb().formatHex()}function A4(){return this.rgb().formatHex8()}function I4(){return sy(this).formatHsl()}function Ep(){return this.rgb().formatRgb()}function Os(e){var n,t;return e=(e+"").trim().toLowerCase(),(n=_4.exec(e))?(t=n[1].length,n=parseInt(n[1],16),t===6?Mp(n):t===3?new Zt(n>>8&15|n>>4&240,n>>4&15|n&240,(n&15)<<4|n&15,1):t===8?pl(n>>24&255,n>>16&255,n>>8&255,(n&255)/255):t===4?pl(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|n&240,((n&15)<<4|n&15)/255):null):(n=C4.exec(e))?new Zt(n[1],n[2],n[3],1):(n=T4.exec(e))?new Zt(n[1]*255/100,n[2]*255/100,n[3]*255/100,1):(n=z4.exec(e))?pl(n[1],n[2],n[3],n[4]):(n=P4.exec(e))?pl(n[1]*255/100,n[2]*255/100,n[3]*255/100,n[4]):(n=E4.exec(e))?Rp(n[1],n[2]/100,n[3]/100,1):(n=M4.exec(e))?Rp(n[1],n[2]/100,n[3]/100,n[4]):zp.hasOwnProperty(e)?Mp(zp[e]):e==="transparent"?new Zt(NaN,NaN,NaN,0):null}function Mp(e){return new Zt(e>>16&255,e>>8&255,e&255,1)}function pl(e,n,t,s){return s<=0&&(e=n=t=NaN),new Zt(e,n,t,s)}function R4(e){return e instanceof Ks||(e=Os(e)),e?(e=e.rgb(),new Zt(e.r,e.g,e.b,e.opacity)):new Zt}function Cd(e,n,t,s){return arguments.length===1?R4(e):new Zt(e,n,t,s??1)}function Zt(e,n,t,s){this.r=+e,this.g=+n,this.b=+t,this.opacity=+s}w0(Zt,Cd,iy(Ks,{brighter(e){return e=e==null?Ll:Math.pow(Ll,e),new Zt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ds:Math.pow(Ds,e),new Zt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Zt(_a(this.r),_a(this.g),_a(this.b),Ol(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ap,formatHex:Ap,formatHex8:D4,formatRgb:Ip,toString:Ip}));function Ap(){return`#${Na(this.r)}${Na(this.g)}${Na(this.b)}`}function D4(){return`#${Na(this.r)}${Na(this.g)}${Na(this.b)}${Na((isNaN(this.opacity)?1:this.opacity)*255)}`}function Ip(){const e=Ol(this.opacity);return`${e===1?"rgb(":"rgba("}${_a(this.r)}, ${_a(this.g)}, ${_a(this.b)}${e===1?")":`, ${e})`}`}function Ol(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function _a(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Na(e){return e=_a(e),(e<16?"0":"")+e.toString(16)}function Rp(e,n,t,s){return s<=0?e=n=t=NaN:t<=0||t>=1?e=n=NaN:n<=0&&(e=NaN),new En(e,n,t,s)}function sy(e){if(e instanceof En)return new En(e.h,e.s,e.l,e.opacity);if(e instanceof Ks||(e=Os(e)),!e)return new En;if(e instanceof En)return e;e=e.rgb();var n=e.r/255,t=e.g/255,s=e.b/255,o=Math.min(n,t,s),c=Math.max(n,t,s),u=NaN,f=c-o,h=(c+o)/2;return f?(n===c?u=(t-s)/f+(t<s)*6:t===c?u=(s-n)/f+2:u=(n-t)/f+4,f/=h<.5?c+o:2-c-o,u*=60):f=h>0&&h<1?0:u,new En(u,f,h,e.opacity)}function L4(e,n,t,s){return arguments.length===1?sy(e):new En(e,n,t,s??1)}function En(e,n,t,s){this.h=+e,this.s=+n,this.l=+t,this.opacity=+s}w0(En,L4,iy(Ks,{brighter(e){return e=e==null?Ll:Math.pow(Ll,e),new En(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ds:Math.pow(Ds,e),new En(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,n=isNaN(e)||isNaN(this.s)?0:this.s,t=this.l,s=t+(t<.5?t:1-t)*n,o=2*t-s;return new Zt(Qu(e>=240?e-240:e+120,o,s),Qu(e,o,s),Qu(e<120?e+240:e-120,o,s),this.opacity)},clamp(){return new En(Dp(this.h),gl(this.s),gl(this.l),Ol(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Ol(this.opacity);return`${e===1?"hsl(":"hsla("}${Dp(this.h)}, ${gl(this.s)*100}%, ${gl(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Dp(e){return e=(e||0)%360,e<0?e+360:e}function gl(e){return Math.max(0,Math.min(1,e||0))}function Qu(e,n,t){return(e<60?n+(t-n)*e/60:e<180?t:e<240?n+(t-n)*(240-e)/60:n)*255}const oy=e=>()=>e;function O4(e,n){return function(t){return e+t*n}}function $4(e,n,t){return e=Math.pow(e,t),n=Math.pow(n,t)-e,t=1/t,function(s){return Math.pow(e+s*n,t)}}function F4(e){return(e=+e)==1?ly:function(n,t){return t-n?$4(n,t,e):oy(isNaN(n)?t:n)}}function ly(e,n){var t=n-e;return t?O4(e,t):oy(isNaN(e)?n:e)}const Lp=(function e(n){var t=F4(n);function s(o,c){var u=t((o=Cd(o)).r,(c=Cd(c)).r),f=t(o.g,c.g),h=t(o.b,c.b),m=ly(o.opacity,c.opacity);return function(p){return o.r=u(p),o.g=f(p),o.b=h(p),o.opacity=m(p),o+""}}return s.gamma=e,s})(1);function Fr(e,n){return e=+e,n=+n,function(t){return e*(1-t)+n*t}}var Td=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ju=new RegExp(Td.source,"g");function V4(e){return function(){return e}}function B4(e){return function(n){return e(n)+""}}function q4(e,n){var t=Td.lastIndex=Ju.lastIndex=0,s,o,c,u=-1,f=[],h=[];for(e=e+"",n=n+"";(s=Td.exec(e))&&(o=Ju.exec(n));)(c=o.index)>t&&(c=n.slice(t,c),f[u]?f[u]+=c:f[++u]=c),(s=s[0])===(o=o[0])?f[u]?f[u]+=o:f[++u]=o:(f[++u]=null,h.push({i:u,x:Fr(s,o)})),t=Ju.lastIndex;return t<n.length&&(c=n.slice(t),f[u]?f[u]+=c:f[++u]=c),f.length<2?h[0]?B4(h[0].x):V4(n):(n=h.length,function(m){for(var p=0,y;p<n;++p)f[(y=h[p]).i]=y.x(m);return f.join("")})}var Op=180/Math.PI,zd={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function cy(e,n,t,s,o,c){var u,f,h;return(u=Math.sqrt(e*e+n*n))&&(e/=u,n/=u),(h=e*t+n*s)&&(t-=e*h,s-=n*h),(f=Math.sqrt(t*t+s*s))&&(t/=f,s/=f,h/=f),e*s<n*t&&(e=-e,n=-n,h=-h,u=-u),{translateX:o,translateY:c,rotate:Math.atan2(n,e)*Op,skewX:Math.atan(h)*Op,scaleX:u,scaleY:f}}var xl;function W4(e){const n=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return n.isIdentity?zd:cy(n.a,n.b,n.c,n.d,n.e,n.f)}function H4(e){return e==null||(xl||(xl=document.createElementNS("http://www.w3.org/2000/svg","g")),xl.setAttribute("transform",e),!(e=xl.transform.baseVal.consolidate()))?zd:(e=e.matrix,cy(e.a,e.b,e.c,e.d,e.e,e.f))}function uy(e,n,t,s){function o(m){return m.length?m.pop()+" ":""}function c(m,p,y,b,v,k){if(m!==y||p!==b){var S=v.push("translate(",null,n,null,t);k.push({i:S-4,x:Fr(m,y)},{i:S-2,x:Fr(p,b)})}else(y||b)&&v.push("translate("+y+n+b+t)}function u(m,p,y,b){m!==p?(m-p>180?p+=360:p-m>180&&(m+=360),b.push({i:y.push(o(y)+"rotate(",null,s)-2,x:Fr(m,p)})):p&&y.push(o(y)+"rotate("+p+s)}function f(m,p,y,b){m!==p?b.push({i:y.push(o(y)+"skewX(",null,s)-2,x:Fr(m,p)}):p&&y.push(o(y)+"skewX("+p+s)}function h(m,p,y,b,v,k){if(m!==y||p!==b){var S=v.push(o(v)+"scale(",null,",",null,")");k.push({i:S-4,x:Fr(m,y)},{i:S-2,x:Fr(p,b)})}else(y!==1||b!==1)&&v.push(o(v)+"scale("+y+","+b+")")}return function(m,p){var y=[],b=[];return m=e(m),p=e(p),c(m.translateX,m.translateY,p.translateX,p.translateY,y,b),u(m.rotate,p.rotate,y,b),f(m.skewX,p.skewX,y,b),h(m.scaleX,m.scaleY,p.scaleX,p.scaleY,y,b),m=p=null,function(v){for(var k=-1,S=b.length,N;++k<S;)y[(N=b[k]).i]=N.x(v);return y.join("")}}}var U4=uy(W4,"px, ","px)","deg)"),Y4=uy(H4,", ",")",")"),yi=0,xs=0,ms=0,dy=1e3,$l,ys,Fl=0,Ca=0,Xl=0,$s=typeof performance=="object"&&performance.now?performance:Date,hy=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function j0(){return Ca||(hy(K4),Ca=$s.now()+Xl)}function K4(){Ca=0}function Vl(){this._call=this._time=this._next=null}Vl.prototype=N0.prototype={constructor:Vl,restart:function(e,n,t){if(typeof e!="function")throw new TypeError("callback is not a function");t=(t==null?j0():+t)+(n==null?0:+n),!this._next&&ys!==this&&(ys?ys._next=this:$l=this,ys=this),this._call=e,this._time=t,Pd()},stop:function(){this._call&&(this._call=null,this._time=1/0,Pd())}};function N0(e,n,t){var s=new Vl;return s.restart(e,n,t),s}function G4(){j0(),++yi;for(var e=$l,n;e;)(n=Ca-e._time)>=0&&e._call.call(void 0,n),e=e._next;--yi}function $p(){Ca=(Fl=$s.now())+Xl,yi=xs=0;try{G4()}finally{yi=0,Z4(),Ca=0}}function X4(){var e=$s.now(),n=e-Fl;n>dy&&(Xl-=n,Fl=e)}function Z4(){for(var e,n=$l,t,s=1/0;n;)n._call?(s>n._time&&(s=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:$l=t);ys=e,Pd(s)}function Pd(e){if(!yi){xs&&(xs=clearTimeout(xs));var n=e-Ca;n>24?(e<1/0&&(xs=setTimeout($p,e-$s.now()-Xl)),ms&&(ms=clearInterval(ms))):(ms||(Fl=$s.now(),ms=setInterval(X4,dy)),yi=1,hy($p))}}function Fp(e,n,t){var s=new Vl;return n=n==null?0:+n,s.restart(o=>{s.stop(),e(o+n)},n,t),s}var Q4=Kl("start","end","cancel","interrupt"),J4=[],fy=0,Vp=1,Ed=2,_l=3,Bp=4,Md=5,Cl=6;function Zl(e,n,t,s,o,c){var u=e.__transition;if(!u)e.__transition={};else if(t in u)return;eS(e,t,{name:n,index:s,group:o,on:Q4,tween:J4,time:c.time,delay:c.delay,duration:c.duration,ease:c.ease,timer:null,state:fy})}function S0(e,n){var t=An(e,n);if(t.state>fy)throw new Error("too late; already scheduled");return t}function Gn(e,n){var t=An(e,n);if(t.state>_l)throw new Error("too late; already running");return t}function An(e,n){var t=e.__transition;if(!t||!(t=t[n]))throw new Error("transition not found");return t}function eS(e,n,t){var s=e.__transition,o;s[n]=t,t.timer=N0(c,0,t.time);function c(m){t.state=Vp,t.timer.restart(u,t.delay,t.time),t.delay<=m&&u(m-t.delay)}function u(m){var p,y,b,v;if(t.state!==Vp)return h();for(p in s)if(v=s[p],v.name===t.name){if(v.state===_l)return Fp(u);v.state===Bp?(v.state=Cl,v.timer.stop(),v.on.call("interrupt",e,e.__data__,v.index,v.group),delete s[p]):+p<n&&(v.state=Cl,v.timer.stop(),v.on.call("cancel",e,e.__data__,v.index,v.group),delete s[p])}if(Fp(function(){t.state===_l&&(t.state=Bp,t.timer.restart(f,t.delay,t.time),f(m))}),t.state=Ed,t.on.call("start",e,e.__data__,t.index,t.group),t.state===Ed){for(t.state=_l,o=new Array(b=t.tween.length),p=0,y=-1;p<b;++p)(v=t.tween[p].value.call(e,e.__data__,t.index,t.group))&&(o[++y]=v);o.length=y+1}}function f(m){for(var p=m<t.duration?t.ease.call(null,m/t.duration):(t.timer.restart(h),t.state=Md,1),y=-1,b=o.length;++y<b;)o[y].call(e,p);t.state===Md&&(t.on.call("end",e,e.__data__,t.index,t.group),h())}function h(){t.state=Cl,t.timer.stop(),delete s[n];for(var m in s)return;delete e.__transition}}function tS(e,n){var t=e.__transition,s,o,c=!0,u;if(t){n=n==null?null:n+"";for(u in t){if((s=t[u]).name!==n){c=!1;continue}o=s.state>Ed&&s.state<Md,s.state=Cl,s.timer.stop(),s.on.call(o?"interrupt":"cancel",e,e.__data__,s.index,s.group),delete t[u]}c&&delete e.__transition}}function nS(e){return this.each(function(){tS(this,e)})}function rS(e,n){var t,s;return function(){var o=Gn(this,e),c=o.tween;if(c!==t){s=t=c;for(var u=0,f=s.length;u<f;++u)if(s[u].name===n){s=s.slice(),s.splice(u,1);break}}o.tween=s}}function aS(e,n,t){var s,o;if(typeof t!="function")throw new Error;return function(){var c=Gn(this,e),u=c.tween;if(u!==s){o=(s=u).slice();for(var f={name:n,value:t},h=0,m=o.length;h<m;++h)if(o[h].name===n){o[h]=f;break}h===m&&o.push(f)}c.tween=o}}function iS(e,n){var t=this._id;if(e+="",arguments.length<2){for(var s=An(this.node(),t).tween,o=0,c=s.length,u;o<c;++o)if((u=s[o]).name===e)return u.value;return null}return this.each((n==null?rS:aS)(t,e,n))}function k0(e,n,t){var s=e._id;return e.each(function(){var o=Gn(this,s);(o.value||(o.value={}))[n]=t.apply(this,arguments)}),function(o){return An(o,s).value[n]}}function my(e,n){var t;return(typeof n=="number"?Fr:n instanceof Os?Lp:(t=Os(n))?(n=t,Lp):q4)(e,n)}function sS(e){return function(){this.removeAttribute(e)}}function oS(e){return function(){this.removeAttributeNS(e.space,e.local)}}function lS(e,n,t){var s,o=t+"",c;return function(){var u=this.getAttribute(e);return u===o?null:u===s?c:c=n(s=u,t)}}function cS(e,n,t){var s,o=t+"",c;return function(){var u=this.getAttributeNS(e.space,e.local);return u===o?null:u===s?c:c=n(s=u,t)}}function uS(e,n,t){var s,o,c;return function(){var u,f=t(this),h;return f==null?void this.removeAttribute(e):(u=this.getAttribute(e),h=f+"",u===h?null:u===s&&h===o?c:(o=h,c=n(s=u,f)))}}function dS(e,n,t){var s,o,c;return function(){var u,f=t(this),h;return f==null?void this.removeAttributeNS(e.space,e.local):(u=this.getAttributeNS(e.space,e.local),h=f+"",u===h?null:u===s&&h===o?c:(o=h,c=n(s=u,f)))}}function hS(e,n){var t=Gl(e),s=t==="transform"?Y4:my;return this.attrTween(e,typeof n=="function"?(t.local?dS:uS)(t,s,k0(this,"attr."+e,n)):n==null?(t.local?oS:sS)(t):(t.local?cS:lS)(t,s,n))}function fS(e,n){return function(t){this.setAttribute(e,n.call(this,t))}}function mS(e,n){return function(t){this.setAttributeNS(e.space,e.local,n.call(this,t))}}function pS(e,n){var t,s;function o(){var c=n.apply(this,arguments);return c!==s&&(t=(s=c)&&mS(e,c)),t}return o._value=n,o}function gS(e,n){var t,s;function o(){var c=n.apply(this,arguments);return c!==s&&(t=(s=c)&&fS(e,c)),t}return o._value=n,o}function xS(e,n){var t="attr."+e;if(arguments.length<2)return(t=this.tween(t))&&t._value;if(n==null)return this.tween(t,null);if(typeof n!="function")throw new Error;var s=Gl(e);return this.tween(t,(s.local?pS:gS)(s,n))}function yS(e,n){return function(){S0(this,e).delay=+n.apply(this,arguments)}}function bS(e,n){return n=+n,function(){S0(this,e).delay=n}}function vS(e){var n=this._id;return arguments.length?this.each((typeof e=="function"?yS:bS)(n,e)):An(this.node(),n).delay}function wS(e,n){return function(){Gn(this,e).duration=+n.apply(this,arguments)}}function jS(e,n){return n=+n,function(){Gn(this,e).duration=n}}function NS(e){var n=this._id;return arguments.length?this.each((typeof e=="function"?wS:jS)(n,e)):An(this.node(),n).duration}function SS(e,n){if(typeof n!="function")throw new Error;return function(){Gn(this,e).ease=n}}function kS(e){var n=this._id;return arguments.length?this.each(SS(n,e)):An(this.node(),n).ease}function _S(e,n){return function(){var t=n.apply(this,arguments);if(typeof t!="function")throw new Error;Gn(this,e).ease=t}}function CS(e){if(typeof e!="function")throw new Error;return this.each(_S(this._id,e))}function TS(e){typeof e!="function"&&(e=Gx(e));for(var n=this._groups,t=n.length,s=new Array(t),o=0;o<t;++o)for(var c=n[o],u=c.length,f=s[o]=[],h,m=0;m<u;++m)(h=c[m])&&e.call(h,h.__data__,m,c)&&f.push(h);return new hr(s,this._parents,this._name,this._id)}function zS(e){if(e._id!==this._id)throw new Error;for(var n=this._groups,t=e._groups,s=n.length,o=t.length,c=Math.min(s,o),u=new Array(s),f=0;f<c;++f)for(var h=n[f],m=t[f],p=h.length,y=u[f]=new Array(p),b,v=0;v<p;++v)(b=h[v]||m[v])&&(y[v]=b);for(;f<s;++f)u[f]=n[f];return new hr(u,this._parents,this._name,this._id)}function PS(e){return(e+"").trim().split(/^|\s+/).every(function(n){var t=n.indexOf(".");return t>=0&&(n=n.slice(0,t)),!n||n==="start"})}function ES(e,n,t){var s,o,c=PS(n)?S0:Gn;return function(){var u=c(this,e),f=u.on;f!==s&&(o=(s=f).copy()).on(n,t),u.on=o}}function MS(e,n){var t=this._id;return arguments.length<2?An(this.node(),t).on.on(e):this.each(ES(t,e,n))}function AS(e){return function(){var n=this.parentNode;for(var t in this.__transition)if(+t!==e)return;n&&n.removeChild(this)}}function IS(){return this.on("end.remove",AS(this._id))}function RS(e){var n=this._name,t=this._id;typeof e!="function"&&(e=b0(e));for(var s=this._groups,o=s.length,c=new Array(o),u=0;u<o;++u)for(var f=s[u],h=f.length,m=c[u]=new Array(h),p,y,b=0;b<h;++b)(p=f[b])&&(y=e.call(p,p.__data__,b,f))&&("__data__"in p&&(y.__data__=p.__data__),m[b]=y,Zl(m[b],n,t,b,m,An(p,t)));return new hr(c,this._parents,n,t)}function DS(e){var n=this._name,t=this._id;typeof e!="function"&&(e=Kx(e));for(var s=this._groups,o=s.length,c=[],u=[],f=0;f<o;++f)for(var h=s[f],m=h.length,p,y=0;y<m;++y)if(p=h[y]){for(var b=e.call(p,p.__data__,y,h),v,k=An(p,t),S=0,N=b.length;S<N;++S)(v=b[S])&&Zl(v,n,t,S,b,k);c.push(b),u.push(p)}return new hr(c,u,n,t)}var LS=Ys.prototype.constructor;function OS(){return new LS(this._groups,this._parents)}function $S(e,n){var t,s,o;return function(){var c=xi(this,e),u=(this.style.removeProperty(e),xi(this,e));return c===u?null:c===t&&u===s?o:o=n(t=c,s=u)}}function py(e){return function(){this.style.removeProperty(e)}}function FS(e,n,t){var s,o=t+"",c;return function(){var u=xi(this,e);return u===o?null:u===s?c:c=n(s=u,t)}}function VS(e,n,t){var s,o,c;return function(){var u=xi(this,e),f=t(this),h=f+"";return f==null&&(h=f=(this.style.removeProperty(e),xi(this,e))),u===h?null:u===s&&h===o?c:(o=h,c=n(s=u,f))}}function BS(e,n){var t,s,o,c="style."+n,u="end."+c,f;return function(){var h=Gn(this,e),m=h.on,p=h.value[c]==null?f||(f=py(n)):void 0;(m!==t||o!==p)&&(s=(t=m).copy()).on(u,o=p),h.on=s}}function qS(e,n,t){var s=(e+="")=="transform"?U4:my;return n==null?this.styleTween(e,$S(e,s)).on("end.style."+e,py(e)):typeof n=="function"?this.styleTween(e,VS(e,s,k0(this,"style."+e,n))).each(BS(this._id,e)):this.styleTween(e,FS(e,s,n),t).on("end.style."+e,null)}function WS(e,n,t){return function(s){this.style.setProperty(e,n.call(this,s),t)}}function HS(e,n,t){var s,o;function c(){var u=n.apply(this,arguments);return u!==o&&(s=(o=u)&&WS(e,u,t)),s}return c._value=n,c}function US(e,n,t){var s="style."+(e+="");if(arguments.length<2)return(s=this.tween(s))&&s._value;if(n==null)return this.tween(s,null);if(typeof n!="function")throw new Error;return this.tween(s,HS(e,n,t??""))}function YS(e){return function(){this.textContent=e}}function KS(e){return function(){var n=e(this);this.textContent=n??""}}function GS(e){return this.tween("text",typeof e=="function"?KS(k0(this,"text",e)):YS(e==null?"":e+""))}function XS(e){return function(n){this.textContent=e.call(this,n)}}function ZS(e){var n,t;function s(){var o=e.apply(this,arguments);return o!==t&&(n=(t=o)&&XS(o)),n}return s._value=e,s}function QS(e){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;return this.tween(n,ZS(e))}function JS(){for(var e=this._name,n=this._id,t=gy(),s=this._groups,o=s.length,c=0;c<o;++c)for(var u=s[c],f=u.length,h,m=0;m<f;++m)if(h=u[m]){var p=An(h,n);Zl(h,e,t,m,u,{time:p.time+p.delay+p.duration,delay:0,duration:p.duration,ease:p.ease})}return new hr(s,this._parents,e,t)}function ek(){var e,n,t=this,s=t._id,o=t.size();return new Promise(function(c,u){var f={value:u},h={value:function(){--o===0&&c()}};t.each(function(){var m=Gn(this,s),p=m.on;p!==e&&(n=(e=p).copy(),n._.cancel.push(f),n._.interrupt.push(f),n._.end.push(h)),m.on=n}),o===0&&c()})}var tk=0;function hr(e,n,t,s){this._groups=e,this._parents=n,this._name=t,this._id=s}function gy(){return++tk}var sr=Ys.prototype;hr.prototype={constructor:hr,select:RS,selectAll:DS,selectChild:sr.selectChild,selectChildren:sr.selectChildren,filter:TS,merge:zS,selection:OS,transition:JS,call:sr.call,nodes:sr.nodes,node:sr.node,size:sr.size,empty:sr.empty,each:sr.each,on:MS,attr:hS,attrTween:xS,style:qS,styleTween:US,text:GS,textTween:QS,remove:IS,tween:iS,delay:vS,duration:NS,ease:kS,easeVarying:CS,end:ek,[Symbol.iterator]:sr[Symbol.iterator]};function nk(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var rk={time:null,delay:0,duration:250,ease:nk};function ak(e,n){for(var t;!(t=e.__transition)||!(t=t[n]);)if(!(e=e.parentNode))throw new Error(`transition ${n} not found`);return t}function ik(e){var n,t;e instanceof hr?(n=e._id,e=e._name):(n=gy(),(t=rk).time=j0(),e=e==null?null:e+"");for(var s=this._groups,o=s.length,c=0;c<o;++c)for(var u=s[c],f=u.length,h,m=0;m<f;++m)(h=u[m])&&Zl(h,e,n,m,u,t||ak(h,n));return new hr(s,this._parents,e,n)}Ys.prototype.interrupt=nS;Ys.prototype.transition=ik;function sk(e,n){var t,s=1;e==null&&(e=0),n==null&&(n=0);function o(){var c,u=t.length,f,h=0,m=0;for(c=0;c<u;++c)f=t[c],h+=f.x,m+=f.y;for(h=(h/u-e)*s,m=(m/u-n)*s,c=0;c<u;++c)f=t[c],f.x-=h,f.y-=m}return o.initialize=function(c){t=c},o.x=function(c){return arguments.length?(e=+c,o):e},o.y=function(c){return arguments.length?(n=+c,o):n},o.strength=function(c){return arguments.length?(s=+c,o):s},o}function ok(e){const n=+this._x.call(null,e),t=+this._y.call(null,e);return xy(this.cover(n,t),n,t,e)}function xy(e,n,t,s){if(isNaN(n)||isNaN(t))return e;var o,c=e._root,u={data:s},f=e._x0,h=e._y0,m=e._x1,p=e._y1,y,b,v,k,S,N,C,M;if(!c)return e._root=u,e;for(;c.length;)if((S=n>=(y=(f+m)/2))?f=y:m=y,(N=t>=(b=(h+p)/2))?h=b:p=b,o=c,!(c=c[C=N<<1|S]))return o[C]=u,e;if(v=+e._x.call(null,c.data),k=+e._y.call(null,c.data),n===v&&t===k)return u.next=c,o?o[C]=u:e._root=u,e;do o=o?o[C]=new Array(4):e._root=new Array(4),(S=n>=(y=(f+m)/2))?f=y:m=y,(N=t>=(b=(h+p)/2))?h=b:p=b;while((C=N<<1|S)===(M=(k>=b)<<1|v>=y));return o[M]=c,o[C]=u,e}function lk(e){var n,t,s=e.length,o,c,u=new Array(s),f=new Array(s),h=1/0,m=1/0,p=-1/0,y=-1/0;for(t=0;t<s;++t)isNaN(o=+this._x.call(null,n=e[t]))||isNaN(c=+this._y.call(null,n))||(u[t]=o,f[t]=c,o<h&&(h=o),o>p&&(p=o),c<m&&(m=c),c>y&&(y=c));if(h>p||m>y)return this;for(this.cover(h,m).cover(p,y),t=0;t<s;++t)xy(this,u[t],f[t],e[t]);return this}function ck(e,n){if(isNaN(e=+e)||isNaN(n=+n))return this;var t=this._x0,s=this._y0,o=this._x1,c=this._y1;if(isNaN(t))o=(t=Math.floor(e))+1,c=(s=Math.floor(n))+1;else{for(var u=o-t||1,f=this._root,h,m;t>e||e>=o||s>n||n>=c;)switch(m=(n<s)<<1|e<t,h=new Array(4),h[m]=f,f=h,u*=2,m){case 0:o=t+u,c=s+u;break;case 1:t=o-u,c=s+u;break;case 2:o=t+u,s=c-u;break;case 3:t=o-u,s=c-u;break}this._root&&this._root.length&&(this._root=f)}return this._x0=t,this._y0=s,this._x1=o,this._y1=c,this}function uk(){var e=[];return this.visit(function(n){if(!n.length)do e.push(n.data);while(n=n.next)}),e}function dk(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Ft(e,n,t,s,o){this.node=e,this.x0=n,this.y0=t,this.x1=s,this.y1=o}function hk(e,n,t){var s,o=this._x0,c=this._y0,u,f,h,m,p=this._x1,y=this._y1,b=[],v=this._root,k,S;for(v&&b.push(new Ft(v,o,c,p,y)),t==null?t=1/0:(o=e-t,c=n-t,p=e+t,y=n+t,t*=t);k=b.pop();)if(!(!(v=k.node)||(u=k.x0)>p||(f=k.y0)>y||(h=k.x1)<o||(m=k.y1)<c))if(v.length){var N=(u+h)/2,C=(f+m)/2;b.push(new Ft(v[3],N,C,h,m),new Ft(v[2],u,C,N,m),new Ft(v[1],N,f,h,C),new Ft(v[0],u,f,N,C)),(S=(n>=C)<<1|e>=N)&&(k=b[b.length-1],b[b.length-1]=b[b.length-1-S],b[b.length-1-S]=k)}else{var M=e-+this._x.call(null,v.data),_=n-+this._y.call(null,v.data),T=M*M+_*_;if(T<t){var R=Math.sqrt(t=T);o=e-R,c=n-R,p=e+R,y=n+R,s=v.data}}return s}function fk(e){if(isNaN(p=+this._x.call(null,e))||isNaN(y=+this._y.call(null,e)))return this;var n,t=this._root,s,o,c,u=this._x0,f=this._y0,h=this._x1,m=this._y1,p,y,b,v,k,S,N,C;if(!t)return this;if(t.length)for(;;){if((k=p>=(b=(u+h)/2))?u=b:h=b,(S=y>=(v=(f+m)/2))?f=v:m=v,n=t,!(t=t[N=S<<1|k]))return this;if(!t.length)break;(n[N+1&3]||n[N+2&3]||n[N+3&3])&&(s=n,C=N)}for(;t.data!==e;)if(o=t,!(t=t.next))return this;return(c=t.next)&&delete t.next,o?(c?o.next=c:delete o.next,this):n?(c?n[N]=c:delete n[N],(t=n[0]||n[1]||n[2]||n[3])&&t===(n[3]||n[2]||n[1]||n[0])&&!t.length&&(s?s[C]=t:this._root=t),this):(this._root=c,this)}function mk(e){for(var n=0,t=e.length;n<t;++n)this.remove(e[n]);return this}function pk(){return this._root}function gk(){var e=0;return this.visit(function(n){if(!n.length)do++e;while(n=n.next)}),e}function xk(e){var n=[],t,s=this._root,o,c,u,f,h;for(s&&n.push(new Ft(s,this._x0,this._y0,this._x1,this._y1));t=n.pop();)if(!e(s=t.node,c=t.x0,u=t.y0,f=t.x1,h=t.y1)&&s.length){var m=(c+f)/2,p=(u+h)/2;(o=s[3])&&n.push(new Ft(o,m,p,f,h)),(o=s[2])&&n.push(new Ft(o,c,p,m,h)),(o=s[1])&&n.push(new Ft(o,m,u,f,p)),(o=s[0])&&n.push(new Ft(o,c,u,m,p))}return this}function yk(e){var n=[],t=[],s;for(this._root&&n.push(new Ft(this._root,this._x0,this._y0,this._x1,this._y1));s=n.pop();){var o=s.node;if(o.length){var c,u=s.x0,f=s.y0,h=s.x1,m=s.y1,p=(u+h)/2,y=(f+m)/2;(c=o[0])&&n.push(new Ft(c,u,f,p,y)),(c=o[1])&&n.push(new Ft(c,p,f,h,y)),(c=o[2])&&n.push(new Ft(c,u,y,p,m)),(c=o[3])&&n.push(new Ft(c,p,y,h,m))}t.push(s)}for(;s=t.pop();)e(s.node,s.x0,s.y0,s.x1,s.y1);return this}function bk(e){return e[0]}function vk(e){return arguments.length?(this._x=e,this):this._x}function wk(e){return e[1]}function jk(e){return arguments.length?(this._y=e,this):this._y}function yy(e,n,t){var s=new _0(n??bk,t??wk,NaN,NaN,NaN,NaN);return e==null?s:s.addAll(e)}function _0(e,n,t,s,o,c){this._x=e,this._y=n,this._x0=t,this._y0=s,this._x1=o,this._y1=c,this._root=void 0}function qp(e){for(var n={data:e.data},t=n;e=e.next;)t=t.next={data:e.data};return n}var Bt=yy.prototype=_0.prototype;Bt.copy=function(){var e=new _0(this._x,this._y,this._x0,this._y0,this._x1,this._y1),n=this._root,t,s;if(!n)return e;if(!n.length)return e._root=qp(n),e;for(t=[{source:n,target:e._root=new Array(4)}];n=t.pop();)for(var o=0;o<4;++o)(s=n.source[o])&&(s.length?t.push({source:s,target:n.target[o]=new Array(4)}):n.target[o]=qp(s));return e};Bt.add=ok;Bt.addAll=lk;Bt.cover=ck;Bt.data=uk;Bt.extent=dk;Bt.find=hk;Bt.remove=fk;Bt.removeAll=mk;Bt.root=pk;Bt.size=gk;Bt.visit=xk;Bt.visitAfter=yk;Bt.x=vk;Bt.y=jk;function _s(e){return function(){return e}}function ui(e){return(e()-.5)*1e-6}function Nk(e){return e.index}function Wp(e,n){var t=e.get(n);if(!t)throw new Error("node not found: "+n);return t}function Sk(e){var n=Nk,t=y,s,o=_s(30),c,u,f,h,m,p=1;e==null&&(e=[]);function y(N){return 1/Math.min(f[N.source.index],f[N.target.index])}function b(N){for(var C=0,M=e.length;C<p;++C)for(var _=0,T,R,A,O,U,ae,H;_<M;++_)T=e[_],R=T.source,A=T.target,O=A.x+A.vx-R.x-R.vx||ui(m),U=A.y+A.vy-R.y-R.vy||ui(m),ae=Math.sqrt(O*O+U*U),ae=(ae-c[_])/ae*N*s[_],O*=ae,U*=ae,A.vx-=O*(H=h[_]),A.vy-=U*H,R.vx+=O*(H=1-H),R.vy+=U*H}function v(){if(u){var N,C=u.length,M=e.length,_=new Map(u.map((R,A)=>[n(R,A,u),R])),T;for(N=0,f=new Array(C);N<M;++N)T=e[N],T.index=N,typeof T.source!="object"&&(T.source=Wp(_,T.source)),typeof T.target!="object"&&(T.target=Wp(_,T.target)),f[T.source.index]=(f[T.source.index]||0)+1,f[T.target.index]=(f[T.target.index]||0)+1;for(N=0,h=new Array(M);N<M;++N)T=e[N],h[N]=f[T.source.index]/(f[T.source.index]+f[T.target.index]);s=new Array(M),k(),c=new Array(M),S()}}function k(){if(u)for(var N=0,C=e.length;N<C;++N)s[N]=+t(e[N],N,e)}function S(){if(u)for(var N=0,C=e.length;N<C;++N)c[N]=+o(e[N],N,e)}return b.initialize=function(N,C){u=N,m=C,v()},b.links=function(N){return arguments.length?(e=N,v(),b):e},b.id=function(N){return arguments.length?(n=N,b):n},b.iterations=function(N){return arguments.length?(p=+N,b):p},b.strength=function(N){return arguments.length?(t=typeof N=="function"?N:_s(+N),k(),b):t},b.distance=function(N){return arguments.length?(o=typeof N=="function"?N:_s(+N),S(),b):o},b}const kk=1664525,_k=1013904223,Hp=4294967296;function Ck(){let e=1;return()=>(e=(kk*e+_k)%Hp)/Hp}function Tk(e){return e.x}function zk(e){return e.y}var Pk=10,Ek=Math.PI*(3-Math.sqrt(5));function Mk(e){var n,t=1,s=.001,o=1-Math.pow(s,1/300),c=0,u=.6,f=new Map,h=N0(y),m=Kl("tick","end"),p=Ck();e==null&&(e=[]);function y(){b(),m.call("tick",n),t<s&&(h.stop(),m.call("end",n))}function b(S){var N,C=e.length,M;S===void 0&&(S=1);for(var _=0;_<S;++_)for(t+=(c-t)*o,f.forEach(function(T){T(t)}),N=0;N<C;++N)M=e[N],M.fx==null?M.x+=M.vx*=u:(M.x=M.fx,M.vx=0),M.fy==null?M.y+=M.vy*=u:(M.y=M.fy,M.vy=0);return n}function v(){for(var S=0,N=e.length,C;S<N;++S){if(C=e[S],C.index=S,C.fx!=null&&(C.x=C.fx),C.fy!=null&&(C.y=C.fy),isNaN(C.x)||isNaN(C.y)){var M=Pk*Math.sqrt(.5+S),_=S*Ek;C.x=M*Math.cos(_),C.y=M*Math.sin(_)}(isNaN(C.vx)||isNaN(C.vy))&&(C.vx=C.vy=0)}}function k(S){return S.initialize&&S.initialize(e,p),S}return v(),n={tick:b,restart:function(){return h.restart(y),n},stop:function(){return h.stop(),n},nodes:function(S){return arguments.length?(e=S,v(),f.forEach(k),n):e},alpha:function(S){return arguments.length?(t=+S,n):t},alphaMin:function(S){return arguments.length?(s=+S,n):s},alphaDecay:function(S){return arguments.length?(o=+S,n):+o},alphaTarget:function(S){return arguments.length?(c=+S,n):c},velocityDecay:function(S){return arguments.length?(u=1-S,n):1-u},randomSource:function(S){return arguments.length?(p=S,f.forEach(k),n):p},force:function(S,N){return arguments.length>1?(N==null?f.delete(S):f.set(S,k(N)),n):f.get(S)},find:function(S,N,C){var M=0,_=e.length,T,R,A,O,U;for(C==null?C=1/0:C*=C,M=0;M<_;++M)O=e[M],T=S-O.x,R=N-O.y,A=T*T+R*R,A<C&&(U=O,C=A);return U},on:function(S,N){return arguments.length>1?(m.on(S,N),n):m.on(S)}}}function Ak(){var e,n,t,s,o=_s(-30),c,u=1,f=1/0,h=.81;function m(v){var k,S=e.length,N=yy(e,Tk,zk).visitAfter(y);for(s=v,k=0;k<S;++k)n=e[k],N.visit(b)}function p(){if(e){var v,k=e.length,S;for(c=new Array(k),v=0;v<k;++v)S=e[v],c[S.index]=+o(S,v,e)}}function y(v){var k=0,S,N,C=0,M,_,T;if(v.length){for(M=_=T=0;T<4;++T)(S=v[T])&&(N=Math.abs(S.value))&&(k+=S.value,C+=N,M+=N*S.x,_+=N*S.y);v.x=M/C,v.y=_/C}else{S=v,S.x=S.data.x,S.y=S.data.y;do k+=c[S.data.index];while(S=S.next)}v.value=k}function b(v,k,S,N){if(!v.value)return!0;var C=v.x-n.x,M=v.y-n.y,_=N-k,T=C*C+M*M;if(_*_/h<T)return T<f&&(C===0&&(C=ui(t),T+=C*C),M===0&&(M=ui(t),T+=M*M),T<u&&(T=Math.sqrt(u*T)),n.vx+=C*v.value*s/T,n.vy+=M*v.value*s/T),!0;if(v.length||T>=f)return;(v.data!==n||v.next)&&(C===0&&(C=ui(t),T+=C*C),M===0&&(M=ui(t),T+=M*M),T<u&&(T=Math.sqrt(u*T)));do v.data!==n&&(_=c[v.data.index]*s/T,n.vx+=C*_,n.vy+=M*_);while(v=v.next)}return m.initialize=function(v,k){e=v,t=k,p()},m.strength=function(v){return arguments.length?(o=typeof v=="function"?v:_s(+v),p(),m):o},m.distanceMin=function(v){return arguments.length?(u=v*v,m):Math.sqrt(u)},m.distanceMax=function(v){return arguments.length?(f=v*v,m):Math.sqrt(f)},m.theta=function(v){return arguments.length?(h=v*v,m):Math.sqrt(h)},m}function bs(e,n,t){this.k=e,this.x=n,this.y=t}bs.prototype={constructor:bs,scale:function(e){return e===1?this:new bs(this.k*e,this.x,this.y)},translate:function(e,n){return e===0&n===0?this:new bs(this.k,this.x+this.k*e,this.y+this.k*n)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};bs.prototype;const ps={family:{lineType:"solid",color:"#E74C3C",width:3},master:{lineType:"dashed",color:"#3498DB",width:2,dashArray:"5,5"},enemy:{lineType:"solid",color:"#9B59B6",width:3,dashArray:"1,0"},alliance:{lineType:"dotted",color:"#2ECC71",width:2,dashArray:"2,2"},subordinate:{lineType:"solid",color:"#F39C12",width:2},custom:{lineType:"solid",color:"#95A5A6",width:2}},Ik=()=>{const{theme:e}=Ta(),n=Kn();Lb();const t=j.useRef(null),s=j.useRef(null),[o,c]=j.useState("default"),[u,f]=j.useState(null),[h,m]=j.useState([]),[p,y]=j.useState([]),[b,v]=j.useState(""),[k,S]=j.useState([]),[N,C]=j.useState(null),[M,_]=j.useState(null),[T,R]=j.useState(!1),[A,O]=j.useState(null),[U,ae]=j.useState(null),[H,le]=j.useState({x:0,y:0,k:1}),[je,Ae]=j.useState(!1),[Te,$e]=j.useState({x:0,y:0}),[De,xe]=j.useState(!0),[Y,de]=j.useState([]),[ie,L]=j.useState(!1),[K,ze]=j.useState(""),[Pe,Me]=j.useState(""),[Ie,Fe]=j.useState(!1),[Le,We]=j.useState("json"),[ht,wn]=j.useState("");j.useEffect(()=>{(()=>{const ue=[];Object.entries(Ge).forEach(([J,fe])=>{if(!fe)return;let oe="未知";fe.name.includes("徐清岚")&&!fe.name.includes("（神）")&&!fe.name.includes("（梦）")||fe.name==="屹九"||fe.name.includes("Vexithra")||fe.name==="羽尘"?oe="人类世界":fe.name==="清鸢"||fe.name==="善•猫教主"||fe.name==="青玄"||fe.name==="奈奈生"||fe.name==="晓月"?oe="光明大陆":fe.name==="慕容言风"||fe.name==="沐沐"?oe="暗影大陆":fe.name==="冥界三使"||fe.name==="筱燊傀"?oe="冥界":fe.name==="凌"||fe.name==="星褶"?oe="洪荒":fe.name==="云璃•时光裁决者"&&(oe="命运神殿"),ue.push({id:`plant_${J}`,name:fe.name,avatar:Vr[J],type:"plant",faction:oe,title:fe.category,position:{x:Math.random()*800,y:Math.random()*600},attributes:{health:fe.health,damage:fe.damage,cost:fe.cost,rarity:fe.rarity},createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()})}),Object.entries(wt).forEach(([J,fe])=>{if(!fe)return;let oe="未知";J==="xuqinglan_dark"||J==="vexithra"||J==="xian"?oe="人类世界":J==="su_huai"||J==="cat_leader"||J==="ji_zai"||J==="li_huo"||J==="xia"||J==="alibi"||J==="qiuyue"?oe="暗影大陆":J==="shantao"&&(oe="时空城"),ue.push({id:`zombie_${J}`,name:fe.name,avatar:Br[J],type:"zombie",faction:oe,title:fe.difficulty,position:{x:Math.random()*800,y:Math.random()*600},attributes:{health:fe.health,damage:fe.damage,speed:fe.speed,armor:fe.armor},createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()})}),m(ue),S(ue),Qt(ue)})(),P();const te=setInterval(()=>{u&&X()},3e4);return()=>clearInterval(te)},[]);const Qt=V=>{const te=localStorage.getItem("characterRelationship_default");if(te)try{const Ze=JSON.parse(te);f(Ze),y(Ze.nodes.map(cn=>cn.id));return}catch(Ze){console.error("Failed to load default scheme:",Ze)}const ue=V.filter(Ze=>Ze.name==="清鸢"||Ze.name==="宿槐"||Ze.name==="徐清岚（魔法少女）"||Ze.name==="善•猫教主"||Ze.name==="青玄"),J=ue.map((Ze,cn)=>{const Xn=cn/ue.length*2*Math.PI,Nn=200;return{...Ze,position:{x:400+Nn*Math.cos(Xn),y:300+Nn*Math.sin(Xn)}}}),fe=[],oe=J.find(Ze=>Ze.name==="清鸢"),be=J.find(Ze=>Ze.name==="宿槐"),Xe=J.find(Ze=>Ze.name==="徐清岚（魔法少女）"),on=J.find(Ze=>Ze.name==="善•猫教主");oe&&be&&fe.push({id:`relation_${Date.now()}_1`,source:oe.id,target:be.id,type:"enemy",label:"敌对",strength:.9,direction:"bidirectional",attributes:{event:"光暗之战"},style:ps.enemy,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}),oe&&Xe&&fe.push({id:`relation_${Date.now()}_2`,source:oe.id,target:Xe.id,type:"alliance",label:"同盟",strength:.8,direction:"bidirectional",attributes:{event:"共同对抗暗影"},style:ps.alliance,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}),oe&&on&&fe.push({id:`relation_${Date.now()}_3`,source:oe.id,target:on.id,type:"master",label:"救赎",strength:.7,direction:"unidirectional",attributes:{event:"净化黑暗"},style:ps.master,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()});const ln={id:"default",name:"默认关系图",description:"主要角色的关系网络",nodes:J,edges:fe,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};f(ln),y(J.map(Ze=>Ze.id)),localStorage.setItem("characterRelationship_default",JSON.stringify(ln))},P=()=>{try{const V=localStorage.getItem("characterRelationship_schemes");if(V){const te=JSON.parse(V);de(te)}}catch(V){console.error("Failed to load saved schemes:",V)}},X=j.useCallback(()=>{if(u)try{if(u.id==="default")localStorage.setItem("characterRelationship_default",JSON.stringify(u));else{const V=[...Y],te=V.findIndex(ue=>ue.id===u.id);te>=0?V[te]=u:V.push(u),de(V),localStorage.setItem("characterRelationship_schemes",JSON.stringify(V))}}catch(V){console.error("Failed to save current scheme:",V)}},[u,Y]);j.useEffect(()=>{if(b.trim()==="")S(h);else{const V=h.filter(te=>{var ue;return te.name.toLowerCase().includes(b.toLowerCase())||te.faction.toLowerCase().includes(b.toLowerCase())||((ue=te.title)==null?void 0:ue.toLowerCase().includes(b.toLowerCase()))});S(V)}},[b,h]),j.useEffect(()=>{if(!s.current||!u)return;const te=Wr(s.current).select("g");te.selectAll("*").remove(),te.attr("transform",`translate(${H.x},${H.y}) scale(${H.k})`);const ue=Mk(u.nodes).force("link",Sk(u.edges).id(oe=>oe.id).distance(150)).force("charge",Ak().strength(-300)).force("center",sk(400,300)),J=te.append("g").attr("stroke","#999").attr("stroke-opacity",.6).selectAll("line").data(u.edges).join("line").attr("stroke-width",oe=>oe.style.width).attr("stroke",oe=>oe.style.color).style("stroke-dasharray",oe=>oe.style.dashArray||"none").style("cursor","pointer").on("click",(oe,be)=>{oe.stopPropagation(),_(be.id),C(null)}).on("mouseover",function(oe,be){Wr(this).attr("stroke-width",be.style.width*1.5).style("stroke-opacity",.9);const Xe=Wr("body").append("div").attr("class","fixed z-50 bg-gray-800 text-white p-2 rounded shadow-lg text-sm").style("left",`${oe.pageX+10}px`).style("top",`${oe.pageY-10}px`).style("opacity",0).transition().duration(200).style("opacity",1);Xe.html(`<strong>${be.label}</strong><br/>强度: ${be.strength*100}%`),this.tooltip=Xe}).on("mouseout",function(){Wr(this).attr("stroke-width",oe=>oe.style.width).style("stroke-opacity",.6),this.tooltip&&this.tooltip.transition().duration(200).style("opacity",0).remove()}),fe=te.append("g").selectAll("g").data(u.nodes).join("g").attr("transform",oe=>`translate(${oe.position.x},${oe.position.y})`).call(k4().on("start",(oe,be)=>{oe.active||ue.alphaTarget(.3).restart(),be.fx=be.position.x,be.fy=be.position.y,ae(be.id),C(be.id)}).on("drag",(oe,be)=>{be.fx=oe.x,be.fy=oe.y,we(be.id,oe.x,oe.y)}).on("end",(oe,be)=>{oe.active||ue.alphaTarget(0),be.fx=null,be.fy=null,ae(null),T&&A&&A!==be.id&&(se(A,be.id),R(!1),O(null))})).on("click",(oe,be)=>{oe.stopPropagation(),T?A===be.id?(R(!1),O(null)):(se(A,be.id),R(!1),O(null)):(C(be.id),_(null))});return fe.append("circle").attr("r",35).attr("fill",oe=>oe.type==="plant"?"#228B22":"#8B0000").attr("stroke",oe=>oe.id===N?"#FFD700":"#fff").attr("stroke-width",oe=>oe.id===N?3:2).style("cursor","pointer"),fe.append("image").attr("xlink:href",oe=>oe.avatar).attr("x",-25).attr("y",-25).attr("width",50).attr("height",50).attr("clip-path","circle(25px at center)").style("cursor","pointer"),fe.append("text").text(oe=>oe.name).attr("x",0).attr("y",55).attr("text-anchor","middle").attr("fill","#fff").attr("font-size",12).attr("font-weight","bold").style("pointer-events","none"),fe.append("text").text(oe=>oe.faction).attr("x",0).attr("y",70).attr("text-anchor","middle").attr("fill","#ccc").attr("font-size",10).style("pointer-events","none"),ue.on("tick",()=>{J.attr("x1",oe=>{const be=u==null?void 0:u.nodes.find(Xe=>Xe.id===oe.source);return(be==null?void 0:be.position.x)||0}).attr("y1",oe=>{const be=u==null?void 0:u.nodes.find(Xe=>Xe.id===oe.source);return(be==null?void 0:be.position.y)||0}).attr("x2",oe=>{const be=u==null?void 0:u.nodes.find(Xe=>Xe.id===oe.target);return(be==null?void 0:be.position.x)||0}).attr("y2",oe=>{const be=u==null?void 0:u.nodes.find(Xe=>Xe.id===oe.target);return(be==null?void 0:be.position.y)||0}),fe.attr("transform",oe=>`translate(${oe.position.x},${oe.position.y})`)}),()=>{ue.stop()}},[u,H,T,A,N,M,U]);const we=j.useCallback((V,te,ue)=>{if(!u)return;const J=u.nodes.map(fe=>fe.id===V?{...fe,position:{x:te,y:ue},updatedAt:new Date().toISOString()}:fe);f(fe=>fe?{...fe,nodes:J,updatedAt:new Date().toISOString()}:null)},[u]),Re=j.useCallback(V=>{if(!u||u.nodes.some(J=>J.id===V))return;const te=h.find(J=>J.id===V);if(!te)return;const ue={...te,position:{x:400+(Math.random()-.5)*200,y:300+(Math.random()-.5)*200},createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};f(J=>J?{...J,nodes:[...J.nodes,ue],updatedAt:new Date().toISOString()}:null),y(J=>[...J,V])},[u,h]),_e=j.useCallback(V=>{if(!u)return;const te=u.nodes.filter(J=>J.id!==V),ue=u.edges.filter(J=>J.source!==V&&J.target!==V);f(J=>J?{...J,nodes:te,edges:ue,updatedAt:new Date().toISOString()}:null),y(J=>J.filter(fe=>fe!==V)),N===V&&C(null)},[u,N]),se=j.useCallback((V,te)=>{if(!u)return;const ue={id:`relation_${Date.now()}`,source:V,target:te,type:"alliance",label:"同盟",strength:.7,direction:"bidirectional",attributes:{},style:ps.alliance,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};f(J=>J?{...J,edges:[...J.edges,ue],updatedAt:new Date().toISOString()}:null),_(ue.id),C(null)},[u]),Ye=j.useCallback(V=>{if(!u)return;const te=u.edges.filter(ue=>ue.id!==V);f(ue=>ue?{...ue,edges:te,updatedAt:new Date().toISOString()}:null),_(null)},[u]),kt=j.useCallback(V=>{R(!0),O(V),C(V)},[]);j.useCallback(()=>{R(!1),O(null)},[]);const Ve=j.useCallback((V,te)=>{if(!u)return;const ue=u.edges.map(J=>J.id===V?{...J,...te,updatedAt:new Date().toISOString(),style:te.type?ps[te.type]:J.style}:J);f(J=>J?{...J,edges:ue,updatedAt:new Date().toISOString()}:null)},[u]),sn=j.useCallback(V=>{V.preventDefault();const te=V.deltaY>0?.9:1.1;le(ue=>{var Xe;const J=R3(ue.k*te,.5,2),fe=(Xe=s.current)==null?void 0:Xe.getBoundingClientRect();if(!fe)return{...ue,k:J};const oe=V.clientX-fe.left,be=V.clientY-fe.top;return{x:oe-(oe-ue.x)*(J/ue.k),y:be-(be-ue.y)*(J/ue.k),k:J}})},[]),za=j.useCallback(V=>{V.button!==1&&!V.ctrlKey||(Ae(!0),$e({x:V.clientX,y:V.clientY}))},[]),Pa=j.useCallback(V=>{if(!je)return;const te=V.clientX-Te.x,ue=V.clientY-Te.y;le(J=>({...J,x:J.x+te,y:J.y+ue})),$e({x:V.clientX,y:V.clientY})},[je,Te]),mr=j.useCallback(()=>{Ae(!1)},[]),Kr=j.useCallback(()=>{le({x:0,y:0,k:1})},[]),pr=j.useCallback(()=>{if(!u||!K.trim())return;const V={...u,id:`scheme_${Date.now()}`,name:K.trim(),description:Pe.trim(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};try{const te=[...Y,V];de(te),localStorage.setItem("characterRelationship_schemes",JSON.stringify(te)),f(V),c(V.id),L(!1),ze(""),Me("")}catch(te){console.error("Failed to save new scheme:",te)}},[u,K,Pe,Y]),jn=j.useCallback(V=>{if(V==="default"){const te=localStorage.getItem("characterRelationship_default");if(te)try{const ue=JSON.parse(te);f(ue),y(ue.nodes.map(J=>J.id)),c(V)}catch(ue){console.error("Failed to load default scheme:",ue)}}else{const te=Y.find(ue=>ue.id===V);te&&(f(te),y(te.nodes.map(ue=>ue.id)),c(V))}},[Y]),Gr=j.useCallback(V=>{if(window.confirm("确定要删除这个方案吗？此操作不可撤销。"))try{const te=Y.filter(ue=>ue.id!==V);de(te),localStorage.setItem("characterRelationship_schemes",JSON.stringify(te)),o===V&&jn("default")}catch(te){console.error("Failed to delete scheme:",te)}},[Y,o,jn]),In=j.useCallback(()=>{if(u){if(Le==="json"){const V=JSON.stringify(u,null,2),te="data:application/json;charset=utf-8,"+encodeURIComponent(V),ue=`${u.name.replace(/\s+/g,"_")}_relationship_map.json`,J=document.createElement("a");J.setAttribute("href",te),J.setAttribute("download",ue),J.click()}else Le==="image"&&alert("图像导出功能尚未完全实现");Fe(!1)}},[u,Le]),Rn=j.useCallback(V=>{var J;const te=(J=V.target.files)==null?void 0:J[0];if(!te)return;const ue=new FileReader;ue.onload=fe=>{var oe;try{const be=(oe=fe.target)==null?void 0:oe.result,Xe=JSON.parse(be);if(Xe.nodes&&Array.isArray(Xe.nodes)&&Xe.edges&&Array.isArray(Xe.edges)){const on={...Xe,id:`scheme_${Date.now()}`,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},ln=[...Y,on];de(ln),localStorage.setItem("characterRelationship_schemes",JSON.stringify(ln)),f(on),c(on.id),alert("方案导入成功！")}else throw new Error("无效的方案文件格式")}catch(be){console.error("Failed to import scheme:",be),alert("导入失败："+be.message)}},ue.readAsText(te),V.target.value=""},[Y]),Ea=j.useCallback(()=>{window.confirm("确定要清空当前关系图吗？此操作不可撤销。")&&(f(V=>V?{...V,nodes:[],edges:[],updatedAt:new Date().toISOString()}:null),y([]),C(null),_(null))},[]),Xr=()=>{if(!N||!u)return null;const V=u.nodes.find(te=>te.id===N);return V?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("h3",{className:"text-lg font-bold text-white flex items-center",children:[i.jsx("i",{className:`fa-solid ${V.type==="plant"?"fa-seedling text-green-400":"fa-skull text-red-400"} mr-2`}),"角色详情"]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:"w-16 h-16 rounded-full overflow-hidden border-2 border-white",children:i.jsx("img",{src:V.avatar,alt:V.name,className:"w-full h-full object-cover"})}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-xl font-bold text-white",children:V.name}),i.jsxs("p",{className:"text-gray-400",children:[V.faction," · ",V.title]})]})]}),i.jsx("div",{className:"grid grid-cols-2 gap-3",children:Object.entries(V.attributes).map(([te,ue])=>i.jsxs("div",{className:"bg-gray-800 p-2 rounded-lg",children:[i.jsx("div",{className:"text-xs text-gray-400",children:te}),i.jsx("div",{className:"font-bold text-white",children:ue})]},te))}),i.jsxs("button",{onClick:()=>kt(V.id),className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white font-medium py-2 px-4 rounded-lg transition-colors duration-200 flex items-center justify-center",children:[i.jsx("i",{className:"fa-solid fa-link mr-2"})," 创建关系"]}),i.jsxs("button",{onClick:()=>_e(V.id),className:"w-full bg-red-600 hover:bg-red-700 text-white font-medium py-2 px-4 rounded-lg transition-colors duration-200 flex items-center justify-center",children:[i.jsx("i",{className:"fa-solid fa-trash-alt mr-2"})," 从关系图中移除"]})]}):null},Zr=()=>{if(!M||!u)return null;const V=u.edges.find(J=>J.id===M);if(!V)return null;const te=u.nodes.find(J=>J.id===V.source),ue=u.nodes.find(J=>J.id===V.target);return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("h3",{className:"text-lg font-bold text-white flex items-center",children:[i.jsx("i",{className:"fa-solid fa-arrows-between-lines text-purple-400 mr-2"}),"关系详情"]}),i.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800 rounded-lg",children:[i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:"w-12 h-12 rounded-full overflow-hidden border-2 border-white mb-1",children:i.jsx("img",{src:te==null?void 0:te.avatar,alt:te==null?void 0:te.name,className:"w-full h-full object-cover"})}),i.jsx("span",{className:"text-xs text-white",children:te==null?void 0:te.name})]}),i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:"w-16 h-1 bg-current mb-1",style:{backgroundColor:V.style.color,width:"32px",height:`${V.style.width}px`,borderStyle:V.style.lineType==="solid"?"solid":"dashed",borderWidth:V.style.width,borderColor:V.style.color,borderDasharray:V.style.dashArray}}),i.jsx("span",{className:"text-xs text-purple-400",children:V.label})]}),i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:"w-12 h-12 rounded-full overflow-hidden border-2 border-white mb-1",children:i.jsx("img",{src:ue==null?void 0:ue.avatar,alt:ue==null?void 0:ue.name,className:"w-full h-full object-cover"})}),i.jsx("span",{className:"text-xs text-white",children:ue==null?void 0:ue.name})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"关系类型"}),i.jsxs("select",{value:V.type,onChange:J=>{const fe=J.target.value,oe=fe==="custom"&&ht?ht:Ma(fe);Ve(V.id,{type:fe,label:oe})},className:"w-full bg-gray-800 border border-gray-700 text-white rounded-lg p-2",children:[i.jsx("option",{value:"family",children:"亲属关系"}),i.jsx("option",{value:"master",children:"师徒关系"}),i.jsx("option",{value:"enemy",children:"敌对关系"}),i.jsx("option",{value:"alliance",children:"同盟关系"}),i.jsx("option",{value:"subordinate",children:"从属关系"}),i.jsx("option",{value:"custom",children:"自定义"})]})]}),V.type==="custom"&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"自定义关系名称"}),i.jsx("input",{type:"text",value:ht||V.label,onChange:J=>{wn(J.target.value),Ve(V.id,{label:J.target.value})},placeholder:"输入自定义关系名称",className:"w-full bg-gray-800 border border-gray-700 text-white rounded-lg p-2"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"关系强度"}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:V.strength,onChange:J=>Ve(V.id,{strength:parseFloat(J.target.value)}),className:"w-full accent-purple-500"}),i.jsxs("span",{className:"ml-2 text-sm text-white",children:[Math.round(V.strength*100),"%"]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"关系方向"}),i.jsxs("select",{value:V.direction,onChange:J=>Ve(V.id,{direction:J.target.value}),className:"w-full bg-gray-800 border border-gray-700 text-white rounded-lg p-2",children:[i.jsx("option",{value:"bidirectional",children:"双向"}),i.jsx("option",{value:"unidirectional",children:"单向"})]})]})]}),i.jsxs("button",{onClick:()=>Ye(V.id),className:"w-full bg-red-600 hover:bg-red-700 text-white font-medium py-2 px-4 rounded-lg transition-colors duration-200 flex items-center justify-center",children:[i.jsx("i",{className:"fa-solid fa-trash-alt mr-2"})," 删除关系"]})]})},Ma=V=>{switch(V){case"family":return"亲属";case"master":return"师徒";case"enemy":return"敌对";case"alliance":return"同盟";case"subordinate":return"从属";default:return"自定义"}};j.useEffect(()=>{const V=te=>{te.key==="Delete"&&(N||M)?(te.preventDefault(),N?_e(N):M&&Ye(M)):(te.ctrlKey&&te.key==="a"||te.ctrlKey&&te.key==="z"||te.ctrlKey&&te.key==="y")&&te.preventDefault()};return window.addEventListener("keydown",V),()=>window.removeEventListener("keydown",V)},[N,M,_e,Ye]);const gr=(V,te)=>{V.dataTransfer.setData("characterId",te)},xr=V=>{V.preventDefault(),V.dataTransfer.dropEffect="copy"},yr=V=>{V.preventDefault();const te=V.dataTransfer.getData("characterId");te&&Re(te)};return i.jsxs("div",{className:`min-h-screen ${e==="light"?"bg-gray-100":"bg-gray-900"} text-gray-900 dark:text-white transition-colors duration-300 p-4 relative overflow-hidden`,children:[i.jsxs("div",{className:"fixed top-0 left-0 right-0 bottom-0 pointer-events-none z-0",children:[i.jsx(E.div,{className:"absolute top-1/4 right-1/4 w-1/3 h-1/3 bg-purple-500/5 rounded-full blur-3xl",animate:{scale:[1,1.2,1],x:[0,-20,0],y:[0,-20,0]},transition:{duration:15,repeat:1/0,ease:"easeInOut"}}),i.jsx(E.div,{className:"absolute bottom-1/4 left-1/4 w-1/3 h-1/3 bg-blue-500/5 rounded-full blur-3xl",animate:{scale:[1,1.2,1],x:[0,20,0],y:[0,20,0]},transition:{duration:12,repeat:1/0,ease:"easeInOut",delay:1}})]}),i.jsxs("header",{className:"max-w-7xl mx-auto mb-6 relative z-10",children:[i.jsx("div",{className:"absolute top-0 left-0 z-20",children:i.jsx(E.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},className:"bg-gray-800/80 dark:bg-gray-900/80 backdrop-blur-sm p-3 rounded-full border border-gray-700 text-white hover:bg-gray-700 transition-all duration-300 shadow-lg flex items-center justify-center",onClick:()=>n(-1),"aria-label":"返回上一页",children:i.jsx("i",{className:"fa-solid fa-arrow-left text-xl"})})}),i.jsxs(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"flex flex-col md:flex-row items-center justify-between pt-12 pb-4",children:[i.jsxs("div",{className:"mb-4 md:mb-0",children:[i.jsx("h1",{className:"text-3xl md:text-4xl font-bold bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent mb-2",children:"人物关系"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400 max-w-2xl",children:"探索角色之间的关系网络，创建和管理自定义关系图"})]}),i.jsxs("div",{className:"flex flex-wrap gap-3",children:[i.jsxs("button",{onClick:()=>Kr(),className:"bg-gray-800 hover:bg-gray-700 text-white font-medium py-2 px-4 rounded-lg transition-colors duration-200 flex items-center",children:[i.jsx("i",{className:"fa-solid fa-arrows-rotate mr-2"})," 重置视图"]}),i.jsxs("button",{onClick:()=>L(!0),className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white font-medium py-2 px-4 rounded-lg transition-colors duration-200 flex items-center",children:[i.jsx("i",{className:"fa-solid fa-save mr-2"})," 保存方案"]}),i.jsxs("button",{onClick:()=>Fe(!0),className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-lg transition-colors duration-200 flex items-center",children:[i.jsx("i",{className:"fa-solid fa-download mr-2"})," 导出"]}),i.jsxs("label",{className:"bg-green-600 hover:bg-green-700 text-white font-medium py-2 px-4 rounded-lg transition-colors duration-200 flex items-center cursor-pointer",children:[i.jsx("i",{className:"fa-solid fa-upload mr-2"})," 导入",i.jsx("input",{type:"file",accept:".json",onChange:Rn,className:"hidden"})]})]})]})]}),i.jsx("div",{className:"max-w-7xl mx-auto mb-6 relative z-10",children:i.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[i.jsx("span",{className:"text-gray-400 whitespace-nowrap",children:"当前方案："}),i.jsxs("select",{value:o,onChange:V=>jn(V.target.value),className:"bg-gray-800 border border-gray-700 text-white rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500",children:[i.jsx("option",{value:"default",children:"默认关系图"}),Y.map(V=>i.jsx("option",{value:V.id,children:V.name},V.id))]}),o!=="default"&&i.jsx("button",{onClick:()=>Gr(o),className:"text-red-400 hover:text-red-300 transition-colors duration-200",children:i.jsx("i",{className:"fa-solid fa-trash-alt"})}),i.jsx("div",{className:"ml-auto",children:i.jsxs("button",{onClick:Ea,className:"bg-red-600 hover:bg-red-700 text-white font-medium py-2 px-4 rounded-lg transition-colors duration-200 flex items-center",children:[i.jsx("i",{className:"fa-solid fa-eraser mr-2"})," 清空关系图"]})})]})}),i.jsx("div",{className:"max-w-7xl mx-auto relative z-10",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6",children:[i.jsxs("div",{className:"lg:col-span-3 bg-gray-800/50 dark:bg-gray-900/50 backdrop-blur-sm rounded-xl p-4 border border-gray-700 h-[calc(100vh-240px)] overflow-hidden flex flex-col",children:[i.jsxs("div",{className:"mb-4",children:[i.jsxs("h2",{className:"text-lg font-bold text-white mb-3 flex items-center",children:[i.jsx("i",{className:"fa-solid fa-users text-purple-400 mr-2"}),"角色列表"]}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"text",placeholder:"搜索角色...",value:b,onChange:V=>v(V.target.value),className:"w-full px-4 py-2 pl-10 bg-gray-900 border border-gray-700 text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"}),i.jsx("i",{className:"fa-solid fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"})]})]}),i.jsx("div",{className:"flex-1 overflow-y-auto pr-2",children:i.jsx("div",{className:"space-y-2",children:k.map(V=>i.jsx(E.div,{className:`p-3 rounded-lg border transition-all duration-200 ${p.includes(V.id)?"bg-gray-700 border-purple-500":"bg-gray-900 border-gray-700 hover:bg-gray-800"} cursor-move`,draggable:!0,onDragStart:te=>gr(te,V.id),whileHover:{x:5},whileTap:{scale:.98},children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden",children:i.jsx("img",{src:V.avatar,alt:V.name,className:"w-full h-full object-cover"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium text-white",children:V.name}),i.jsx("p",{className:"text-xs text-gray-400",children:V.faction})]})]}),!p.includes(V.id)&&i.jsx("button",{onClick:()=>Re(V.id),className:"text-purple-400 hover:text-purple-300 transition-colors duration-200",children:i.jsx("i",{className:"fa-solid fa-plus-circle"})})]})},V.id))})})]}),i.jsx("div",{className:"lg:col-span-6 relative",children:i.jsxs("div",{ref:t,className:"bg-gray-800/50 dark:bg-gray-900/50 backdrop-blur-sm rounded-xl border border-gray-700 h-[calc(100vh-240px)] overflow-hidden",onWheel:sn,onMouseDown:za,onMouseMove:Pa,onMouseUp:mr,onMouseLeave:mr,onDragOver:xr,onDrop:yr,children:[i.jsx("svg",{ref:s,className:"w-full h-full",viewBox:"0 0 800 600",style:{cursor:je?"grabbing":"grab"},children:i.jsx("g",{})}),T&&A&&i.jsxs("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 bg-purple-900/80 text-white px-4 py-2 rounded-full text-sm backdrop-blur-sm z-10",children:[i.jsx("i",{className:"fa-solid fa-arrow-right-to-bracket mr-1"}),"点击目标角色创建关系，或按ESC取消"]}),!u||u.nodes.length===0&&i.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-gray-400",children:[i.jsx("i",{className:"fa-solid fa-users-slash text-5xl mb-4"}),i.jsx("p",{className:"text-xl font-medium",children:"暂无角色"}),i.jsx("p",{className:"text-sm mt-2",children:"从左侧列表拖拽角色到这里开始创建关系图"})]}),i.jsx("div",{className:"absolute bottom-4 right-4 bg-gray-900/80 text-white px-4 py-2 rounded-lg text-sm backdrop-blur-sm z-10",children:i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("i",{className:"fa-solid fa-mouse-pointer mr-2 text-purple-400"}),i.jsx("span",{children:"点击选择"})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("i",{className:"fa-solid fa-hand mr-2 text-purple-400"}),i.jsx("span",{children:"拖动移动节点"})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("i",{className:"fa-solid fa-mouse mr-2 text-purple-400"}),i.jsx("span",{children:"滚轮缩放"})]})]})})]})}),i.jsx("div",{className:`lg:col-span-3 ${De?"block":"hidden lg:block"}`,children:i.jsxs("div",{className:"bg-gray-800/50 dark:bg-gray-900/50 backdrop-blur-sm rounded-xl p-4 border border-gray-700 h-[calc(100vh-240px)] overflow-y-auto",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsxs("h2",{className:"text-lg font-bold text-white flex items-center",children:[i.jsx("i",{className:"fa-solid fa-sliders text-purple-400 mr-2"}),"编辑面板"]}),i.jsx("button",{onClick:()=>xe(!De),className:"lg:hidden text-gray-400 hover:text-white transition-colors duration-200",children:i.jsx("i",{className:"fa-solid fa-times"})})]}),N?Xr():M?Zr():i.jsxs("div",{className:"text-center py-8 text-gray-400",children:[i.jsx("i",{className:"fa-solid fa-hand-pointer text-4xl mb-4"}),i.jsx("p",{children:"选择一个角色或关系来编辑"})]})]})}),!De&&i.jsx("button",{onClick:()=>xe(!0),className:"lg:hidden fixed bottom-4 right-4 bg-purple-600 hover:bg-purple-700 text-white w-12 h-12 rounded-full flex items-center justify-center shadow-lg z-30",children:i.jsx("i",{className:"fa-solid fa-sliders"})})]})}),i.jsx(dr,{children:ie&&i.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:()=>L(!1),children:i.jsxs(E.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:"bg-gray-800 rounded-xl p-6 border border-gray-700 max-w-md w-full",onClick:V=>V.stopPropagation(),children:[i.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"保存关系图方案"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"方案名称"}),i.jsx("input",{type:"text",value:K,onChange:V=>ze(V.target.value),placeholder:"输入方案名称",className:"w-full bg-gray-900 border border-gray-700 text-white rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"方案描述（可选）"}),i.jsx("textarea",{value:Pe,onChange:V=>Me(V.target.value),placeholder:"输入方案描述",className:"w-full bg-gray-900 border border-gray-700 text-white rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500 min-h-[80px]"})]})]}),i.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[i.jsx("button",{onClick:()=>L(!1),className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors duration-200",children:"取消"}),i.jsx("button",{onClick:pr,className:"px-4 py-2 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white rounded-lg transition-colors duration-200",disabled:!K.trim(),children:"保存"})]})]})})}),i.jsx(dr,{children:Ie&&i.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:()=>Fe(!1),children:i.jsxs(E.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:"bg-gray-800 rounded-xl p-6 border border-gray-700 max-w-md w-full",onClick:V=>V.stopPropagation(),children:[i.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"导出关系图"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"导出格式"}),i.jsxs("div",{className:"flex space-x-4",children:[i.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[i.jsx("input",{type:"radio",name:"exportFormat",value:"json",checked:Le==="json",onChange:()=>We("json"),className:"accent-purple-500"}),i.jsx("span",{className:"text-white",children:"JSON 文件"})]}),i.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[i.jsx("input",{type:"radio",name:"exportFormat",value:"image",checked:Le==="image",onChange:()=>We("image"),className:"accent-purple-500"}),i.jsx("span",{className:"text-white",children:"图片（开发中）"})]})]})]}),i.jsx("div",{className:"p-3 bg-gray-700 rounded-lg",children:i.jsxs("p",{className:"text-sm text-gray-300",children:[i.jsx("i",{className:"fa-solid fa-circle-info text-blue-400 mr-2"}),"JSON 格式包含完整的关系图数据，可用于备份或在其他设备上导入"]})})]}),i.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[i.jsx("button",{onClick:()=>Fe(!1),className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors duration-200",children:"取消"}),i.jsx("button",{onClick:In,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors duration-200",children:"导出"})]})]})})}),i.jsx("footer",{className:"max-w-7xl mx-auto mt-8 text-center text-gray-500 text-sm relative z-10",children:i.jsx("p",{children:"© 2025 植物与僵尸关系图谱 - 探索角色之间的复杂关系"})})]})},Rk=j.createContext(void 0),Dk=({children:e})=>{const{theme:n,toggleTheme:t}=Ta();return i.jsx(Rk.Provider,{value:{theme:n,toggleTheme:t},children:e})},Lk=()=>{const[e,n]=j.useState("stopped"),[t,s]=j.useState({volume:70,isLooping:!0,isMuted:!1}),[o,c]=j.useState(null),[u,f]=j.useState(0),h=[{id:"farewell_song",name:"诀别歌",duration:180,artist:"游戏原声"}],m=j.useCallback((N="farewell_song")=>{const C=h.find(M=>M.id===N);C&&(c(C),n("playing"),console.log(`开始播放音乐: ${C.name}`))},[h]),p=j.useCallback(()=>{e==="playing"&&(n("paused"),console.log("音乐已暂停"))},[e]),y=j.useCallback(()=>{n("stopped"),f(0),console.log("音乐已停止")},[]),b=j.useCallback(()=>{e==="playing"?p():o?m(o.id):m()},[e,o,m,p]),v=j.useCallback(N=>{const C=Math.max(0,Math.min(100,N));s(M=>({...M,volume:C})),console.log(`音量设置为: ${C}%`)},[]),k=j.useCallback(()=>{s(N=>{const C=!N.isMuted;return console.log(`静音状态: ${C}`),{...N,isMuted:C}})},[]),S=j.useCallback(()=>{s(N=>({...N,isLooping:!N.isLooping})),console.log(`循环播放: ${!t.isLooping}`)},[t.isLooping]);return j.useEffect(()=>{let N;return e==="playing"&&o&&(N=setInterval(()=>{f(C=>C>=100&&t.isLooping?0:C>=100&&!t.isLooping?(n("stopped"),100):C+100/o.duration*.5)},500)),()=>{N&&clearInterval(N)}},[e,o,t.isLooping]),j.useEffect(()=>()=>{y()},[y]),{musicState:e,config:t,currentTrack:o,progress:u,tracks:h,play:m,pause:p,stop:y,togglePlay:b,setVolume:v,toggleMute:k,toggleLoop:S}},Ok=()=>{const{musicState:e,config:n,currentTrack:t,progress:s,togglePlay:o,toggleMute:c,play:u}=Lk();j.useEffect(()=>{if(!(localStorage.getItem("autoPlayDisabled")==="true")&&!t){const p=setTimeout(()=>{u("farewell_song")},1e3);return()=>clearTimeout(p)}},[t,u]);const f=(m,p)=>{const y=Math.floor(m*p/100),b=Math.floor(y/60),v=y%60;return`${b}:${v<10?"0":""}${v}`},h=t||{name:"诀别歌",duration:180,artist:"游戏原声"};return i.jsxs(E.div,{className:"fixed bottom-4 right-4 z-50 bg-gray-800/90 backdrop-blur-md rounded-full shadow-lg border border-gray-700 p-2 flex items-center space-x-3 transition-all duration-300 hover:bg-gray-800",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[i.jsx(E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:o,className:`w-10 h-10 flex items-center justify-center rounded-full ${e==="playing"?"bg-red-600 text-white":"bg-green-600 text-white"}`,children:e==="playing"?i.jsx("i",{className:"fa-solid fa-pause"}):i.jsx("i",{className:"fa-solid fa-play"})}),i.jsx(E.div,{className:"hidden md:flex items-center max-w-[150px] overflow-hidden",initial:{opacity:0},whileHover:{opacity:1},transition:{duration:.2},children:i.jsxs("div",{className:"ml-2 mr-3",children:[i.jsx("div",{className:"text-xs font-medium text-white truncate",children:h.name}),i.jsx("div",{className:"text-xs text-gray-400 truncate",children:h.artist})]})}),i.jsx(E.div,{className:"hidden md:block w-32 h-1 bg-gray-700 rounded-full overflow-hidden",initial:{opacity:0},whileHover:{opacity:1},transition:{duration:.2},children:i.jsx("div",{className:"h-full bg-gradient-to-r from-green-400 to-green-600 rounded-full",style:{width:`${s}%`}})}),i.jsxs(E.div,{className:"hidden md:text-xs text-gray-400 min-w-[35px] text-center",initial:{opacity:0},whileHover:{opacity:1},transition:{duration:.2},children:[f(h.duration,s)," / ",f(h.duration,100)]}),i.jsxs(E.div,{className:"flex items-center",initial:{opacity:0},whileHover:{opacity:1},transition:{duration:.2},children:[i.jsx("button",{onClick:c,className:"text-gray-400 hover:text-white p-1",children:n.isMuted||n.volume===0?i.jsx("i",{className:"fa-solid fa-volume-xmark"}):n.volume<50?i.jsx("i",{className:"fa-solid fa-volume-low"}):i.jsx("i",{className:"fa-solid fa-volume-high"})}),i.jsx("div",{className:"hidden md:block w-20 h-1 bg-gray-700 rounded-full overflow-hidden mx-2",children:i.jsx("div",{className:"h-full bg-gray-400 rounded-full",style:{width:`${n.isMuted?0:n.volume}%`}})})]}),e==="playing"&&i.jsx(E.div,{className:"absolute -top-16 -left-16 w-32 h-32 bg-green-500 rounded-full opacity-10 pointer-events-none",animate:{scale:[1,1.2,1],opacity:[.1,.15,.1]},transition:{duration:3,repeat:1/0,repeatType:"reverse"}})]})};function $k(){return i.jsxs(Dk,{children:[i.jsxs(Qb,{children:[i.jsx(Bn,{path:"/",element:i.jsx(kp,{})}),i.jsx(Bn,{path:"/guidebook",element:i.jsx(z3,{})}),i.jsx(Bn,{path:"/story",element:i.jsx(P3,{})}),i.jsx(Bn,{path:"/side-stories",element:i.jsx(E3,{})}),i.jsx(Bn,{path:"/story-branch",element:i.jsx(M3,{})}),i.jsx(Bn,{path:"/story-branch/major-events",element:i.jsx(A3,{})}),i.jsx(Bn,{path:"/story-branch/introduction",element:i.jsx(I3,{})}),i.jsx(Bn,{path:"/runtime",element:i.jsx(kp,{})}),i.jsx(Bn,{path:"/character-relationships",element:i.jsx(Ik,{})})]}),i.jsx(Ok,{})]})}ob.createRoot(document.getElementById("root")).render(i.jsx(ai.StrictMode,{children:i.jsx(jv,{children:i.jsx($k,{})})}));
